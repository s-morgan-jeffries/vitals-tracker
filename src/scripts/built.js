!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=K.type(t);return"function"===n||K.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(K.isFunction(e))return K.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return K.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return K.filter(e,t,n);e=K.filter(e,t)}return K.grep(t,function(t){return B.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return K.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){J.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+Math.random()}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(we,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?K.parseJSON(n):n}catch(r){}ye.set(t,e,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function h(){try{return J.activeElement}catch(t){}}function f(t,e){return K.nodeName(t,"table")&&K.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Le.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,i,r,o,a,s,u,c;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)K.event.add(e,r,c[r][n])}ye.hasData(t)&&(s=ye.access(t),u=K.extend({},s),ye.set(e,u))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&K.nodeName(t,e)?K.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,r=K(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:K.css(r[0],"display");return r.detach(),o}function w(t){var e=J,n=Ie[t];return n||(n=b(t,e),"none"!==n&&n||($e=($e||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=$e[0].contentDocument,e.write(),e.close(),n=b(t,e),$e.detach()),Ie[t]=n),n}function x(t,e,n){var i,r,o,a,s=t.style;return n=n||Ve(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||K.contains(t.ownerDocument,t)||(a=K.style(t,e)),He.test(a)&&qe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Xe.length;r--;)if(e=Xe[r]+n,e in t)return e;return i}function M(t,e,n){var i=Ye.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function C(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=K.css(t,n+_e[o],!0,r)),i?("content"===n&&(a-=K.css(t,"padding"+_e[o],!0,r)),"margin"!==n&&(a-=K.css(t,"border"+_e[o]+"Width",!0,r))):(a+=K.css(t,"padding"+_e[o],!0,r),"padding"!==n&&(a+=K.css(t,"border"+_e[o]+"Width",!0,r)));return a}function S(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Ve(t),a="border-box"===K.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=x(t,e,o),(0>r||null==r)&&(r=t.style[e]),He.test(r))return r;i=a&&(Z.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+C(t,e,n||(a?"border":"content"),i,o)+"px"}function E(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(o[a]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=ke(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:K.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function T(t,e,n,i,r){return new T.prototype.init(t,e,n,i,r)}function D(){return setTimeout(function(){Ze=void 0}),Ze=K.now()}function F(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=_e[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function A(t,e,n){for(var i,r=(nn[e]||[]).concat(nn["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function N(t,e,n){var i,r,o,a,s,u,c,l,h=this,f={},d=t.style,p=t.nodeType&&ke(t),g=ve.get(t,"fxshow");n.queue||(s=K._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,K.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=K.css(t,"display"),l="none"===c?ve.get(t,"olddisplay")||w(t.nodeName):c,"inline"===l&&"none"===K.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Qe.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}f[i]=g&&g[i]||K.style(t,i)}else c=void 0;if(K.isEmptyObject(f))"inline"===("none"===c?w(t.nodeName):c)&&(d.display=c);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!p),p?K(t).show():h.done(function(){K(t).hide()}),h.done(function(){var e;ve.remove(t,"fxshow");for(e in f)K.style(t,e,f[e])});for(i in f)a=A(p?g[i]:0,i,h),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function O(t,e){var n,i,r,o,a;for(n in t)if(i=K.camelCase(n),r=e[i],o=t[n],K.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=K.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function R(t,e,n){var i,r,o=0,a=en.length,s=K.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Ze||D(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),1>o&&u?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ze||D(),duration:n.duration,tweens:[],createTween:function(e,n){var i=K.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),l=c.props;for(O(l,c.opts.specialEasing);a>o;o++)if(i=en[o].call(c,t,l,c.opts))return i;return K.map(l,A,c),K.isFunction(c.opts.start)&&c.opts.start.call(t,c),K.fx.timer(K.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(K.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function L(t,e,n,i){function r(s){var u;return o[s]=!0,K.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),u}var o={},a=t===_n;return r(e.dataTypes[0])||!o["*"]&&r("*")}function P(t,e){var n,i,r=K.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&K.extend(!0,t,i),t}function z(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function $(t,e,n,i){var r,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function I(t,e,n,i){var r;if(K.isArray(e))K.each(e,function(e,r){n||Sn.test(t)?i(t,r):I(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==K.type(e))i(t,e);else for(r in e)I(t+"["+r+"]",e[r],n,i)}function q(t){return K.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H=[],V=H.slice,U=H.concat,Y=H.push,B=H.indexOf,W={},G=W.toString,X=W.hasOwnProperty,Z={},J=t.document,Q="2.1.1",K=function(t,e){return new K.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};K.fn=K.prototype={jquery:Q,constructor:K,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=K.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return K.each(this,t,e)},map:function(t){return this.pushStack(K.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:H.sort,splice:H.splice},K.extend=K.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(K.isPlainObject(i)||(r=K.isArray(i)))?(r?(r=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[e]=K.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},K.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==K.type(t)||t.nodeType||K.isWindow(t)?!1:t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?W[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=K.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?K.merge(i,"string"==typeof t?[t]:t):Y.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:B.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&u.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&u.push(r);return U.apply([],u)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),K.isFunction(t)?(i=V.call(arguments,2),r=function(){return t.apply(e||this,i.concat(V.call(arguments)))},r.guid=t.guid=t.guid||K.guid++,r):void 0},now:Date.now,support:Z}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()});var re=function(t){function e(t,e,n,i){var r,o,a,s,u,c,h,d,p,g;if((e?e.ownerDocument||e:I)!==N&&A(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(R&&!i){if(r=ye.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&z(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return K.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&x.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!j||!j.test(t))){if(d=h=$,p=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(h=e.getAttribute("id"))?d=h.replace(we,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+f(c[u]);p=be.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return K.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return E(t.replace(ue,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[$]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function l(t){return t&&typeof t.getElementsByTagName!==W&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,u,c=[q,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[$]||(e[$]={}),(s=u[i])&&s[0]===q&&s[1]===o)return c[2]=s[2];if(u[i]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,c=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),c&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[$]&&(r=v(r)),o&&!o[$]&&(o=v(o,a)),i(function(i,a,s,u){var c,l,h,f=[],d=[],p=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,f,t,s,u),b=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(c=m(b,d),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(b[d[l]]=!(y[d[l]]=h));if(i){if(o||t){if(o){for(c=[],l=b.length;l--;)(h=b[l])&&c.push(y[l]=h);o(null,b=[],c,u)}for(l=b.length;l--;)(h=b[l])&&(c=o?ee.call(i,h):f[l])>-1&&(i[c]=!(a[c]=h))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],a=o||_.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),c=d(function(t){return ee.call(e,t)>-1},a,!0),l=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?u(t,n,i):c(t,n,i))}];r>s;s++)if(n=_.relative[t[s].type])l=[d(p(l),n)];else{if(n=_.filter[t[s].type].apply(null,t[s].matches),n[$]){for(i=++s;r>i&&!_.relative[t[i].type];i++);return v(s>1&&p(l),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&f(t))}l.push(n)}return p(l)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,c){var l,h,f,d=0,p="0",g=i&&[],v=[],y=T,b=i||o&&_.find.TAG("*",c),w=q+=null==y?1:Math.random()||.1,x=b.length;for(c&&(T=a!==N&&a);p!==x&&null!=(l=b[p]);p++){if(o&&l){for(h=0;f=t[h++];)if(f(l,a,s)){u.push(l);break}c&&(q=w)}r&&((l=!f&&l)&&d--,i&&g.push(l))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(i){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(u));v=m(v)}K.apply(u,v),c&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(q=w,T=y),g};return r?i(a):a}var w,x,_,k,M,C,S,E,T,D,F,A,N,O,R,j,L,P,z,$="sizzle"+-new Date,I=t.document,q=0,H=0,V=n(),U=n(),Y=n(),B=function(t,e){return t===e&&(F=!0),0},W="undefined",G=1<<31,X={}.hasOwnProperty,Z=[],J=Z.pop,Q=Z.push,K=Z.push,te=Z.slice,ee=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=re.replace("w","w#"),ae="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ie+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",ue=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),le=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),fe=new RegExp(se),de=new RegExp("^"+oe+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),_e=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{K.apply(Z=te.call(I.childNodes),I.childNodes),Z[I.childNodes.length].nodeType}catch(ke){K={apply:Z.length?function(t,e){Q.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},M=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:I,i=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,O=n.documentElement,R=!M(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(n.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=r(function(t){return O.appendChild(t).id=$,!n.getElementsByName||!n.getElementsByName($).length}),x.getById?(_.find.ID=function(t,e){if(typeof e.getElementById!==W&&R){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(xe,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(xe,_e);return function(t){var n=typeof t.getAttributeNode!==W&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==W&&R?e.getElementsByClassName(t):void 0},L=[],j=[],(x.qsa=ve.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&j.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||j.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(x.matchesSelector=ve.test(P=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){x.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),L.push("!=",se)}),j=j.length&&new RegExp(j.join("|")),L=L.length&&new RegExp(L.join("|")),e=ve.test(O.compareDocumentPosition),z=e||ve.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},B=e?function(t,e){if(t===e)return F=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===I&&z(I,t)?-1:e===n||e.ownerDocument===I&&z(I,e)?1:D?ee.call(D,t)-ee.call(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return F=!0,0;var i,r=0,o=t.parentNode,s=e.parentNode,u=[t],c=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:D?ee.call(D,t)-ee.call(D,e):0;if(o===s)return a(t,e);for(i=t;i=i.parentNode;)u.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;u[r]===c[r];)r++;return r?a(u[r],c[r]):u[r]===I?-1:c[r]===I?1:0},n):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&A(t),n=n.replace(he,"='$1']"),!(!x.matchesSelector||!R||L&&L.test(n)||j&&j.test(n)))try{var i=P.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t);var n=_.attrHandle[e.toLowerCase()],i=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==i?i:x.attributes||!R?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(F=!x.detectDuplicates,D=!x.sortStable&&t.slice(0),t.sort(B),F){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(l=m[$]||(m[$]={}),c=l[t]||[],d=c[0]===q&&c[1],f=c[0]===q&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[q,d,f];break}}else if(y&&(c=(e[$]||(e[$]={}))[t])&&c[0]===q)f=c[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[$]||(h[$]={}))[t]=[q,f]),h!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[$]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=ee.call(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(ue,"$1"));return r[$]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,_e).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=u(w);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,C=e.tokenize=function(t,n){var i,r,o,a,s,u,c,l=U[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=_.preFilter;s;){(!i||(r=ce.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ue," ")}),s=s.slice(i.length));for(a in _.filter)!(r=pe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,u).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=Y[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[$]?i.push(o):r.push(o);o=Y(t,b(r,i)),o.selector=t}return o},E=e.select=function(t,e,n,i){var r,o,a,s,u,c="function"==typeof t&&t,h=!i&&C(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&R&&_.relative[o[1].type]){if(e=(_.find.ID(a.matches[0].replace(xe,_e),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((u=_.find[s])&&(i=u(a.matches[0].replace(xe,_e),be.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return K.apply(n,i),n;break}}return(c||S(t,h))(i,e,!R,n,be.test(t)&&l(e.parentNode)||e),n},x.sortStable=$.split("").sort(B).join("")===$,x.detectDuplicates=!!F,A(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);K.find=re,K.expr=re.selectors,K.expr[":"]=K.expr.pseudos,K.unique=re.uniqueSort,K.text=re.getText,K.isXMLDoc=re.isXML,K.contains=re.contains;var oe=K.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;K.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?K.find.matchesSelector(i,t)?[i]:[]:K.find.matches(t,K.grep(e,function(t){return 1===t.nodeType}))},K.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(K(t).filter(function(){for(e=0;n>e;e++)if(K.contains(r[e],this))return!0
}));for(e=0;n>e;e++)K.find(t,r[e],i);return i=this.pushStack(n>1?K.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&oe.test(t)?K(t):t||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=K.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ce.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof K?e[0]:e,K.merge(this,K.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),ae.test(n[1])&&K.isPlainObject(e))for(n in e)K.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):K.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(K):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))};le.prototype=K.fn,ue=K(J);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&K(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),K.fn.extend({has:function(t){var e=K(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(K.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=oe.test(t)||"string"!=typeof t?K(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(t){return t?"string"==typeof t?B.call(K(t),this[0]):B.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(K.unique(K.merge(this.get(),K(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,n){return K.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,n){return K.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return K.dir(t,"previousSibling",n)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return t.contentDocument||K.merge([],t.childNodes)}},function(t,e){K.fn[t]=function(n,i){var r=K.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=K.filter(i,r)),this.length>1&&(fe[t]||K.unique(r),he.test(t)&&r.reverse()),this.pushStack(r)}});var de=/\S+/g,pe={};K.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):K.extend({},t);var e,n,i,r,a,s,u=[],c=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,s=r||0,r=0,a=u.length,i=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function o(e){K.each(e,function(e,n){var i=K.type(n);"function"===i?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=u.length:e&&(r=n,l(e))}return this},remove:function(){return u&&K.each(arguments,function(t,e){for(var n;(n=K.inArray(e,u,n))>-1;)u.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?K.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],i?c.push(e):l(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred(function(n){K.each(e,function(e,o){var a=K.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?K.extend(t,i):i}},r={};return i.pipe=i.then,K.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=V.call(arguments),a=o.length,s=1!==a||t&&K.isFunction(t.promise)?a:0,u=1===s?t:K.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?V.call(arguments):r,i===e?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&K.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(u.reject).progress(c(r,n,e)):--s;return s||u.resolveWith(i,o),u.promise()}});var ge;K.fn.ready=function(t){return K.ready.promise().done(t),this},K.extend({isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){(t===!0?--K.readyWait:K.isReady)||(K.isReady=!0,t!==!0&&--K.readyWait>0||(ge.resolveWith(J,[K]),K.fn.triggerHandler&&(K(J).triggerHandler("ready"),K(J).off("ready"))))}}),K.ready.promise=function(e){return ge||(ge=K.Deferred(),"complete"===J.readyState?setTimeout(K.ready):(J.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},K.ready.promise();var me=K.access=function(t,e,n,i,r,o,a){var s=0,u=t.length,c=null==n;if("object"===K.type(n)){r=!0;for(s in n)K.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,K.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(K(t),n)})),e))for(;u>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):u?e(t[0],n):o};K.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,K.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(K.isEmptyObject(o))K.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,K.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{K.isArray(e)?i=e.concat(e.map(K.camelCase)):(r=K.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(de)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!K.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;K.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),K.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=K.camelCase(i.slice(5)),u(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,i=K.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),K.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||K.isArray(n)?i=ve.access(t,e,K.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=K.queue(t,e),i=n.length,r=n.shift(),o=K._queueHooks(t,e),a=function(){K.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:K.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),K.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?K.queue(this[0],t):void 0===e?this:this.each(function(){var n=K.queue(this,t,e);K._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&K.dequeue(this,t)})},dequeue:function(t){return this.each(function(){K.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=K.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],ke=function(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)},Me=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ce="undefined";Z.focusinBubbles="onfocusin"in t;var Se=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,c,l,h,f,d,p,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=K.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof K!==Ce&&K.event.triggered!==e.type?K.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],c=e.length;c--;)s=De.exec(e[c])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=K.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=K.event.special[d]||{},l=K.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&K.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),K.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,c,l,h,f,d,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(u=m.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(s=De.exec(e[c])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=K.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||K.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)K.event.remove(t,d+e[c],n,i,!0);K.isEmptyObject(u)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,u,c,l,h,f=[i||J],d=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Te.test(d+K.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[K.expando]?e:new K.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:K.makeArray(n,[e]),h=K.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!K.isWindow(i)){for(u=h.delegateType||d,Te.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||J)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,l=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&K.acceptData(a)&&(e.result=l.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!K.acceptData(i)||c&&K.isFunction(i[d])&&!K.isWindow(i)&&(s=i[c],s&&(i[c]=null),K.event.triggered=d,i[d](),K.event.triggered=void 0,s&&(i[c]=s)),e.result}},dispatch:function(t){t=K.event.fix(t);var e,n,i,r,o,a=[],s=V.call(arguments),u=(ve.get(this,"events")||{})[t.type]||[],c=K.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=K.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((K.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?K(r,this).index(u)>=0:K.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ee.test(r)?this.mouseHooks:Se.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new K.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return K.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=K.extend(new K.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?K.event.trigger(r,null,e):K.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},K.Event=function(t,e){return this instanceof K.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:l):this.type=t,e&&K.extend(this,e),this.timeStamp=t&&t.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(t,e)},K.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!K.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,e);r||i.addEventListener(t,n,!0),ve.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,e)-1;r?ve.access(i,e,r):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),K.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=l;else if(!i)return this;return 1===r&&(o=i,i=function(t){return K().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=K.guid++)),this.each(function(){K.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,K(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){K.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){K.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?K.event.trigger(t,e,n,!0):void 0}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Ne=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,K.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=K.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!u&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,u,c,l=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(r=t[f],r||0===r)if("object"===K.type(r))K.merge(h,r.nodeType?[r]:r);else if(Ne.test(r)){for(o=o||l.appendChild(e.createElement("div")),a=(Ae.exec(r)||["",""])[1].toLowerCase(),s=ze[a]||ze._default,o.innerHTML=s[1]+r.replace(Fe,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;K.merge(h,o.childNodes),o=l.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(l.textContent="",f=0;r=h[f++];)if((!i||-1===K.inArray(r,i))&&(u=K.contains(r.ownerDocument,r),o=v(l.appendChild(r),"script"),u&&g(o),n))for(c=0;r=o[c++];)je.test(r.type||"")&&n.push(r);return l},cleanData:function(t){for(var e,n,i,r,o=K.event.special,a=0;void 0!==(n=t[a]);a++){if(K.acceptData(n)&&(r=n[ve.expando],r&&(e=ve.cache[r]))){if(e.events)for(i in e.events)o[i]?K.event.remove(n,i):K.removeEvent(n,i,e.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),K.fn.extend({text:function(t){return me(this,function(t){return void 0===t?K.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?K.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||K.cleanData(v(n)),n.parentNode&&(e&&K.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(K.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return K.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Oe.test(t)&&!ze[(Ae.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Fe,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(K.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,K.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var n,i,r,o,a,s,u=0,c=this.length,l=this,h=c-1,f=t[0],g=K.isFunction(f);if(g||c>1&&"string"==typeof f&&!Z.checkClone&&Re.test(f))return this.each(function(n){var i=l.eq(n);g&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(c&&(n=K.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=K.map(v(n,"script"),d),o=r.length;c>u;u++)a=n,u!==h&&(a=K.clone(a,!0,!0),o&&K.merge(r,v(a,"script"))),e.call(this[u],a,u);if(o)for(s=r[r.length-1].ownerDocument,K.map(r,p),u=0;o>u;u++)a=r[u],je.test(a.type||"")&&!ve.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(Pe,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){K.fn[t]=function(t){for(var n,i=[],r=K(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),K(r[a])[e](n),Y.apply(i,n.get());return this.pushStack(i)}});var $e,Ie={},qe=/^margin/,He=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),Ve=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&K.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),e}}))}(),K.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var Ue=/^(none|table(?!-c[ea]).+)/,Ye=new RegExp("^("+xe+")(.*)$","i"),Be=new RegExp("^([+-])=("+xe+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=K.camelCase(e),u=t.style;return e=K.cssProps[s]||(K.cssProps[s]=k(u,s)),a=K.cssHooks[e]||K.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Be.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(K.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||K.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=K.camelCase(e);return e=K.cssProps[s]||(K.cssProps[s]=k(t.style,s)),a=K.cssHooks[e]||K.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=x(t,e,i)),"normal"===r&&e in Ge&&(r=Ge[e]),""===n||n?(o=parseFloat(r),n===!0||K.isNumeric(o)?o||0:r):r}}),K.each(["height","width"],function(t,e){K.cssHooks[e]={get:function(t,n,i){return n?Ue.test(K.css(t,"display"))&&0===t.offsetWidth?K.swap(t,We,function(){return S(t,e,i)}):S(t,e,i):void 0},set:function(t,n,i){var r=i&&Ve(t);return M(t,n,i?C(t,e,i,"border-box"===K.css(t,"boxSizing",!1,r),r):0)}}}),K.cssHooks.marginRight=_(Z.reliableMarginRight,function(t,e){return e?K.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),K.each({margin:"",padding:"",border:"Width"},function(t,e){K.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+_e[i]+e]=o[i]||o[i-2]||o[0];return r}},qe.test(t)||(K.cssHooks[t+e].set=M)}),K.fn.extend({css:function(t,e){return me(this,function(t,e,n){var i,r,o={},a=0;if(K.isArray(e)){for(i=Ve(t),r=e.length;r>a;a++)o[e[a]]=K.css(t,e[a],!1,i);return o}return void 0!==n?K.style(t,e,n):K.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ke(this)?K(this).show():K(this).hide()})}}),K.Tween=T,T.prototype={constructor:T,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var t=T.propHooks[this.prop];return t&&t.get?t.get(this):T.propHooks._default.get(this)},run:function(t){var e,n=T.propHooks[this.prop];return this.pos=e=this.options.duration?K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.fx=T.prototype.init,K.fx.step={};var Ze,Je,Qe=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[N],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Ke.exec(e),o=r&&r[3]||(K.cssNumber[t]?"":"px"),a=(K.cssNumber[t]||"px"!==o&&+i)&&Ke.exec(K.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,K.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--u)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};K.Animation=K.extend(R,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),K.speed=function(t,e,n){var i=t&&"object"==typeof t?K.extend({},t):{complete:n||!n&&e||K.isFunction(t)&&t,duration:t,easing:n&&e||e&&!K.isFunction(e)&&e};return i.duration=K.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in K.fx.speeds?K.fx.speeds[i.duration]:K.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){K.isFunction(i.old)&&i.old.call(this),i.queue&&K.dequeue(this,i.queue)},i},K.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=K.isEmptyObject(t),o=K.speed(e,n,i),a=function(){var e=R(this,K.extend({},t),o);(r||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=K.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&tn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&K.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=K.timers,a=i?i.length:0;for(n.finish=!0,K.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(t,e){var n=K.fn[e];
K.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,i,r)}}),K.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){K.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),K.timers=[],K.fx.tick=function(){var t,e=0,n=K.timers;for(Ze=K.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||K.fx.stop(),Ze=void 0},K.fx.timer=function(t){K.timers.push(t),t()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Je||(Je=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Je),Je=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(t,e){return t=K.fx?K.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var rn,on,an=K.expr.attrHandle;K.fn.extend({attr:function(t,e){return me(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){K.removeAttr(this,t)})}}),K.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ce?K.prop(t,e,n):(1===o&&K.isXMLDoc(t)||(e=e.toLowerCase(),i=K.attrHooks[e]||(K.expr.match.bool.test(e)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=K.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void K.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=K.propFix[n]||n,K.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&K.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?K.removeAttr(t,n):t.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||K.find.attr;an[e]=function(t,e,i){var r,o;return i||(o=an[e],an[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,an[e]=o),r}});var sn=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(t,e){return me(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[K.propFix[t]||t]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!K.isXMLDoc(t),o&&(e=K.propFix[e]||e,r=K.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(K.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;K.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,u=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];c>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=K.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(K.isFunction(t))return this.each(function(e){K(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];c>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?K.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(K.isFunction(t)?function(n){K(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=K(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Ce||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var cn=/\r/g;K.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=K.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,K(this).val()):t,null==r?r="":"number"==typeof r?r+="":K.isArray(r)&&(r=K.map(r,function(t){return null==t?"":t+""})),e=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=K.valHooks[r.type]||K.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(cn,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(t){var e=K.find.attr(t,"value");return null!=e?e:K.trim(K.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&K.nodeName(n.parentNode,"optgroup"))){if(e=K(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=K.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=K.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(t,e){return K.isArray(e)?t.checked=K.inArray(K(t).val(),e)>=0:void 0}},Z.checkOn||(K.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){K.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),K.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ln=K.now(),hn=/\?/;K.parseJSON=function(t){return JSON.parse(t+"")},K.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+t),e};var fn,dn,pn=/#.*$/,gn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,wn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},_n={},kn="*/".concat("*");try{dn=location.href}catch(Mn){dn=J.createElement("a"),dn.href="",dn=dn.href}fn=wn.exec(dn.toLowerCase())||[],K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:vn.test(fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,K.ajaxSettings),e):P(K.ajaxSettings,t)},ajaxPrefilter:j(xn),ajaxTransport:j(_n),ajax:function(t,e){function n(t,e,n,a){var u,l,v,y,w,_=e;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",x.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=z(h,x,n)),y=$(h,y,x,u),u?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(K.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(K.etag[r]=w)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=y.state,l=y.data,v=y.error,u=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),x.status=t,x.statusText=(e||_)+"",u?p.resolveWith(f,[l,_,x]):p.rejectWith(f,[x,_,v]),x.statusCode(m),m=void 0,c&&d.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?l:v]),g.fireWith(f,[x,_]),c&&(d.trigger("ajaxComplete",[x,h]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,u,c,l,h=K.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?K(f):K.event,p=K.Deferred(),g=K.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=mn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||dn)+"").replace(pn,"").replace(bn,fn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=K.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(u=wn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===fn[1]&&u[2]===fn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(fn[3]||("http:"===fn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=K.param(h.data,h.traditional)),L(xn,h,e,x),2===b)return x;c=h.global,c&&0===K.active++&&K.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!yn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=gn.test(r)?r.replace(gn,"$1_="+ln++):r+(hn.test(r)?"&":"?")+"_="+ln++)),h.ifModified&&(K.lastModified[r]&&x.setRequestHeader("If-Modified-Since",K.lastModified[r]),K.etag[r]&&x.setRequestHeader("If-None-Match",K.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+kn+"; q=0.01":""):h.accepts["*"]);for(l in h.headers)x.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===b))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](h[l]);if(i=L(_n,h,e,x)){x.readyState=1,c&&d.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(_){if(!(2>b))throw _;n(-1,_)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return K.get(t,e,n,"json")},getScript:function(t,e){return K.get(t,void 0,e,"script")}}),K.each(["get","post"],function(t,e){K[e]=function(t,n,i,r){return K.isFunction(n)&&(r=r||i,i=n,n=void 0),K.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){K.fn[e]=function(t){return this.on(e,t)}}),K._evalUrl=function(t){return K.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(t){var e;return K.isFunction(t)?this.each(function(e){K(this).wrapAll(t.call(this,e))}):(this[0]&&(e=K(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(K.isFunction(t)?function(e){K(this).wrapInner(t.call(this,e))}:function(){var e=K(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=K.isFunction(t);return this.each(function(n){K(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)};var Cn=/%20/g,Sn=/\[\]$/,En=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;K.param=function(t,e){var n,i=[],r=function(t,e){e=K.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,function(){r(this.name,this.value)});else for(n in t)I(n,t[n],e,r);return i.join("&").replace(Cn,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=K.prop(this,"elements");return t?K.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!K(this).is(":disabled")&&Dn.test(this.nodeName)&&!Tn.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Fn=0,An={},Nn={0:200,1223:204},On=K.ajaxSettings.xhr();t.ActiveXObject&&K(t).on("unload",function(){for(var t in An)An[t]()}),Z.cors=!!On&&"withCredentials"in On,Z.ajax=On=!!On,K.ajaxTransport(function(t){var e;return Z.cors||On&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),a=++Fn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete An[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(Nn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=An[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),K.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=K("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Rn=[],jn=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Rn.pop()||K.expando+"_"+ln++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(jn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&jn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=K.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(jn,"$1"+r):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||K.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Rn.push(r)),a&&K.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),K.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=ae.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=K.buildFragment([t],e,r),r&&r.length&&K(r).remove(),K.merge([],i.childNodes))};var Ln=K.fn.load;K.fn.load=function(t,e,n){if("string"!=typeof t&&Ln)return Ln.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=K.trim(t.slice(s)),t=t.slice(0,s)),K.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&K.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?K("<div>").append(K.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},K.expr.filters.animated=function(t){return K.grep(K.timers,function(e){return t===e.elem}).length};var Pn=t.document.documentElement;K.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,c,l=K.css(t,"position"),h=K(t),f={};"static"===l&&(t.style.position="relative"),s=h.offset(),o=K.css(t,"top"),u=K.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),K.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):h.css(f)}},K.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){K.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,K.contains(e,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=q(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===K.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),K.nodeName(t[0],"html")||(i=t.offset()),i.top+=K.css(t[0],"borderTopWidth",!0),i.left+=K.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-K.css(n,"marginTop",!0),left:e.left-i.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Pn;t&&!K.nodeName(t,"html")&&"static"===K.css(t,"position");)t=t.offsetParent;return t||Pn})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;K.fn[e]=function(r){return me(this,function(e,r,o){var a=q(e);return void 0===o?a?a[n]:e[r]:void(a?a.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),K.each(["top","left"],function(t,e){K.cssHooks[e]=_(Z.pixelPosition,function(t,n){return n?(n=x(t,e),He.test(n)?K(t).position()[e]+"px":n):void 0})}),K.each({Height:"height",Width:"width"},function(t,e){K.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){K.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return me(this,function(e,n,i){var r;return K.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?K.css(e,n,a):K.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var zn=t.jQuery,$n=t.$;return K.noConflict=function(e){return t.$===K&&(t.$=$n),e&&t.jQuery===K&&(t.jQuery=zn),K},typeof e===Ce&&(t.jQuery=t.$=K),K}),define("jqueryPrivate",["jquery"],function(t){return t}),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,u=i.concat,c=r.toString,l=r.hasOwnProperty,h=i.forEach,f=i.map,d=i.reduce,p=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var M=k.each=k.forEach=function(t,e,i){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var a=k.keys(t),r=0,o=a.length;o>r;r++)if(e.call(i,t[a[r]],a[r],t)===n)return;return t};k.map=k.collect=function(t,e,n){var i=[];return null==t?i:f&&t.map===f?t.map(e,n):(M(t,function(t,r,o){i.push(e.call(n,t,r,o))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return i&&(e=k.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(M(t,function(t,o,a){r?n=e.call(i,n,t,o,a):(n=t,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=k.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=k.keys(t);o=a.length}if(M(t,function(s,u,c){u=a?a[--o]:--o,r?n=e.call(i,n,t[u],u,c):(n=t[u],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(t,e,n){var i;return S(t,function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0}),i},k.filter=k.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(M(t,function(t,r,o){e.call(n,t,r,o)&&i.push(t)}),i)},k.reject=function(t,e,n){return k.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},k.every=k.all=function(t,e,i){e||(e=k.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,i):(M(t,function(t,o,a){return(r=r&&e.call(i,t,o,a))?void 0:n}),!!r)};var S=k.some=k.any=function(t,e,i){e||(e=k.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(M(t,function(t,o,a){return r||(r=e.call(i,t,o,a))?n:void 0}),!!r)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},k.invoke=function(t,e){var n=s.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){return(i?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matches(e))},k.findWhere=function(t,e){return k.find(t,k.matches(e))},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,r=-1/0;return M(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;s>r&&(i=t,r=s)}),i},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return M(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;r>s&&(i=t,r=s)}),i},k.shuffle=function(t){var e,n=0,i=[];return M(t,function(t){e=k.random(n++),i[n-1]=i[e],i[e]=t}),i},k.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,e,n){return e=E(e),k.pluck(k.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,i){var r={};return n=E(n),M(e,function(o,a){var s=n.call(i,o,a,e);t(r,s,o)}),r}};k.groupBy=T(function(t,e,n){k.has(t,e)?t[e].push(n):t[e]=[n]}),k.indexBy=T(function(t,e,n){t[e]=n}),k.countBy=T(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,n,i){n=E(n);for(var r=n.call(i,e),o=0,a=t.length;a>o;){var s=o+a>>>1;n.call(i,t[s])<r?o=s+1:a=s}return o},k.toArray=function(t){return t?k.isArray(t)?s.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:s.call(t,0,e)},k.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var D=function(t,e,n){return e&&k.every(t,k.isArray)?u.apply(n,t):(M(t,function(t){k.isArray(t)||k.isArguments(t)?e?a.apply(n,t):D(t,e,n):n.push(t)}),n)};k.flatten=function(t,e){return D(t,e,[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.partition=function(t,e){var n=[],i=[];return M(t,function(t){(e(t)?n:i).push(t)}),[n,i]},k.uniq=k.unique=function(t,e,n,i){k.isFunction(e)&&(i=n,n=e,e=!1);var r=n?k.map(t,n,i):t,o=[],a=[];return M(r,function(n,i){(e?i&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(t[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.contains(e,t)})})},k.difference=function(t){var e=u.apply(i,s.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=k.pluck(arguments,""+n);return e},k.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);i>r;)o[r++]=t,t+=n;return o};var F=function(){};k.bind=function(t,e){var n,i;if(_&&t.bind===_)return _.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(s.call(arguments)));F.prototype=t.prototype;var r=new F;F.prototype=null;var o=t.apply(r,n.concat(s.call(arguments)));return Object(o)===o?o:r}},k.partial=function(t){var e=s.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},k.bindAll=function(t){var e=s.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return M(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var i=e.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},k.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:k.now(),a=null,o=t.apply(i,r),i=r=null};return function(){var c=k.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return i=this,r=arguments,0>=l?(clearTimeout(a),a=null,s=c,o=t.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(u,l)),o}},k.debounce=function(t,e,n){var i,r,o,a,s,u=function(){var c=k.now()-a;e>c?i=setTimeout(u,e-c):(i=null,n||(s=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,a=k.now();var c=n&&!i;return i||(i=setTimeout(u,e)),c&&(s=t.apply(o,r),o=r=null),s}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return k.partial(e,t)},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=function(t){if(!k.isObject(t))return[];if(x)return x(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return M(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=u.apply(i,s.call(arguments,1));return M(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=u.apply(i,s.call(arguments,1));for(var r in t)k.contains(n,r)||(e[r]=t[r]);return e},k.defaults=function(t){return M(s.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var A=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var u=0,l=!0;if("[object Array]"==r){if(u=t.length,l=u==e.length)for(;u--&&(l=A(t[u],e[u],n,i)););}else{for(var h in t)if(k.has(t,h)&&(u++,!(l=k.has(e,h)&&A(t[h],e[h],n,i))))break;if(l){for(h in e)if(k.has(e,h)&&!u--)break;l=!u}}return n.pop(),i.pop(),l};k.isEqual=function(t,e){return A(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=w||function(t){return"[object Array]"==c.call(t)},k.isObject=function(t){return t===Object(t)},M(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return l.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(e){return e[t]}},k.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},k.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))
},k.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=k.invert(N.escape);var O={escape:new RegExp("["+k.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(N.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(O[t],function(e){return N[t][e]})}}),k.result=function(t,e){if(null==t)return void 0;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){M(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),z.call(this,n.apply(k,t))}})};var R=0;k.uniqueId=function(t){var e=++R+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,function(e,n,i,r,s){return a+=t.slice(o,s).replace(P,function(t){return"\\"+L[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return i(e,k);var u=function(t){return i.call(this,t,k)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},k.chain=function(t){return k(t).chain()};var z=function(t){return this._chain?k(t).chain():t};k.mixin(k),M(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],z.call(this,n)}}),M(["concat","join","slice"],function(t){var e=i[t];k.prototype[t]=function(){return z.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),!function(t,e){function n(t,e){var n,i,r=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(i=e[n]){if(i.test&&i.test(t))return!0;if(i.toLowerCase()===r)return!0}}var i=e.prototype.trim,r=e.prototype.trimRight,o=e.prototype.trimLeft,a=function(t){return 1*t||0},s=function(t,e){if(1>e)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n},u=[].slice,c=function(t){return null==t?"\\s":t.source?t.source:"["+p.escapeRegExp(t)+"]"},l={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},h={};for(var f in l)h[l[f]]=f;h["'"]="#39";var d=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var n=s,i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(i,r){var o,a,s,u,c,l,h,f=1,p=i.length,g="",m=[];for(a=0;p>a;a++)if(g=t(i[a]),"string"===g)m.push(i[a]);else if("array"===g){if(u=i[a],u[2])for(o=r[f],s=0;s<u[2].length;s++){if(!o.hasOwnProperty(u[2][s]))throw new Error(d('[_.sprintf] property "%s" does not exist',u[2][s]));o=o[u[2][s]]}else o=u[1]?r[u[1]]:r[f++];if(/[^s]/.test(u[8])&&"number"!=t(o))throw new Error(d("[_.sprintf] expecting number but found %s",t(o)));switch(u[8]){case"b":o=o.toString(2);break;case"c":o=e.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=u[7]?o.toExponential(u[7]):o.toExponential();break;case"f":o=u[7]?parseFloat(o).toFixed(u[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=e(o))&&u[7]?o.substring(0,u[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(u[8])&&u[3]&&o>=0?"+"+o:o,l=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",h=u[6]-e(o).length,c=u[6]?n(l,h):"",m.push(u[5]?o+c:c+o)}return m.join("")},i.cache={},i.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){r|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");o.push(s[1])}n[2]=o}else r|=2;if(3===r)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}e=e.substring(n[0].length)}return i},i}(),p={VERSION:"2.3.0",isBlank:function(t){return null==t&&(t=""),/^\s*$/.test(t)},stripTags:function(t){return null==t?"":e(t).replace(/<\/?[^>]+>/g,"")},capitalize:function(t){return t=null==t?"":e(t),t.charAt(0).toUpperCase()+t.slice(1)},chop:function(t,n){return null==t?[]:(t=e(t),n=~~n,n>0?t.match(new RegExp(".{1,"+n+"}","g")):[t])},clean:function(t){return p.strip(t).replace(/\s+/g," ")},count:function(t,n){if(null==t||null==n)return 0;t=e(t),n=e(n);for(var i=0,r=0,o=n.length;;){if(r=t.indexOf(n,r),-1===r)break;i++,r+=o}return i},chars:function(t){return null==t?[]:e(t).split("")},swapCase:function(t){return null==t?"":e(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})},escapeHTML:function(t){return null==t?"":e(t).replace(/[&<>"']/g,function(t){return"&"+h[t]+";"})},unescapeHTML:function(t){return null==t?"":e(t).replace(/\&([^;]+);/g,function(t,n){var i;return n in l?l[n]:(i=n.match(/^#x([\da-fA-F]+)$/))?e.fromCharCode(parseInt(i[1],16)):(i=n.match(/^#(\d+)$/))?e.fromCharCode(~~i[1]):t})},escapeRegExp:function(t){return null==t?"":e(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(t,e,n,i){var r=p.chars(t);return r.splice(~~e,~~n,i),r.join("")},insert:function(t,e,n){return p.splice(t,e,0,n)},include:function(t,n){return""===n?!0:null==t?!1:-1!==e(t).indexOf(n)},join:function(){var t=u.call(arguments),e=t.shift();return null==e&&(e=""),t.join(e)},lines:function(t){return null==t?[]:e(t).split("\n")},reverse:function(t){return p.chars(t).reverse().join("")},startsWith:function(t,n){return""===n?!0:null==t||null==n?!1:(t=e(t),n=e(n),t.length>=n.length&&t.slice(0,n.length)===n)},endsWith:function(t,n){return""===n?!0:null==t||null==n?!1:(t=e(t),n=e(n),t.length>=n.length&&t.slice(t.length-n.length)===n)},succ:function(t){return null==t?"":(t=e(t),t.slice(0,-1)+e.fromCharCode(t.charCodeAt(t.length-1)+1))},titleize:function(t){return null==t?"":(t=e(t).toLowerCase(),t.replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()}))},camelize:function(t){return p.trim(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},underscored:function(t){return p.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(t){return p.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(t){return p.titleize(e(t).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(t){return p.capitalize(p.underscored(t).replace(/_id$/,"").replace(/_/g," "))},trim:function(t,n){return null==t?"":!n&&i?i.call(t):(n=c(n),e(t).replace(new RegExp("^"+n+"+|"+n+"+$","g"),""))},ltrim:function(t,n){return null==t?"":!n&&o?o.call(t):(n=c(n),e(t).replace(new RegExp("^"+n+"+"),""))},rtrim:function(t,n){return null==t?"":!n&&r?r.call(t):(n=c(n),e(t).replace(new RegExp(n+"+$"),""))},truncate:function(t,n,i){return null==t?"":(t=e(t),i=i||"...",n=~~n,t.length>n?t.slice(0,n)+i:t)},prune:function(t,n,i){if(null==t)return"";if(t=e(t),n=~~n,i=null!=i?e(i):"...",t.length<=n)return t;var r=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},o=t.slice(0,n+1).replace(/.(?=\W*\w*$)/g,r);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):p.rtrim(o.slice(0,o.length-1)),(o+i).length>t.length?t:t.slice(0,o.length)+i},words:function(t,e){return p.isBlank(t)?[]:p.trim(t,e).split(e||/\s+/)},pad:function(t,n,i,r){t=null==t?"":e(t),n=~~n;var o=0;switch(i?i.length>1&&(i=i.charAt(0)):i=" ",r){case"right":return o=n-t.length,t+s(i,o);case"both":return o=n-t.length,s(i,Math.ceil(o/2))+t+s(i,Math.floor(o/2));default:return o=n-t.length,s(i,o)+t}},lpad:function(t,e,n){return p.pad(t,e,n)},rpad:function(t,e,n){return p.pad(t,e,n,"right")},lrpad:function(t,e,n){return p.pad(t,e,n,"both")},sprintf:d,vsprintf:function(t,e){return e.unshift(t),d.apply(null,e)},toNumber:function(t,e){return t?(t=p.trim(t),t.match(/^-?\d+(?:\.\d+)?$/)?a(a(t).toFixed(~~e)):0/0):0},numberFormat:function(t,e,n,i){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),i="string"==typeof i?i:",";var r=t.split("."),o=r[0],a=r[1]?(n||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+a},strRight:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.indexOf(n):-1;return~i?t.slice(i+n.length,t.length):t},strRightBack:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.lastIndexOf(n):-1;return~i?t.slice(i+n.length,t.length):t},strLeft:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.indexOf(n):-1;return~i?t.slice(0,i):t},strLeftBack:function(t,e){if(null==t)return"";t+="",e=null!=e?""+e:e;var n=t.lastIndexOf(e);return~n?t.slice(0,n):t},toSentence:function(t,e,n,i){e=e||", ",n=n||" and ";var r=t.slice(),o=r.pop();return t.length>2&&i&&(n=p.rtrim(e)+n),r.length?r.join(e)+n+o:o},toSentenceSerial:function(){var t=u.call(arguments);return t[3]=!0,p.toSentence.apply(p,t)},slugify:function(t){if(null==t)return"";var n="",i="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",r=new RegExp(c(n),"g");return t=e(t).toLowerCase().replace(r,function(t){var e=n.indexOf(t);return i.charAt(e)||"-"}),p.dasherize(t.replace(/[^\w\s-]/g,""))},surround:function(t,e){return[e,t,e].join("")},quote:function(t,e){return p.surround(t,e||'"')},unquote:function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t},exports:function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse)$/)&&(t[e]=this[e]);return t},repeat:function(t,n,i){if(null==t)return"";if(n=~~n,null==i)return s(e(t),n);for(var r=[];n>0;r[--n]=t);return r.join(i)},naturalCmp:function(t,n){if(t==n)return 0;if(!t)return-1;if(!n)return 1;for(var i=/(\.\d+)|(\d+)|(\D+)/g,r=e(t).toLowerCase().match(i),o=e(n).toLowerCase().match(i),a=Math.min(r.length,o.length),s=0;a>s;s++){var u=r[s],c=o[s];if(u!==c){var l=parseInt(u,10);if(!isNaN(l)){var h=parseInt(c,10);if(!isNaN(h)&&l-h)return l-h}return c>u?-1:1}}return r.length===o.length?r.length-o.length:n>t?-1:1},levenshtein:function(t,n){if(null==t&&null==n)return 0;if(null==t)return e(n).length;if(null==n)return e(t).length;t=e(t),n=e(n);for(var i,r,o=[],a=0;a<=n.length;a++)for(var s=0;s<=t.length;s++)r=a&&s?t.charAt(s-1)===n.charAt(a-1)?i:Math.min(o[s],o[s-1],i)+1:a+s,i=o[s],o[s]=r;return o.pop()},toBoolean:function(t,e,i){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=p.trim(t),n(t,e||["true","1"])?!0:n(t,i||["false","0"])?!1:void 0)}};p.strip=p.trim,p.lstrip=p.ltrim,p.rstrip=p.rtrim,p.center=p.lrpad,p.rjust=p.lpad,p.ljust=p.rpad,p.contains=p.include,p.q=p.quote,p.toBool=p.toBoolean,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=p),exports._s=p),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return p}),t._=t._||{},t._.string=t._.str=p}(this,String),define("underscorePrivate",["underscore","underscore.string"],function(t,e){var n=window;return t.noConflict(),n._=void 0,t.string=t.str=e,t}),function(t,e){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){{var r=t.Backbone,o=[],a=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,i){if(!c(this,"once",t,[e,i])||!e)return this;var r=this,o=n.once(function(){r.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var r,o,a,s,u,l,h,f;if(!this._events||!c(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),u=0,l=s.length;l>u;u++)if(t=s[u],a=this._events[t]){if(this._events[t]=r=[],e||i)for(h=0,f=a.length;f>h;h++)o=a[h],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&l(n,e),i&&l(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var o=!e&&!i;i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t);for(var a in r)t=r[a],t.off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[a];return this}},u=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)t[e].apply(t,[o[a]].concat(i));return!1}return!0},l=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){s[e]=function(e,i,r){var o=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=n.uniqueId("l"));return o[a]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var f=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,a,s,u,c,l,h;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;a=i.unset,u=i.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)e=o[r],n.isEqual(h[r],e)||s.push(r),n.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,a?delete h[r]:h[r]=e;if(!u){s.length&&(this._pending=i);for(var f=0,d=s.length;d>f;f++)this.trigger("change:"+s[f],this,h[s[f]],i)}if(c)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},P(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,a,s=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var u=this,c=i.success;return i.success=function(t){u.attributes=s;var e=u.parse(t,i);return i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(c&&c(u,t,i),void u.trigger("sync",u,t,i))},P(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),a=this.sync(o,this,i),r&&i.wait&&(this.attributes=s),a},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;P(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(t){f.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(p.prototype,s,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var r,o,a,s;for(r=0,o=t.length;o>r;r++)s=t[r]=this.get(t[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s,e));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var r,o,a,s,u,c,l,h=e.at,d=this.model,p=this.comparator&&null==h&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=e.add,x=e.merge,_=e.remove,k=!p&&w&&_?[]:!1;for(r=0,o=t.length;o>r;r++){if(u=t[r]||{},a=u instanceof f?s=u:u[d.prototype.idAttribute||"id"],c=this.get(a))_&&(b[c.cid]=!0),x&&(u=u===s?s.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),p&&!l&&c.hasChanged(m)&&(l=!0)),t[r]=c;else if(w){if(s=t[r]=this._prepareModel(u,e),!s)continue;v.push(s),this._addReference(s,e)}s=c||s,!k||!s.isNew()&&b[s.id]||k.push(s),b[s.id]=!0}if(_){for(r=0,o=this.length;o>r;++r)b[(s=this.models[r]).cid]||y.push(s);y.length&&this.remove(y,e)}if(v.length||k&&k.length)if(p&&(l=!0),this.length+=v.length,null!=h)for(r=0,o=v.length;o>r;r++)this.models.splice(h+r,0,v[r]);else{k&&(this.models.length=0);var M=k||v;for(r=0,o=M.length;o>r;r++)this.models.push(M[r])}if(l&&this.sort({silent:!0}),!e.silent){for(r=0,o=v.length;o>r;r++)(s=v[r]).trigger("add",s,this,e);(l||k&&k.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},P(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){p.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var b=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(w),o=r[1],a=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,i):this.$el.on(o,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var o=k[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1),"PATCH"===a.type&&_&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,u,r),u};var _=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var M=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,E=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(M.prototype,s,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(r,a),o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(C,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var D=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,N=/msie [\w.]+/,O=/\/$/,R=/#.*$/;D.started=!1,n.extend(D.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(O,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(F,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=N.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(A,"/"),o&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!D.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(R,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new D;var j=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};f.extend=p.extend=M.extend=b.extend=D.extend=j;var L=function(){throw new Error('A "url" property or function must be specified')},P=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}),function(t,e){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,i){return t.Marionette=e(t,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=e(t,n,i)}else t.Marionette=e(t,t.Backbone,t._)}(this,function(t,e,n){!function(t,e){var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this
},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){return t===n?(delete this._indexByCustom[e],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(i){e.isFunction(i[t])&&i[t].apply(i,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._views),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.4",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer}(e,n),function(t,e){var n=t.Wreqr,i=t.Wreqr={};return t.Wreqr.VERSION="1.3.1",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},i.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,n){var i=null;e.isObject(t)&&!e.isFunction(t)&&(i=t.context,t=t.callback),this.setHandler(n,t,i)},this)},setHandler:function(t,e,n){var i={callback:e,context:n};this._wreqrHandlers[t]=i,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),i.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),i.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,n)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,n,i){var r=this.storage.getCommands(t);e.each(r.instances,function(t){n.apply(i,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,i=t.storageType||this.storageType;n=e.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.hasHandler(t)?this.getHandler(t).apply(this,e):void 0}})}(i),i.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),i.Channel=function(){var n=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,i){if(n){i=i||this;var r="vent"===t?"on":"setHandler";e.each(n,function(n,o){this[t][r](o,e.bind(n,i))},this)}}}),n}(i),i.radio=function(t){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(i[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,e,n){return function(i){var r=t._getChannel(i)[e],o=Array.prototype.slice.call(arguments,1);return r[n].apply(r,o)}};return new n}(i),t.Wreqr}(e,n);var i=t.Marionette,r=e.Marionette={};r.VERSION="2.2.1",r.noConflict=function(){return t.Marionette=i,this},e.Marionette=r,r.Deferred=e.$.Deferred;var o=Array.prototype.slice;r.extend=e.Model.extend,r.getOption=function(t,e){if(t&&e){var n;return n=t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},r.proxyGetOption=function(t){return r.getOption(this,t)},r.normalizeMethods=function(t){var e={};return n.each(t,function(t,i){n.isFunction(t)||(t=this[t]),t&&(e[i]=t)},this),e},r.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},r.normalizeUIKeys=function(t,e){return"undefined"!=typeof t?(t=n.clone(t),n.each(n.keys(t),function(n){var i=r.normalizeUIString(n,e);i!==n&&(t[i]=t[n],delete t[n])}),t):void 0},r.normalizeUIValues=function(t,e){return"undefined"!=typeof t?(n.each(t,function(i,o){n.isString(i)&&(t[o]=r.normalizeUIString(i,e))}),t):void 0},r.actAsCollection=function(t,e){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){t[i]=function(){var t=n.values(n.result(this,e)),r=[t].concat(n.toArray(arguments));return n[i].apply(n,r)}})},r.triggerMethod=function(t){function e(t,e,n){return n.toUpperCase()}var i,r=/(^|:)(\w)/gi,o="on"+t.replace(r,e),a=this[o];return n.isFunction(a)&&(i=a.apply(this,n.tail(arguments))),n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),i},r.triggerMethodOn=function(t,e){var i,o=n.tail(arguments,2);return i=n.isFunction(t.triggerMethod)?t.triggerMethod:r.triggerMethod,i.apply(t,[e].concat(o))},r.MonitorDOMRefresh=function(t){function i(t){t._isShown=!0,o(t)}function r(t){t._isRendered=!0,o(t)}function o(t){t._isShown&&t._isRendered&&a(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}function a(n){return e.$.contains(t,n.el)}return function(t){t.listenTo(t,"show",function(){i(t)}),t.listenTo(t,"render",function(){r(t)})}}(document.documentElement),function(t){function e(e,i,r,o){var a=o.split(/\s+/);n.each(a,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(i,r,o)})}function i(t,e,n,i){t.listenTo(e,n,i)}function r(t,e,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=t[n];t.stopListening(e,i,r)})}function o(t,e,n,i){t.stopListening(e,n,i)}function a(e,i,r,o,a){if(i&&r){if(!n.isFunction(r)&&!n.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});n.isFunction(r)&&(r=r.call(e)),n.each(r,function(t,r){n.isFunction(t)?o(e,i,r,t):a(e,i,r,t)})}}t.bindEntityEvents=function(t,n,r){a(t,n,r,i,e)},t.unbindEntityEvents=function(t,e,n){a(t,e,n,o,r)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(r);var a=["description","fileName","lineNumber","name","message","number"];return r.Error=r.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/"+r.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var i=Error.call(this,t);n.extend(this,n.pick(i,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,r.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),r.Error.extend=r.extend,r.Callbacks=function(){this._deferred=r.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(t,e){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),i.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=r.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),r.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,e.Events,{destroy:function(){var t=o.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.triggerMethod.apply(this,["destroy"].concat(t)),this.stopListening(),this.off(),this},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},r.Object.extend=r.extend,n.extend(r.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),n.extend(r.Object.prototype,e.Events),r.Region=function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new r.Error({name:"NoElError",message:'An "el" must be specified for a region.'});if(this.$el=this.getEl(this.el),this.initialize){var n=o.apply(arguments);this.initialize.apply(this,n)}},n.extend(r.Region,{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new r.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,i){var r=t.regionClass||i,o=n.omit(t,"selector","regionClass");t.selector&&!o.el&&(o.el=t.selector);var a=new r(o);return t.parentEl&&(a.getEl=function(i){if(n.isObject(i))return e.$(i);var r=t.parentEl;return n.isFunction(r)&&(r=r()),r.find(i)}),a},_buildRegionFromRegionClass:function(t){return new t}}),n.extend(r.Region.prototype,e.Events,{show:function(t,e){this._ensureElement();var i=e||{},o=t!==this.currentView,a=!!i.preventDestroy,s=!!i.forceShow,u=!!this.currentView,c=!a&&o,l=o||s;return u&&this.triggerMethod("before:swapOut",this.currentView),c&&this.empty(),l?(t.once("destroy",n.bind(this.empty,this)),t.render(),u&&this.triggerMethod("before:swap",t),this.triggerMethod("before:show",t),r.triggerMethodOn(t,"before:show"),u&&this.triggerMethod("swapOut",this.currentView),this.attachHtml(t),this.currentView=t,u&&this.triggerMethod("swap",t),this.triggerMethod("show",t),r.triggerMethodOn(t,"show"),this):this},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length)throw new r.Error('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(t){return e.$(t)},attachHtml:function(t){this.el.innerHTML="",this.el.appendChild(t.el)},empty:function(){var t=this.currentView;if(t)return this.triggerMethod("before:empty",t),this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,this},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&t.remove()},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:r.proxyGetOption,triggerMethod:r.triggerMethod}),r.Region.extend=r.extend,r.RegionManager=function(t){var e=t.Controller.extend({constructor:function(e){this._regions={},t.Controller.call(this,e)},addRegions:function(t,e){n.isFunction(t)&&(t=t.apply(this,arguments));var i={};return n.each(t,function(t,r){n.isString(t)&&(t={selector:t}),t.selector&&(t=n.defaults({},t,e));var o=this.addRegion(r,t);i[r]=o},this),i},addRegion:function(e,n){var i;return i=n instanceof t.Region?n:t.Region.buildRegion(n,t.Region),this.triggerMethod("before:add:region",e,i),this._store(e,i),this.triggerMethod("add:region",e,i),i},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.each(t,function(t){t.empty()},this),t},destroy:function(){return this.removeRegions(),t.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]=e,this._setLength()},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete this._regions[t],this._setLength(),this.triggerMethod("remove:region",t,e)},_setLength:function(){this.length=n.size(this._regions)}});return t.actAsCollection(e.prototype,"_regions"),e}(r),r.TemplateCache=function(t){this.templateId=t},n.extend(r.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new r.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=o.call(arguments),n=e.length;if(n>0)for(t=0;n>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var n=e.$(t).html();if(!n||0===n.length)throw new r.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n},compileTemplate:function(t){return n.template(t)}}),r.Renderer={render:function(t,e){if(!t)throw new r.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n;return(n="function"==typeof t?t:r.TemplateCache.get(t))(e)}},r.View=e.View.extend({constructor:function(t){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(t)?t.call(this):t),this._behaviors=r.Behaviors(this),e.View.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,o.call(arguments,1))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return n.isFunction(e)&&(e=e.call(this)),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"ui"),i=n.result(this,"_uiBindings");return r.normalizeUIKeys(t,i||e)},normalizeUIValues:function(t){var e=n.result(this,"ui"),i=n.result(this,"_uiBindings");return r.normalizeUIValues(t,i||e)},configureTriggers:function(){if(this.triggers){var t={},e=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(e,function(e,n){t[n]=this._buildViewTrigger(e)},this),t}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var i=t||this.events;n.isFunction(i)&&(i=i.call(this)),i=this.normalizeUIKeys(i),n.isUndefined(t)&&(this.events=i);var r={},o=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),s=n.result(this,"behaviorTriggers")||{};n.extend(r,o,i,a,s),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var t=o.call(arguments);return e.View.prototype.undelegateEvents.apply(this,t),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var t=o.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.remove(),n.invoke(this._behaviors,"destroy",t),this}},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(t),function(e){var n=t[e];this.ui[e]=this.$(n)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.isObject(t),i=n.defaults({},e?t:{},{preventDefault:!0,stopPropagation:!0}),r=e?i.event:t;return function(t){t&&(t.preventDefault&&i.preventDefault&&t.preventDefault(),t.stopPropagation&&i.stopPropagation&&t.stopPropagation());var e={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,e)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=arguments,e=r.triggerMethod,i=e.apply(this,t);return n.each(this._behaviors,function(n){e.apply(n,t)}),i},normalizeMethods:r.normalizeMethods,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.ItemView=r.View.extend({constructor:function(){r.View.apply(this,arguments)},serializeData:function(){var t={};return this.model?t=n.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(t={items:n.partial(this.serializeCollection,this.collection).apply(this,arguments)}),t},serializeCollection:function(t){return t.toJSON.apply(t,o.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new r.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.serializeData();e=this.mixinTemplateHelpers(e);var n=r.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this},destroy:function(){return this.isDestroyed?void 0:r.View.prototype.destroy.apply(this,arguments)}}),r.CollectionView=r.View.extend({childViewEventPrefix:"childview",constructor:function(t){var e=t||{};this.sort=n.isUndefined(e.sort)?!0:e.sort,this.once("render",this._initialEvents),this._initChildViewStorage(),r.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(t,e){r.triggerMethodOn(e,t)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t){this.destroyEmptyView();var e=this.getChildView(t),n=this.collection.indexOf(t);this.addChild(t,e,n)},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},onShowCalled:function(){this.children.each(n.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var t=this.collection.find(function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);t&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var t;this.collection.each(function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var i=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this));var o=this.buildChildView(t,e,i);this.proxyChildEvents(o),this._isShown&&r.triggerMethodOn(o,"before:show"),this.children.add(o),this.renderChildView(o,-1),this._isShown&&r.triggerMethodOn(o,"show")},getChildView:function(){var t=this.getOption("childView");if(!t)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(t,e,i){var r=this.getOption("childViewOptions");n.isFunction(r)&&(r=r.call(this,t,i));var o=this.buildChildView(t,e,r);return this._updateIndices(o,!0,i),this._addChildView(o,i),o},_updateIndices:function(t,e,n){this.sort&&(e?(t._index=n,this.children.each(function(e){e._index>=t._index&&e._index++})):this.children.each(function(e){e._index>=t._index&&e._index--}))},_addChildView:function(t,e){this.proxyChildEvents(t),this.triggerMethod("before:add:child",t),this.children.add(t),this.renderChildView(t,e),this._isShown&&!this.isBuffering&&r.triggerMethodOn(t,"show"),this.triggerMethod("add:child",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,i){var r=n.extend({model:t},i);return new e(r)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},attachHtml:function(t,e,n){t.isBuffering?(t.elBuffer.appendChild(e.el),t._bufferedChildren.push(e)):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,i=this.sort&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),n?(n.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),r.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var t=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),t},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var i=o.call(arguments),r=i[0],a=this.normalizeMethods(n.result(this,"childEvents"));i[0]=e+":"+r,i.splice(1,0,t),"undefined"!=typeof a&&n.isFunction(a[r])&&a[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)},this)}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var t=this.getOption("childView")||this.constructor;if(!t)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&r.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=r.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this);e.append(t.el)},getChildViewContainer:function(t){if("$childViewContainer"in t)return t.$childViewContainer;var e,i=r.getOption(t,"childViewContainer");if(i){var o=n.isFunction(i)?i.call(t):i;if(e="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),e.length<=0)throw new r.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),r.LayoutView=r.ItemView.extend({regionClass:r.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),r.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),r.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e=this,n={regionClass:this.getOption("regionClass"),parentEl:function(){return e.$el}};return this.regionManager.addRegions(t,n)},_initializeRegions:function(t){var e;this._initRegionManager(),e=n.isFunction(this.regions)?this.regions(t):this.regions||{};var i=this.getOption.call(t,"regions");n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),e=this.normalizeUIValues(e),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(t){t.reset()})},getRegionManager:function(){return new r.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})}}),r.Behavior=function(t,e){function n(e,n){this.view=n,this.defaults=t.result(this,"defaults")||{},this.options=t.extend({},this.defaults,e),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return t.extend(n.prototype,e.Events,{initialize:function(){},destroy:function(){this.stopListening()},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),n.extend=r.extend,n}(n,e),r.Behaviors=function(t,e){function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,"behaviors")),n.wrap(t,i,e.keys(r)),i):{}}function i(t,n){this._view=t,this._viewUI=e.result(t,"ui"),this._behaviors=n,this._triggers={}}var r={behaviorTriggers:function(t,e){var n=new i(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var r={},o=e.result(this,"ui");return e.each(i,function(n,i){var a={},s=e.clone(e.result(n,"events"))||{},u=e.result(n,"ui"),c=e.extend({},o,u);s=t.normalizeUIKeys(s,c),e.each(e.keys(s),function(t){var r=new Array(i+2).join(" "),o=t+r,u=e.isFunction(s[t])?s[t]:n[s[t]];a[o]=e.bind(u,n)}),r=e.extend(r,a)}),r}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(t,i){return t.behaviorClass?t.behaviorClass:e.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[i]:n.behaviorsLookup[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),a=new o(i,t),s=n.parseBehaviors(t,e.result(a,"behaviors"));return[a].concat(s)}).flatten().value()},wrap:function(t,n,i){e.each(i,function(i){t[i]=e.partial(r[i],t[i],n)})}}),e.extend(i.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var r=e.extend({},this._viewUI,e.result(n,"ui")),o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,r),e.each(o,e.partial(this._setHandlerForBehavior,n,i),this)
},_setHandlerForBehavior:function(t,e,n,i){var r=i.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(r,n),r.AppRouter=e.Router.extend({constructor:function(t){e.Router.apply(this,arguments),this.options=t||{};var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){var i=n.invert(this.getOption("appRoutes"))[t];n.isFunction(this.onRoute)&&this.onRoute(t,i,e)},processAppRoutes:function(t,e){if(e){var i=n.keys(e).reverse();n.each(i,function(n){this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,i){var o=t[i];if(!o)throw new r.Error('Method "'+i+'" was not found on the controller');this.route(e,i,n.bind(o,t))},getOption:r.proxyGetOption}),r.Application=function(t){this.options=t,this._initializeRegions(t),this._initCallbacks=new r.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),this.initialize.apply(this,arguments)},n.extend(r.Application.prototype,e.Events,{initialize:function(){},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var n=r.Module.getClass(e),i=o.call(arguments);return i.unshift(this),n.create.apply(n,i)},getRegionManager:function(){return new r.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var i=r.getOption(t,"regions");return n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this._regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this._regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Application.extend=r.extend,r.Module=function(t,e,i){this.moduleName=t,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},r.Module.extend=r.extend,n.extend(r.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,i){if(t){var o=n.flatten([this,this.app,e,r,e.$,n,i]);t.apply(this,o)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks},triggerMethod:r.triggerMethod}),n.extend(r.Module,{create:function(t,e,i){var r=t,a=o.call(arguments);a.splice(0,3),e=e.split(".");var s=e.length,u=[];return u[s-1]=i,n.each(e,function(e,n){var o=r;r=this._getModule(o,e,t,i),this._addModuleDefinition(o,r,u[n],a)},this),r},_getModule:function(t,e,i,r){var o=n.extend({},r),a=this.getClass(r),s=t[e];return s||(s=new a(e,i,o),t[e]=s,t.submodules[e]=s),s},getClass:function(t){var e=r.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,e);r&&e.addDefinition(r,i),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var i;return n.isFunction(t)&&t.prototype instanceof r.Module?(i=e.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(t)?(i=t.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof r.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),r}),define("marionettePrivate",["marionette"],function(t){return t.noConflict()}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Ce.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){be.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return f(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function a(t,e){vn[t]||(r(e),vn[t]=!0)}function s(t,e){return function(n){return g(t.call(this,n),e)}}function u(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function c(){}function l(t,e){e!==!1&&A(t),d(this,t),this._d=new Date(+t._d)}function h(t){var e=M(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=be.localeData(),this._bubble()}function f(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Re.length>0)for(n in Re)i=Re[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function m(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function v(t,e){var n;return e=L(e,t),t.isBefore(e)?n=m(t,e):(n=m(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(a(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=be.duration(n,i),b(this,r,t),this}}function b(t,e,n,i){var r=e._milliseconds,o=e._days,a=e._months;i=null==i?!0:i,r&&t._d.setTime(+t._d+r*n),o&&de(t,"Date",fe(t,"Date")+o*n),a&&he(t,fe(t,"Month")+a*n),i&&be.updateOffset(t,o||a)}function w(t){return"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&S(t[i])!==S(e[i]))&&a++;return a+o}function k(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ln[t]||hn[e]||e}return t}function M(t){var e,i,r={};for(i in t)n(t,i)&&(e=k(i),e&&(r[e]=t[i]));return r}function C(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}be[e]=function(r,o){var a,s,u=be._locale[e],c=[];if("number"==typeof r&&(o=r,r=t),s=function(t){var e=be().utc().set(i,t);return u.call(be._locale,e,r||"")},null!=o)return s(o);for(a=0;n>a;a++)c.push(s(a));return c}}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function E(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function T(t,e,n){return se(be([t,11,31+e-n]),e,n).week}function D(t){return F(t)?366:365}function F(t){return t%4===0&&t%100!==0||t%400===0}function A(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ee]<0||t._a[Ee]>11?Ee:t._a[Te]<1||t._a[Te]>E(t._a[Se],t._a[Ee])?Te:t._a[De]<0||t._a[De]>23?De:t._a[Fe]<0||t._a[Fe]>59?Fe:t._a[Ae]<0||t._a[Ae]>59?Ae:t._a[Ne]<0||t._a[Ne]>999?Ne:-1,t._pf._overflowDayOfYear&&(Se>e||e>Te)&&(e=Te),t._pf.overflow=e)}function N(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function O(t){return t?t.toLowerCase().replace("_","-"):t}function R(t){for(var e,n,i,r,o=0;o<t.length;){for(r=O(t[o]).split("-"),e=r.length,n=O(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=j(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function j(t){var e=null;if(!Oe[t]&&je)try{e=be.locale(),require("./locale/"+t),be.locale(e)}catch(n){}return Oe[t]}function L(t,e){return e._isUTC?be(t).zone(e._offset||0):be(t).local()}function P(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function z(t){var e,n,i=t.match($e);for(e=0,n=i.length;n>e;e++)i[e]=mn[i[e]]?mn[i[e]]:P(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function $(t,e){return t.isValid()?(e=I(e,t.localeData()),fn[e]||(fn[e]=z(e)),fn[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ie.lastIndex=0;i>=0&&Ie.test(t);)t=t.replace(Ie,n),Ie.lastIndex=0,i-=1;return t}function q(t,e){var n,i=e._strict;switch(t){case"Q":return Je;case"DDDD":return Ke;case"YYYY":case"GGGG":case"gggg":return i?tn:Ve;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?en:Ue;case"S":if(i)return Je;case"SS":if(i)return Qe;case"SSS":if(i)return Ke;case"DDD":return He;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Be;case"a":case"A":return e._locale._meridiemParse;case"X":return Xe;case"Z":case"ZZ":return We;case"T":return Ge;case"SSSS":return Ye;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Qe:qe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qe;case"Do":return Ze;default:return n=new RegExp(Z(X(t.replace("\\","")),"i"))}}function H(t){t=t||"";var e=t.match(We)||[],n=e[e.length-1]||[],i=(n+"").match(un)||["-",0,0],r=+(60*i[1])+S(i[2]);return"+"===i[0]?-r:r}function V(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[Ee]=3*(S(e)-1));break;case"M":case"MM":null!=e&&(r[Ee]=S(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e),null!=i?r[Ee]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[Te]=S(e));break;case"Do":null!=e&&(r[Te]=S(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=S(e));break;case"YY":r[Se]=be.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Se]=S(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[De]=S(e);break;case"m":case"mm":r[Fe]=S(e);break;case"s":case"ss":r[Ae]=S(e);break;case"S":case"SS":case"SSS":case"SSSS":r[Ne]=S(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=H(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=S(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=be.parseTwoDigitYear(e)}}function U(t){var n,i,r,o,a,s,u;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,i=e(n.GG,t._a[Se],se(be(),1,4).year),r=e(n.W,1),o=e(n.E,1)):(a=t._locale._week.dow,s=t._locale._week.doy,i=e(n.gg,t._a[Se],se(be(),a,s).year),r=e(n.w,1),null!=n.d?(o=n.d,a>o&&++r):o=null!=n.e?n.e+a:a),u=ue(i,r,o,s,a),t._a[Se]=u.year,t._dayOfYear=u.dayOfYear}function Y(t){var n,i,r,o,a=[];if(!t._d){for(r=W(t),t._w&&null==t._a[Te]&&null==t._a[Ee]&&U(t),t._dayOfYear&&(o=e(t._a[Se],r[Se]),t._dayOfYear>D(o)&&(t._pf._overflowDayOfYear=!0),i=ie(o,0,t._dayOfYear),t._a[Ee]=i.getUTCMonth(),t._a[Te]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=a[n]=r[n];for(;7>n;n++)t._a[n]=a[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?ie:ne).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function B(t){var e;t._d||(e=M(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],Y(t))}function W(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function G(t){if(t._f===be.ISO_8601)return void Q(t);t._a=[],t._pf.empty=!0;var e,n,i,r,o,a=""+t._i,s=a.length,u=0;for(i=I(t._f,t._locale).match($e)||[],e=0;e<i.length;e++)r=i[e],n=(a.match(q(r,t))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&t._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),mn[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),V(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=s-u,a.length>0&&t._pf.unusedInput.push(a),t._isPm&&t._a[De]<12&&(t._a[De]+=12),t._isPm===!1&&12===t._a[De]&&(t._a[De]=0),Y(t),A(t)}function X(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,r,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(o=0;o<t._f.length;o++)a=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[o],G(e),N(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==r||r>a)&&(r=a,n=e));f(t,n||e)}function Q(t){var e,n,i=t._i,r=rn.exec(i);if(r){for(t._pf.iso=!0,e=0,n=an.length;n>e;e++)if(an[e][1].exec(i)){t._f=an[e][0]+(r[6]||" ");break}for(e=0,n=sn.length;n>e;e++)if(sn[e][1].exec(i)){t._f+=sn[e][0];break}i.match(We)&&(t._f+="Z"),G(t)}else t._isValid=!1}function K(t){Q(t),t._isValid===!1&&(delete t._isValid,be.createFromInputFallback(t))}function te(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function ee(e){var n,i=e._i;i===t?e._d=new Date:x(i)?e._d=new Date(+i):null!==(n=Le.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?K(e):w(i)?(e._a=te(i.slice(0),function(t){return parseInt(t,10)}),Y(e)):"object"==typeof i?B(e):"number"==typeof i?e._d=new Date(i):be.createFromInputFallback(e)}function ne(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return 1970>t&&s.setFullYear(t),s}function ie(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function re(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function oe(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ae(t,e,n){var i=be.duration(t).abs(),r=Me(i.as("s")),o=Me(i.as("m")),a=Me(i.as("h")),s=Me(i.as("d")),u=Me(i.as("M")),c=Me(i.as("y")),l=r<dn.s&&["s",r]||1===o&&["m"]||o<dn.m&&["mm",o]||1===a&&["h"]||a<dn.h&&["hh",a]||1===s&&["d"]||s<dn.d&&["dd",s]||1===u&&["M"]||u<dn.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,oe.apply({},l)}function se(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=be(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(t,e,n,i,r){var o,a,s=ie(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(r>s?7:0),a=7*(e-1)+(n-r)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:D(t-1)+a}}function ce(e){var n=e._i,i=e._f;return e._locale=e._locale||be.localeData(e._l),null===n||i===t&&""===n?be.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),be.isMoment(n)?new l(n,!0):(i?w(i)?J(e):G(e):ee(e),new l(e)))}function le(t,e){var n,i;if(1===e.length&&w(e[0])&&(e=e[0]),!e.length)return be();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function he(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),E(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function fe(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function de(t,e,n){return"Month"===e?he(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pe(t,e){return function(n){return null!=n?(de(this,t,n),be.updateOffset(this,e),this):fe(this,t)}}function ge(t){return 400*t/146097}function me(t){return 146097*t/400}function ve(t){be.duration.fn[t]=function(){return this._data[t]}}function ye(t){"undefined"==typeof ender&&(we=ke.moment,ke.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",be):be)}for(var be,we,xe,_e="2.8.3",ke="undefined"!=typeof global?global:this,Me=Math.round,Ce=Object.prototype.hasOwnProperty,Se=0,Ee=1,Te=2,De=3,Fe=4,Ae=5,Ne=6,Oe={},Re=[],je="undefined"!=typeof module&&module.exports,Le=/^\/?Date\((\-?\d+)/i,Pe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ze=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,$e=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ie=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,qe=/\d\d?/,He=/\d{1,3}/,Ve=/\d{1,4}/,Ue=/[+\-]?\d{1,6}/,Ye=/\d+/,Be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,We=/Z|[\+\-]\d\d:?\d\d/gi,Ge=/T/i,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d{1,2}/,Je=/\d/,Qe=/\d\d/,Ke=/\d{3}/,tn=/\d{4}/,en=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on="YYYY-MM-DDTHH:mm:ssZ",an=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],sn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],un=/([\+\-]|\d\d)/gi,cn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ln={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},hn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fn={},dn={s:45,m:45,h:22,d:26,M:11},pn="DDD w W M D d".split(" "),gn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+g(Math.abs(t),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return g(S(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+":"+g(S(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+g(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pn.length;)xe=pn.pop(),mn[xe+"o"]=u(mn[xe],xe);for(;gn.length;)xe=gn.pop(),mn[xe+xe]=s(mn[xe],2);mn.DDDD=s(mn.DDD,3),f(c.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=be.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=be([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return se(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),be=function(e,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=t),a={},a._isAMomentObject=!0,a._i=e,a._f=n,a._l=r,a._strict=o,a._isUTC=!1,a._pf=i(),ce(a)},be.suppressDeprecationWarnings=!1,be.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),be.min=function(){var t=[].slice.call(arguments,0);return le("isBefore",t)},be.max=function(){var t=[].slice.call(arguments,0);return le("isAfter",t)},be.utc=function(e,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=r,a._i=e,a._f=n,a._strict=o,a._pf=i(),ce(a).utc()},be.unix=function(t){return be(1e3*t)},be.duration=function(t,e){var i,r,o,a,s=t,u=null;return be.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(u=Pe.exec(t))?(i="-"===u[1]?-1:1,s={y:0,d:S(u[Te])*i,h:S(u[De])*i,m:S(u[Fe])*i,s:S(u[Ae])*i,ms:S(u[Ne])*i}):(u=ze.exec(t))?(i="-"===u[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},s={y:o(u[2]),M:o(u[3]),d:o(u[4]),h:o(u[5]),m:o(u[6]),s:o(u[7]),w:o(u[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(a=v(be(s.from),be(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),r=new h(s),be.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},be.version=_e,be.defaultFormat=on,be.ISO_8601=function(){},be.momentProperties=Re,be.updateOffset=function(){},be.relativeTimeThreshold=function(e,n){return dn[e]===t?!1:n===t?dn[e]:(dn[e]=n,!0)},be.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return be.locale(t,e)}),be.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?be.defineLocale(t,e):be.localeData(t),n&&(be.duration._locale=be._locale=n)),be._locale._abbr},be.defineLocale=function(t,e){return null!==e?(e.abbr=t,Oe[t]||(Oe[t]=new c),Oe[t].set(e),be.locale(t),Oe[t]):(delete Oe[t],null)},be.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return be.localeData(t)}),be.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return be._locale;if(!w(t)){if(e=j(t))return e;t=[t]}return R(t)},be.isMoment=function(t){return t instanceof l||null!=t&&n(t,"_isAMomentObject")},be.isDuration=function(t){return t instanceof h};for(xe=yn.length-1;xe>=0;--xe)C(yn[xe]);be.normalizeUnits=function(t){return k(t)},be.invalid=function(t){var e=be.utc(0/0);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},be.parseZone=function(){return be.apply(null,arguments).parseZone()},be.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)},f(be.fn=l.prototype,{clone:function(){return be(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=be(this).utc();return 0<t.year()&&t.year()<=9999?$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return N(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?be.utc(this._a):be(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=$(this,t||be.defaultFormat);return this.localeData().postformat(e)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(t,e,n){var i,r,o,a=L(t,this),s=6e4*(this.zone()-a.zone());return e=k(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),o=this-be(this).startOf("month")-(a-be(a).startOf("month")),o-=6e4*(this.zone()-be(this).startOf("month").zone()-(a.zone()-be(a).startOf("month").zone())),r+=o/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:p(r)},from:function(t,e){return be.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(be(),t)},calendar:function(t){var e=t||be(),n=L(e,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=re(t,this.localeData()),this.add(t-e,"d")):e},month:pe("Month",!0),startOf:function(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=k(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this>+t):+this.clone().startOf(e)>+be(t).startOf(e)},isBefore:function(t,e){return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+t>+this):+this.clone().startOf(e)<+be(t).startOf(e)},isSame:function(t,e){return e=k(e||"millisecond"),"millisecond"===e?(t=be.isMoment(t)?t:be(t),+this===+t):+this.clone().startOf(e)===+L(t,this).startOf(e)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=be.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=H(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?b(this,be.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,be.updateOffset(this,!0),this._changeInProgress=null)),this)
},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?be(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return E(this.year(),this.month())},dayOfYear:function(t){var e=Me((be(this).startOf("day")-be(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=se(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=se(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return T(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return T(this.year(),t.dow,t.doy)},get:function(t){return t=k(t),this[t]()},set:function(t,e){return t=k(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(n=be.localeData(e),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),be.fn.millisecond=be.fn.milliseconds=pe("Milliseconds",!1),be.fn.second=be.fn.seconds=pe("Seconds",!1),be.fn.minute=be.fn.minutes=pe("Minutes",!1),be.fn.hour=be.fn.hours=pe("Hours",!0),be.fn.date=pe("Date",!0),be.fn.dates=o("dates accessor is deprecated. Use date instead.",pe("Date",!0)),be.fn.year=pe("FullYear",!0),be.fn.years=o("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),be.fn.days=be.fn.day,be.fn.months=be.fn.month,be.fn.weeks=be.fn.week,be.fn.isoWeeks=be.fn.isoWeek,be.fn.quarters=be.fn.quarter,be.fn.toJSON=be.fn.toISOString,f(be.duration.fn=h.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,t=p(i/1e3),a.seconds=t%60,e=p(t/60),a.minutes=e%60,n=p(e/60),a.hours=n%24,r+=p(n/24),s=p(ge(r)),r-=p(me(s)),o+=p(r/30),r%=30,s+=p(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(t){var e=ae(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=be.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=be.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=k(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=k(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*ge(e),"month"===t?n:n/12;switch(e=this._days+me(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:be.fn.lang,locale:be.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),be.duration.fn.toString=be.duration.fn.toISOString;for(xe in cn)n(cn,xe)&&ve(xe.toLowerCase());be.duration.fn.asMilliseconds=function(){return this.as("ms")},be.duration.fn.asSeconds=function(){return this.as("s")},be.duration.fn.asMinutes=function(){return this.as("m")},be.duration.fn.asHours=function(){return this.as("h")},be.duration.fn.asDays=function(){return this.as("d")},be.duration.fn.asWeeks=function(){return this.as("weeks")},be.duration.fn.asMonths=function(){return this.as("M")},be.duration.fn.asYears=function(){return this.as("y")},be.locale("en",{ordinal:function(t){var e=t%10,n=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),je?module.exports=be:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ke.moment=we),be}),ye(!0)):ye()}.call(this),define("customParsers",["moment"],function(){var t={};return t.parseDatetimeInput=function(t){return new Date(t)},t.parseNumberInput=function(t,e){return e&&e.badInput?0/0:t.length?+t:void 0},t.parseTextInput=function(t){return t},t}),define("customValidators",["underscore","moment"],function(t,e){var n={},i=function(e,n){return function(i,r,o){return t.isUndefined(i)?void 0:t[e](i)!==o?r+" must "+(o?"":"not ")+"be "+n:void 0}};return n.isBoolean=i("isBoolean","a boolean"),n.isDate=function(n,i,r){return t.isUndefined(n)?void 0:(t.isDate(n)||e.isMoment(n))!==r?i+" must "+(r?"":"not ")+"be a date":void 0},n.isValidDate=function(e,i){if(!t.isUndefined(e)){var r=t.isUndefined(n.isDate(e,i,!0));return r?t.isNaN(e.valueOf())?i+" must be a valid date":void 0:i+" must be a date"}},n.inFuture=function(e,n,i){if(!t.isUndefined(e)){var r=new Date,o=e-r>0;return o!==i?n+" must "+(i?"":"not ")+"be in the future":void 0}},n.isNaN=i("isNaN","NaN"),n.isNull=i("isNull","null"),n.isNumber=i("isNumber","a number"),n.isString=i("isString","a string"),n.gtAttr=function(t,e,n,i,r){return t<=r[n]?e+" must be greater than "+n:void 0},n.gteAttr=function(t,e,n,i,r){return t<r[n]?e+" must be greater than or equal to "+n:void 0},n.ltAttr=function(t,e,n,i,r){return t>=r[n]?e+" must be less than "+n:void 0},n.lteAttr=function(t,e,n,i,r){return t>r[n]?e+" must be less than or equal to "+n:void 0},n}),function(t,e){"function"==typeof define&&define.amd?define("backbone.courier",["underscore","backbone","jquery"],e):"undefined"!=typeof exports?module.exports=e(require("underscore"),require("backbone"),require("backbone").$):e(t._,t.Backbone,t.jQuery||t.Zepto||t.$)}(this,function(t,e,n){var i=/^(\S+)\s*(.*)$/,r=t.isFunction(n)?n("body")[0]:null;return e.Courier={},e.Courier.add=function(n){function o(e){t.isFunction(e.$el.data)&&!e.$el.data("view")&&e.$el.data("view",e)}function a(e,n,r){var o=[];for(var a in e){var s=a.match(i),u=s[1],c=s[2],l=new RegExp(u.replace("*","[\\w]*"));l.test(n.name)&&(""===c||r._getChildViewNamed(c)===n.source)&&o.push({eventName:u,subviewName:c,value:e[a]})}return o.length>1&&(o=t.sortBy(o,function(t){var e=t.eventName.replace("*",""),n=""!==t.subviewName,i=(n?1e3:0)+e.length;return-i})),o.length?o[0].value:null}var s={setElement:n.setElement};n.spawn=function(e,i){if(t.isString(e))e={name:e,data:i};else if(t.isUndefined(e.name))throw new Error("Undefined message name.");e.source=n,e.data=e.data||{},this.trigger(e.name,e.data);for(var r,o,s="!"===e.name[e.name.length-1],u=this._getParentView();u;){if(t.isObject(u.onMessages)&&(o=a(u.onMessages,e,u),null!==o)){var c=o;if(t.isFunction(c)||(c=u[o]),!c)throw new Error('Method "'+o+'" does not exist');var l=c.call(u,e.data,e.source,e.name);if(s)return l}r=!1;var h=t.result(u,"passMessages");if(t.isObject(h))if(o=a(h,e,u),null!==o){if("."===o);else{if(!t.isString(o))throw new TypeError("Values of passMessages hash should be strings.");e.name=o}r=!0}else s&&(r=!0);if(s&&(r=!0),!r)break;e.source=u,u=u._getParentView()}if(s)throw new Error('Round trip message "'+e.name+'" was not handled. All round trip messages must be handled.')},t.isFunction(n._getParentView)||(n._getParentView=function(){for(var t=null,n=this.$el.parent();n.length>0&&n[0]!==r;){var i=n.data("view");if(i&&i instanceof e.View){t=i;break}n=n.parent()}return t}),t.isFunction(n._getChildViewNamed)||(n._getChildViewNamed=function(e){return t.isObject(this.subviews)?this.subviews[e]:null}),n.setElement=function(t,e){var i=s.setElement.call(this,t,e);return o(n),i},n.$el&&o(n)},e.Courier}),function(t,e){"object"==typeof exports&&"function"==typeof require?module.exports=e(require("backbone")):"function"==typeof define&&define.amd?define("backbone.localstorage",["backbone"],function(n){return e(n||t.Backbone)}):e(Backbone)}(this,function(t){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function i(t){return t===Object(t)}function r(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}function o(t,e){for(var n in e)t[n]=e[n];return t}return t.LocalStorage=window.Store=function(t,e){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=t,this.serializer=e||{serialize:function(t){return i(t)?JSON.stringify(t):t},deserialize:function(t){return t&&JSON.parse(t)}};var n=this.localStorage().getItem(this.name);this.records=n&&n.split(",")||[]},o(t.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(t){return t.id||(t.id=n(),t.set(t.idAttribute,t.id)),this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t)),this.records.push(t.id.toString()),this.save(),this.find(t)!==!1},update:function(t){this.localStorage().setItem(this._itemName(t.id),this.serializer.serialize(t));var e=t.id.toString();return r(this.records,e)||(this.records.push(e),this.save()),this.find(t)!==!1},find:function(t){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(t.id)))},findAll:function(){for(var t,e,n=[],i=0;i<this.records.length;i++)t=this.records[i],e=this.serializer.deserialize(this.localStorage().getItem(this._itemName(t))),null!=e&&n.push(e);return n},destroy:function(t){this.localStorage().removeItem(this._itemName(t.id));for(var e=t.id.toString(),n=0;n<this.records.length;n++)this.records[n]===e&&this.records.splice(n,1);return this.save(),t},localStorage:function(){return localStorage},_clear:function(){var t=this.localStorage(),e=new RegExp("^"+this.name+"-");t.removeItem(this.name);for(var n in t)e.test(n)&&t.removeItem(n);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(t){return this.name+"-"+t}}),t.LocalStorage.sync=window.Store.sync=t.localSync=function(e,n,i){var r,o,a=n.localStorage||n.collection.localStorage,s=t.$?t.$.Deferred&&t.$.Deferred():t.Deferred&&t.Deferred();try{switch(e){case"read":r=void 0!=n.id?a.find(n):a.findAll();break;case"create":r=a.create(n);break;case"update":r=a.update(n);break;case"delete":r=a.destroy(n)}}catch(u){o=22===u.code&&0===a._storageSize()?"Private browsing is unsupported":u.message}return r?(i&&i.success&&("0.9.10"===t.VERSION?i.success(n,r,i):i.success(r)),s&&s.resolve(r)):(o=o?o:"Record Not Found",i&&i.error&&("0.9.10"===t.VERSION?i.error(n,o,i):i.error(o)),s&&s.reject(o)),i&&i.complete&&i.complete(r),s&&s.promise()},t.ajaxSync=t.sync,t.getSyncMethod=function(e){return e.localStorage||e.collection&&e.collection.localStorage?t.localSync:t.ajaxSync},t.sync=function(e,n,i){return t.getSyncMethod(n).apply(this,[e,n,i])},t.LocalStorage}),function(t){"object"==typeof exports?module.exports=t(require("backbone"),require("underscore")):"function"==typeof define&&define.amd&&define("backbone.validation",["backbone","underscore"],t)}(function(t,e){return t.Validation=function(e){var n={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},i={formatLabel:function(t,e){return c[n.labelFormatter](t,e)},format:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return e.replace(/\{(\d+)\}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}},r=function(n,i,o){return i=i||{},o=o||"",e.each(n,function(e,a){n.hasOwnProperty(a)&&(e&&"object"==typeof e&&!(e instanceof Array||e instanceof Date||e instanceof RegExp||e instanceof t.Model||e instanceof t.Collection)?r(e,i,o+a+"."):i[o+a]=e)}),i},o=function(){var t=function(t){return e.reduce(e.keys(e.result(t,"validation")||{}),function(t,e){return t[e]=void 0,t},{})},o=function(t,n){var i=t.validation?e.result(t,"validation")[n]||{}:{};return(e.isFunction(i)||e.isString(i))&&(i={fn:i}),e.isArray(i)||(i=[i]),e.reduce(i,function(t,n){return e.each(e.without(e.keys(n),"msg"),function(e){t.push({fn:l[e],val:n[e],msg:n.msg})}),t},[])},s=function(t,n,r,a){return e.reduce(o(t,n),function(o,s){var u=e.extend({},i,l),c=s.fn.call(u,r,n,s.val,t,a);return c===!1||o===!1?!1:c&&!o?e.result(s,"msg")||c:o},"")},u=function(t,n){var i,o={},a=!0,u=e.clone(n),c=r(n);return e.each(c,function(e,n){i=s(t,n,e,u),i&&(o[n]=i,a=!1)}),{invalidAttrs:o,isValid:a}},c=function(n,i){return{preValidate:function(t,n){var i,r=this,o={};return e.isObject(t)?(e.each(t,function(t,e){i=r.preValidate(e,t),i&&(o[e]=i)}),e.isEmpty(o)?void 0:o):s(this,t,n,e.extend({},this.attributes))},isValid:function(t){var n=r(this.attributes);return e.isString(t)?!s(this,t,n[t],e.extend({},this.attributes)):e.isArray(t)?e.reduce(t,function(t,i){return t&&!s(this,i,n[i],e.extend({},this.attributes))},!0,this):(t===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(o,a){var s=this,c=!o,l=e.extend({},i,a),h=t(s),f=e.extend({},h,s.attributes,o),d=r(o||f),p=u(s,f);return s._isValid=p.isValid,e.each(h,function(t,e){var i=p.invalidAttrs.hasOwnProperty(e);i||l.valid(n,e,l.selector)}),e.each(h,function(t,e){var i=p.invalidAttrs.hasOwnProperty(e),r=d.hasOwnProperty(e);i&&(r||c)&&l.invalid(n,e,p.invalidAttrs[e],l.selector)}),e.defer(function(){s.trigger("validated",s._isValid,s,p.invalidAttrs),s.trigger("validated:"+(s._isValid?"valid":"invalid"),s,p.invalidAttrs)}),!l.forceUpdate&&e.intersection(e.keys(p.invalidAttrs),e.keys(d)).length>0?p.invalidAttrs:void 0}}},h=function(t,n,i){e.extend(n,c(t,i))},f=function(t){delete t.validate,delete t.preValidate,delete t.isValid},d=function(t){h(this.view,t,this.options)},p=function(t){f(t)};return{version:"0.9.1",configure:function(t){e.extend(n,t)},bind:function(t,i){i=e.extend({},n,a,i);var r=i.model||t.model,o=i.collection||t.collection;if("undefined"==typeof r&&"undefined"==typeof o)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";r?h(t,r,i):o&&(o.each(function(e){h(t,e,i)}),o.bind("add",d,{view:t,options:i}),o.bind("remove",p))},unbind:function(t,n){n=e.extend({},n);var i=n.model||t.model,r=n.collection||t.collection;i?f(i):r&&(r.each(function(t){f(t)}),r.unbind("add",d),r.unbind("remove",p))},mixin:c(null,n)}}(),a=o.callbacks={valid:function(t,e,n){t.$("["+n+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,n,i){t.$("["+i+'~="'+e+'"]').addClass("invalid").attr("data-error",n)}},s=o.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},u=o.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},c=o.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||c.sentenceCase(t,e)}},l=o.validators=function(){var t=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){var e=/^\s+/,n=/\s+$/;return null===t?"":t.toString().replace(e,"").replace(n,"")},n=function(t){return e.isNumber(t)||e.isString(t)&&t.match(s.number)},i=function(n){return!(e.isNull(n)||e.isUndefined(n)||e.isString(n)&&""===t(n)||e.isArray(n)&&e.isEmpty(n))};return{fn:function(t,n,i,r,o){return e.isString(i)&&(i=r[i]),i.call(r,t,n,o)},required:function(t,n,r,o,a){var s=e.isFunction(r)?r.call(o,t,n,a):r;return s||i(t)?s&&!i(t)?this.format(u.required,this.formatLabel(n,o)):void 0:!1},acceptance:function(t,n,i,r){return"true"===t||e.isBoolean(t)&&t!==!1?void 0:this.format(u.acceptance,this.formatLabel(n,r))},min:function(t,e,i,r){return!n(t)||i>t?this.format(u.min,this.formatLabel(e,r),i):void 0},max:function(t,e,i,r){return!n(t)||t>i?this.format(u.max,this.formatLabel(e,r),i):void 0},range:function(t,e,i,r){return!n(t)||t<i[0]||t>i[1]?this.format(u.range,this.formatLabel(e,r),i[0],i[1]):void 0},length:function(t,n,i,r){return e.isString(t)&&t.length===i?void 0:this.format(u.length,this.formatLabel(n,r),i)},minLength:function(t,n,i,r){return!e.isString(t)||t.length<i?this.format(u.minLength,this.formatLabel(n,r),i):void 0},maxLength:function(t,n,i,r){return!e.isString(t)||t.length>i?this.format(u.maxLength,this.formatLabel(n,r),i):void 0},rangeLength:function(t,n,i,r){return!e.isString(t)||t.length<i[0]||t.length>i[1]?this.format(u.rangeLength,this.formatLabel(n,r),i[0],i[1]):void 0},oneOf:function(t,n,i,r){return e.include(i,t)?void 0:this.format(u.oneOf,this.formatLabel(n,r),i.join(", "))},equalTo:function(t,e,n,i,r){return t!==r[n]?this.format(u.equalTo,this.formatLabel(e,i),this.formatLabel(n,i)):void 0},pattern:function(t,e,n,r){return i(t)&&t.toString().match(s[n]||n)?void 0:this.format(u[n]||u.inlinePattern,this.formatLabel(e,r),n)}}}();return e.each(l,function(t,n){l[n]=e.bind(l[n],e.extend({},i,l))}),o}(e),t.Validation}),function(t){define("bootstrap.affix",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var u=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=e-s?"bottom":null!=a&&a>=i?"top":!1;if(this.affixed!==u){null!=this.unpin&&this.$element.css("top","");var c="affix"+(u?"-"+u:""),l=t.Event(c+".bs.affix");this.$element.trigger(l),l.isDefaultPrevented()||(this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==u&&this.$element.offset({top:e-this.$element.height()-s}))}}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.alert",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.button",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.carousel",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",u=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var c=r[0],l=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger(f)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.collapse",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(e=!e),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;e.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this
},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=t(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),u=s?"toggle":r.data(),c=r.attr("data-parent"),l=c&&t(c);s&&s.transitioning||(l&&l.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(a,u)})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.dropdown",["jquery"],function(){return function(){+function(t){function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",u=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(u.length){var c=u.index(u.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<u.length-1&&c++,~c||(c=0),u.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.modal",["jquery"],function(){return function(){+function(t){function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](i):a.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,a,this)})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.tooltip",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,u=s.test(a);u&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),l=r[0].offsetWidth,h=r[0].offsetHeight;if(u){var f=a,d=this.$element.parent(),p=this.getPosition(d);a="bottom"==a&&c.top+c.height+h-p.scroll>p.height?"top":"top"==a&&c.top-p.scroll-h<0?"bottom":"right"==a&&c.right+l>p.width?"left":"left"==a&&c.left-l<p.left?"right":a,r.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,c,l,h);this.applyPlacement(g,a);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var u=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var l=this.getViewportAdjustedDelta(n,e,u,c);l.left?e.left+=l.left:e.top+=l.top;var h=l.left?2*l.left-r+u:2*l.top-o+c,f=l.left?"left":"top",d=l.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][d],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:u>a.top+a.height&&(r.top=a.top+a.height-u)}else{var c=e.left-o,l=e.left+o+n;c<a.left?r.left=a.left-c:l>a.width&&(r.left=a.left+a.width-l)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.popover",["jquery","bootstrap.tooltip"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.scrollspy",["jquery"],function(){return function(){+function(t){function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<=r[0])return a!=(t=o[0])&&this.activate(t);for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.tab",["jquery"],function(){return function(){+function(t){function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery)}.apply(t,arguments)})}(this),function(t){define("bootstrap.transition",["jquery"],function(){return function(){+function(t){function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery)}.apply(t,arguments)})}(this),function(t,e){if("function"==typeof define&&define.amd)define("bootstrap-datetimepicker",["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if(!jQuery)throw new Error("bootstrap-datetimepicker requires jQuery to be loaded first");if(!moment)throw new Error("bootstrap-datetimepicker requires moment.js to be loaded first");e(t.jQuery,moment)}}(this,function(t,e){if("undefined"==typeof e)throw new Error("momentjs is required");var n=0,i=function(i,r){var o,a=t.fn.datetimepicker.defaults,s={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},u=this,c=!1,l=function(){var o,c,l=!1;if(u.options=t.extend({},a,r),u.options.icons=t.extend({},s,u.options.icons),u.element=t(i),f(),!u.options.pickTime&&!u.options.pickDate)throw new Error("Must choose at least one picker");if(u.id=n++,e.locale(u.options.language),u.date=e(),u.unset=!1,u.isInput=u.element.is("input"),u.component=!1,u.element.hasClass("input-group")&&(u.component=u.element.find(0===u.element.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),u.format=u.options.format,o=e().localeData(),u.format||(u.format=u.options.pickDate?o.longDateFormat("L"):"",u.options.pickDate&&u.options.pickTime&&(u.format+=" "),u.format+=u.options.pickTime?o.longDateFormat("LT"):"",u.options.useSeconds&&(-1!==o.longDateFormat("LT").indexOf(" A")?u.format=u.format.split(" A")[0]+":ss A":u.format+=":ss")),u.use24hours=u.format.toLowerCase().indexOf("a")<0&&u.format.indexOf("h")<0,u.component&&(l=u.component.find("span")),u.options.pickTime&&l&&l.addClass(u.options.icons.time),u.options.pickDate&&l&&(l.removeClass(u.options.icons.time),l.addClass(u.options.icons.date)),u.options.widgetParent="string"==typeof u.options.widgetParent&&u.options.widgetParent||u.element.parents().filter(function(){return"scroll"===t(this).css("overflow-y")}).get(0)||"body",u.widget=t(H()).appendTo(u.options.widgetParent),u.minViewMode=u.options.minViewMode||0,"string"==typeof u.minViewMode)switch(u.minViewMode){case"months":u.minViewMode=1;break;case"years":u.minViewMode=2;break;default:u.minViewMode=0}if(u.viewMode=u.options.viewMode||0,"string"==typeof u.viewMode)switch(u.viewMode){case"months":u.viewMode=1;break;case"years":u.viewMode=2;break;default:u.viewMode=0}u.viewMode=Math.max(u.viewMode,u.minViewMode),u.options.disabledDates=I(u.options.disabledDates),u.options.enabledDates=I(u.options.enabledDates),u.startViewMode=u.viewMode,u.setMinDate(u.options.minDate),u.setMaxDate(u.options.maxDate),v(),y(),w(),x(),_(),m(),F(),h().prop("disabled")||A(),""!==u.options.defaultDate&&""===h().val()&&u.setValue(u.options.defaultDate),1!==u.options.minuteStepping&&(c=u.options.minuteStepping,u.date.minutes(Math.round(u.date.minutes()/c)*c%60).seconds(0))},h=function(){var t;if(u.isInput)return u.element;if(t=u.element.find(".datepickerinput"),0===t.size())t=u.element.find("input");else if(!t.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');return t},f=function(){var t;t=u.element.is("input")?u.element.data():u.element.find("input").data(),void 0!==t.dateFormat&&(u.options.format=t.dateFormat),void 0!==t.datePickdate&&(u.options.pickDate=t.datePickdate),void 0!==t.datePicktime&&(u.options.pickTime=t.datePicktime),void 0!==t.dateUseminutes&&(u.options.useMinutes=t.dateUseminutes),void 0!==t.dateUseseconds&&(u.options.useSeconds=t.dateUseseconds),void 0!==t.dateUsecurrent&&(u.options.useCurrent=t.dateUsecurrent),void 0!==t.calendarWeeks&&(u.options.calendarWeeks=t.calendarWeeks),void 0!==t.dateMinutestepping&&(u.options.minuteStepping=t.dateMinutestepping),void 0!==t.dateMindate&&(u.options.minDate=t.dateMindate),void 0!==t.dateMaxdate&&(u.options.maxDate=t.dateMaxdate),void 0!==t.dateShowtoday&&(u.options.showToday=t.dateShowtoday),void 0!==t.dateCollapse&&(u.options.collapse=t.dateCollapse),void 0!==t.dateLanguage&&(u.options.language=t.dateLanguage),void 0!==t.dateDefaultdate&&(u.options.defaultDate=t.dateDefaultdate),void 0!==t.dateDisableddates&&(u.options.disabledDates=t.dateDisableddates),void 0!==t.dateEnableddates&&(u.options.enabledDates=t.dateEnableddates),void 0!==t.dateIcons&&(u.options.icons=t.dateIcons),void 0!==t.dateUsestrict&&(u.options.useStrict=t.dateUsestrict),void 0!==t.dateDirection&&(u.options.direction=t.dateDirection),void 0!==t.dateSidebyside&&(u.options.sideBySide=t.dateSidebyside),void 0!==t.dateDaysofweekdisabled&&(u.options.daysOfWeekDisabled=t.dateDaysofweekdisabled)},d=function(){var e,n="absolute",i=u.component?u.component.offset():u.element.offset(),r=t(window);u.width=u.component?u.component.outerWidth():u.element.outerWidth(),i.top=i.top+u.element.outerHeight(),"up"===u.options.direction?e="top":"bottom"===u.options.direction?e="bottom":"auto"===u.options.direction&&(e=i.top+u.widget.height()>r.height()+r.scrollTop()&&u.widget.height()+u.element.outerHeight()<i.top?"top":"bottom"),"top"===e?(i.bottom=r.height()-i.top+u.element.outerHeight()+3,u.widget.addClass("top").removeClass("bottom")):(i.top+=1,u.widget.addClass("bottom").removeClass("top")),void 0!==u.options.width&&u.widget.width(u.options.width),"left"===u.options.orientation&&(u.widget.addClass("left-oriented"),i.left=i.left-u.widget.width()+20),j()&&(n="fixed",i.top-=r.scrollTop(),i.left-=r.scrollLeft()),r.width()<i.left+u.widget.outerWidth()?(i.right=r.width()-i.left-u.width,i.left="auto",u.widget.addClass("pull-right")):(i.right="auto",u.widget.removeClass("pull-right")),u.widget.css("top"===e?{position:n,bottom:i.bottom,top:"auto",left:i.left,right:i.right}:{position:n,top:i.top,bottom:"auto",left:i.left,right:i.right})},p=function(t,n){(!e(u.date).isSame(e(t))||c)&&(c=!1,u.element.trigger({type:"dp.change",date:e(u.date),oldDate:e(t)}),"change"!==n&&u.element.change())},g=function(t){c=!0,u.element.trigger({type:"dp.error",date:e(t,u.format,u.options.useStrict)})},m=function(t){e.locale(u.options.language);var n=t;n||(n=h().val(),n&&(u.date=e(n,u.format,u.options.useStrict)),u.date||(u.date=e())),u.viewDate=e(u.date).startOf("month"),b(),k()},v=function(){e.locale(u.options.language);var n,i=t("<tr>"),r=e.weekdaysMin();if(u.options.calendarWeeks===!0&&i.append('<th class="cw">#</th>'),0===e().localeData()._week.dow)for(n=0;7>n;n++)i.append('<th class="dow">'+r[n]+"</th>");else for(n=1;8>n;n++)i.append(7===n?'<th class="dow">'+r[0]+"</th>":'<th class="dow">'+r[n]+"</th>");u.widget.find(".datepicker-days thead").append(i)},y=function(){e.locale(u.options.language);var t,n="",i=e.monthsShort();for(t=0;12>t;t++)n+='<span class="month">'+i[t]+"</span>";u.widget.find(".datepicker-months td").append(n)},b=function(){if(u.options.pickDate){e.locale(u.options.language);var n,i,r,o,a,s,c,l,h,f=u.viewDate.year(),d=u.viewDate.month(),p=u.options.minDate.year(),g=u.options.minDate.month(),m=u.options.maxDate.year(),v=u.options.maxDate.month(),y=[],b=e.months();for(u.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),u.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),u.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),u.widget.find(".datepicker-days th:eq(1)").text(b[d]+" "+f),i=e(u.viewDate,u.format,u.options.useStrict).subtract(1,"months"),c=i.daysInMonth(),i.date(c).startOf("week"),(f===p&&g>=d||p>f)&&u.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(f===m&&d>=v||f>m)&&u.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),r=e(i).add(42,"d");i.isBefore(r);){if(i.weekday()===e().startOf("week").weekday()&&(o=t("<tr>"),y.push(o),u.options.calendarWeeks===!0&&o.append('<td class="cw">'+i.week()+"</td>")),a="",i.year()<f||i.year()===f&&i.month()<d?a+=" old":(i.year()>f||i.year()===f&&i.month()>d)&&(a+=" new"),i.isSame(e({y:u.date.year(),M:u.date.month(),d:u.date.date()}))&&(a+=" active"),(z(i,"day")||!$(i))&&(a+=" disabled"),u.options.showToday===!0&&i.isSame(e(),"day")&&(a+=" today"),u.options.daysOfWeekDisabled)for(s=0;s<u.options.daysOfWeekDisabled.length;s++)if(i.day()===u.options.daysOfWeekDisabled[s]){a+=" disabled";break}o.append('<td class="day'+a+'">'+i.date()+"</td>"),n=i.date(),i.add(1,"d"),n===i.date()&&i.add(1,"d")}for(u.widget.find(".datepicker-days tbody").empty().append(y),h=u.date.year(),b=u.widget.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active"),h===f&&b.eq(u.date.month()).addClass("active"),p>f-1&&u.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),f+1>m&&u.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),s=0;12>s;s++)f===p&&g>s||p>f?t(b[s]).addClass("disabled"):(f===m&&s>v||f>m)&&t(b[s]).addClass("disabled");for(y="",f=10*parseInt(f/10,10),l=u.widget.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).parents("table").find("td"),u.widget.find(".datepicker-years").find("th").removeClass("disabled"),p>f&&u.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),f+9>m&&u.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),f-=1,s=-1;11>s;s++)y+='<span class="year'+(-1===s||10===s?" old":"")+(h===f?" active":"")+(p>f||f>m?" disabled":"")+'">'+f+"</span>",f+=1;l.html(y)}},w=function(){e.locale(u.options.language);var t,n,i,r=u.widget.find(".timepicker .timepicker-hours table"),o="";if(r.parent().hide(),u.use24hours)for(t=0,n=0;6>n;n+=1){for(o+="<tr>",i=0;4>i;i+=1)o+='<td class="hour">'+q(t.toString())+"</td>",t++;o+="</tr>"}else for(t=1,n=0;3>n;n+=1){for(o+="<tr>",i=0;4>i;i+=1)o+='<td class="hour">'+q(t.toString())+"</td>",t++;o+="</tr>"}r.html(o)},x=function(){var t,e,n=u.widget.find(".timepicker .timepicker-minutes table"),i="",r=0,o=u.options.minuteStepping;for(n.parent().hide(),1===o&&(o=5),t=0;t<Math.ceil(60/o/4);t++){for(i+="<tr>",e=0;4>e;e+=1)60>r?(i+='<td class="minute">'+q(r.toString())+"</td>",r+=o):i+="<td></td>";i+="</tr>"}n.html(i)},_=function(){var t,e,n=u.widget.find(".timepicker .timepicker-seconds table"),i="",r=0;for(n.parent().hide(),t=0;3>t;t++){for(i+="<tr>",e=0;4>e;e+=1)i+='<td class="second">'+q(r.toString())+"</td>",r+=5;
i+="</tr>"}n.html(i)},k=function(){if(u.date){var t=u.widget.find(".timepicker span[data-time-component]"),e=u.date.hours(),n=u.date.format("A");u.use24hours||(0===e?e=12:12!==e&&(e%=12),u.widget.find(".timepicker [data-action=togglePeriod]").text(n)),t.filter("[data-time-component=hours]").text(q(e)),t.filter("[data-time-component=minutes]").text(q(u.date.minutes())),t.filter("[data-time-component=seconds]").text(q(u.date.second()))}},M=function(n){n.stopPropagation(),n.preventDefault(),u.unset=!1;var i,r,o,a,s=t(n.target).closest("span, td, th"),c=e(u.date);if(1===s.length&&!s.is(".disabled"))switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"picker-switch":F(1);break;case"prev":case"next":o=V.modes[u.viewMode].navStep,"prev"===s[0].className&&(o=-1*o),u.viewDate.add(o,V.modes[u.viewMode].navFnc),b()}break;case"span":s.is(".month")?(i=s.parent().find("span").index(s),u.viewDate.month(i)):(r=parseInt(s.text(),10)||0,u.viewDate.year(r)),u.viewMode===u.minViewMode&&(u.date=e({y:u.viewDate.year(),M:u.viewDate.month(),d:u.viewDate.date(),h:u.date.hours(),m:u.date.minutes(),s:u.date.seconds()}),L(),p(c,n.type)),F(-1),b();break;case"td":s.is(".day")&&(a=parseInt(s.text(),10)||1,i=u.viewDate.month(),r=u.viewDate.year(),s.is(".old")?0===i?(i=11,r-=1):i-=1:s.is(".new")&&(11===i?(i=0,r+=1):i+=1),u.date=e({y:r,M:i,d:a,h:u.date.hours(),m:u.date.minutes(),s:u.date.seconds()}),u.viewDate=e({y:r,M:i,d:Math.min(28,a)}),b(),L(),p(c,n.type))}},C={incrementHours:function(){P("add","hours",1)},incrementMinutes:function(){P("add","minutes",u.options.minuteStepping)},incrementSeconds:function(){P("add","seconds",1)},decrementHours:function(){P("subtract","hours",1)},decrementMinutes:function(){P("subtract","minutes",u.options.minuteStepping)},decrementSeconds:function(){P("subtract","seconds",1)},togglePeriod:function(){var t=u.date.hours();t>=12?t-=12:t+=12,u.date.hours(t)},showPicker:function(){u.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),u.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){u.widget.find(".timepicker .timepicker-picker").hide(),u.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){u.widget.find(".timepicker .timepicker-picker").hide(),u.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){u.widget.find(".timepicker .timepicker-picker").hide(),u.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);u.use24hours||(u.date.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),u.date.hours(n),C.showPicker.call(u)},selectMinute:function(e){u.date.minutes(parseInt(t(e.target).text(),10)),C.showPicker.call(u)},selectSecond:function(e){u.date.seconds(parseInt(t(e.target).text(),10)),C.showPicker.call(u)}},S=function(n){var i=e(u.date),r=t(n.currentTarget).data("action"),o=C[r].apply(u,arguments);return E(n),u.date||(u.date=e({y:1970})),L(),k(),p(i,n.type),o},E=function(t){t.stopPropagation(),t.preventDefault()},T=function(t){27===t.keyCode&&u.hide()},D=function(n){e.locale(u.options.language);var i=t(n.target),r=e(u.date),o=e(i.val(),u.format,u.options.useStrict);o.isValid()&&!z(o)&&$(o)?(m(),u.setValue(o),p(r,n.type),L()):(u.viewDate=r,u.unset=!0,p(r,n.type),g(o))},F=function(t){t&&(u.viewMode=Math.max(u.minViewMode,Math.min(2,u.viewMode+t))),u.widget.find(".datepicker > div").hide().filter(".datepicker-"+V.modes[u.viewMode].clsName).show()},A=function(){var e,n,i,r,o;u.widget.on("click",".datepicker *",t.proxy(M,this)),u.widget.on("click","[data-action]",t.proxy(S,this)),u.widget.on("mousedown",t.proxy(E,this)),u.element.on("keydown",t.proxy(T,this)),u.options.pickDate&&u.options.pickTime&&u.widget.on("click.togglePicker",".accordion-toggle",function(a){if(a.stopPropagation(),e=t(this),n=e.closest("ul"),i=n.find(".in"),r=n.find(".collapse:not(.in)"),i&&i.length){if(o=i.data("collapse"),o&&o.transitioning)return;i.collapse("hide"),r.collapse("show"),e.find("span").toggleClass(u.options.icons.time+" "+u.options.icons.date),u.component&&u.component.find("span").toggleClass(u.options.icons.time+" "+u.options.icons.date)}}),u.isInput?u.element.on({click:t.proxy(u.show,this),focus:t.proxy(u.show,this),change:t.proxy(D,this),blur:t.proxy(u.hide,this)}):(u.element.on({change:t.proxy(D,this)},"input"),u.component?(u.component.on("click",t.proxy(u.show,this)),u.component.on("mousedown",t.proxy(E,this))):u.element.on("click",t.proxy(u.show,this)))},N=function(){t(window).on("resize.datetimepicker"+u.id,t.proxy(d,this)),u.isInput||t(document).on("mousedown.datetimepicker"+u.id,t.proxy(u.hide,this))},O=function(){u.widget.off("click",".datepicker *",u.click),u.widget.off("click","[data-action]"),u.widget.off("mousedown",u.stopEvent),u.options.pickDate&&u.options.pickTime&&u.widget.off("click.togglePicker"),u.isInput?u.element.off({focus:u.show,change:D,click:u.show,blur:u.hide}):(u.element.off({change:D},"input"),u.component?(u.component.off("click",u.show),u.component.off("mousedown",u.stopEvent)):u.element.off("click",u.show))},R=function(){t(window).off("resize.datetimepicker"+u.id),u.isInput||t(document).off("mousedown.datetimepicker"+u.id)},j=function(){if(u.element){var e,n=u.element.parents(),i=!1;for(e=0;e<n.length;e++)if("fixed"===t(n[e]).css("position")){i=!0;break}return i}return!1},L=function(){e.locale(u.options.language);var t="";u.unset||(t=e(u.date).format(u.format)),h().val(t),u.element.data("date",t),u.options.pickTime||u.hide()},P=function(t,n,i){e.locale(u.options.language);var r;return"add"===t?(r=e(u.date),23===r.hours()&&r.add(i,n),r.add(i,n)):r=e(u.date).subtract(i,n),z(e(r.subtract(i,n)))||z(r)?void g(r.format(u.format)):("add"===t?u.date.add(i,n):u.date.subtract(i,n),void(u.unset=!1))},z=function(t,n){e.locale(u.options.language);var i=e(u.options.maxDate,u.format,u.options.useStrict),r=e(u.options.minDate,u.format,u.options.useStrict);return n&&(i=i.endOf(n),r=r.startOf(n)),t.isAfter(i)||t.isBefore(r)?!0:u.options.disabledDates===!1?!1:u.options.disabledDates[t.format("YYYY-MM-DD")]===!0},$=function(t){return e.locale(u.options.language),u.options.enabledDates===!1?!0:u.options.enabledDates[t.format("YYYY-MM-DD")]===!0},I=function(t){var n,i={},r=0;for(n=0;n<t.length;n++)o=e.isMoment(t[n])||t[n]instanceof Date?e(t[n]):e(t[n],u.format,u.options.useStrict),o.isValid()&&(i[o.format("YYYY-MM-DD")]=!0,r++);return r>0?i:!1},q=function(t){return t=t.toString(),t.length>=2?t:"0"+t},H=function(){var t='<thead><tr><th class="prev">&lsaquo;</th><th colspan="'+(u.options.calendarWeeks?"6":"5")+'" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',e='<tbody><tr><td colspan="'+(u.options.calendarWeeks?"8":"7")+'"></td></tr></tbody>',n='<div class="datepicker-days"><table class="table-condensed">'+t+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+t+e+'</table></div><div class="datepicker-years"><table class="table-condensed">'+t+e+"</table></div>",i="";return u.options.pickDate&&u.options.pickTime?(i='<div class="bootstrap-datetimepicker-widget'+(u.options.sideBySide?" timepicker-sbs":"")+(u.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:9999 !important;">',i+=u.options.sideBySide?'<div class="row"><div class="col-sm-6 datepicker">'+n+'</div><div class="col-sm-6 timepicker">'+U.getTemplate()+"</div></div>":'<ul class="list-unstyled"><li'+(u.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+n+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+u.options.icons.time+'"></span></a></li><li'+(u.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+U.getTemplate()+"</div></li></ul>",i+="</div>"):u.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+U.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+n+"</div></div>"},V={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}]},U={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};U.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+u.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(u.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+u.options.icons.up+'"></span></a>':"")+"</td>"+(u.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+u.options.icons.up+'"></span></a></td>':"")+(u.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+U.hourTemplate+'</td> <td class="separator">:</td><td>'+(u.options.useMinutes?U.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(u.options.useSeconds?'<td class="separator">:</td><td>'+U.secondTemplate+"</td>":"")+(u.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+u.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(u.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+u.options.icons.down+'"></span></a>':"")+"</td>"+(u.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+u.options.icons.down+'"></span></a></td>':"")+(u.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(u.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},u.destroy=function(){O(),R(),u.widget.remove(),u.element.removeData("DateTimePicker"),u.component&&u.component.removeData("DateTimePicker")},u.show=function(t){if(!h().prop("disabled")){if(u.options.useCurrent&&""===h().val()){if(1!==u.options.minuteStepping){var n=e(),i=u.options.minuteStepping;n.minutes(Math.round(n.minutes()/i)*i%60).seconds(0),u.setValue(n.format(u.format))}else u.setValue(e().format(u.format));p("",t.type)}t&&"click"===t.type&&u.isInput&&u.widget.hasClass("picker-open")||(u.widget.hasClass("picker-open")?(u.widget.hide(),u.widget.removeClass("picker-open")):(u.widget.show(),u.widget.addClass("picker-open")),u.height=u.component?u.component.outerHeight():u.element.outerHeight(),d(),u.element.trigger({type:"dp.show",date:e(u.date)}),N(),t&&E(t))}},u.disable=function(){var t=h();t.prop("disabled")||(t.prop("disabled",!0),O())},u.enable=function(){var t=h();t.prop("disabled")&&(t.prop("disabled",!1),A())},u.hide=function(){var t,n,i=u.widget.find(".collapse");for(t=0;t<i.length;t++)if(n=i.eq(t).data("collapse"),n&&n.transitioning)return;u.widget.hide(),u.widget.removeClass("picker-open"),u.viewMode=u.startViewMode,F(),u.element.trigger({type:"dp.hide",date:e(u.date)}),R()},u.setValue=function(t){e.locale(u.options.language),t?u.unset=!1:(u.unset=!0,L()),t=e.isMoment(t)?t.locale(u.options.language):t instanceof Date?e(t):e(t,u.format,u.options.useStrict),t.isValid()?(u.date=t,L(),u.viewDate=e({y:u.date.year(),M:u.date.month()}),b(),k()):g(t)},u.getDate=function(){return u.unset?null:e(u.date)},u.setDate=function(t){var n=e(u.date);u.setValue(t?t:null),p(n,"function")},u.setDisabledDates=function(t){u.options.disabledDates=I(t),u.viewDate&&m()},u.setEnabledDates=function(t){u.options.enabledDates=I(t),u.viewDate&&m()},u.setMaxDate=function(t){void 0!==t&&(u.options.maxDate=e.isMoment(t)||t instanceof Date?e(t):e(t,u.format,u.options.useStrict),u.viewDate&&m())},u.setMinDate=function(t){void 0!==t&&(u.options.minDate=e.isMoment(t)||t instanceof Date?e(t):e(t,u.format,u.options.useStrict),u.viewDate&&m())},l()};t.fn.datetimepicker=function(e){return this.each(function(){var n=t(this),r=n.data("DateTimePicker");r||n.data("DateTimePicker",new i(this,e))})},t.fn.datetimepicker.defaults={format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,calendarWeeks:!1,minuteStepping:1,minDate:e({y:1900}),maxDate:e().add(100,"y"),showToday:!0,collapse:!0,language:e.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1}}),define("bootstrap",["bootstrap.affix","bootstrap.alert","bootstrap.button","bootstrap.carousel","bootstrap.collapse","bootstrap.dropdown","bootstrap.modal","bootstrap.popover","bootstrap.scrollspy","bootstrap.tab","bootstrap.tooltip","bootstrap.transition","bootstrap-datetimepicker"],function(){}),define("backbonePrivate",["jquery","underscore","backbone","marionette","customParsers","customValidators","backbone.courier","backbone.localstorage","backbone.validation","bootstrap"],function(t,e,n,i,r,o){return e.extend(n.Validation.validators,o),e.extend(n.Model.prototype,n.Validation.mixin),e.extend(n.View.prototype,r),n.noConflict()}),define("Measurement",["underscore","backbone","moment"],function(t,e){var n={},i={};return n.initialize=function(){this.on("change",function(){this.set({updatedAt:new Date},{silent:!0})})},n.validation={createdAt:{required:!0,isValidDate:!0},measuredAt:{required:!0,isValidDate:!0,inFuture:!1},updatedAt:{required:!0,isValidDate:!0},temperature:{isNumber:!0,isNaN:!1,required:!1},pulse:{min:0,isNumber:!0,isNaN:!1,required:!1},sbp:{gtAttr:"dbp",isNumber:!0,isNaN:!1,required:!1},dbp:{ltAttr:"sbp",isNumber:!0,isNaN:!1,required:!1},respirations:{min:0,isNumber:!0,isNaN:!1,required:!1},saturation:{range:[0,100],isNumber:!0,isNaN:!1,required:!1}},n.defaults=function(){var t=new Date;return{createdAt:t,measuredAt:t,updatedAt:t}},n.reset=function(e){var n=t.result(this,"defaults");e||(e={}),e=t.defaults(e,n),this.clear(),this.set(e),this.trigger("measurement:reset",this)},n.parse=function(e){return t.isObject(e)&&t.each(["createdAt","measuredAt","updatedAt"],function(t){t in e&&(e[t]=new Date(e[t]))}),e},e.Model.extend(n,i)}),define("Measurements",["backbone","Measurement"],function(t,e){var n={},i={};return n.model=e,n.initialize=function(){this.on("sync",function(){this.sort()})},n.comparator="measuredAt",n.setLocalStorage=function(){var e=this.url,n=/^\/patients\/(\d+)\/vitals/,i=n.exec(e)[1],r="patient-"+i+"-vitals";this.localStorage=new t.LocalStorage(r)},n.setUrl=function(t){this.url=t,this.setLocalStorage()},t.Collection.extend(n,i)}),define("Patient",["underscore","backbone","moment","Measurements"],function(t,e,n,i){var r={},o={};return r.localStorage=new e.LocalStorage("Patient"),r.initialize=function(){this.vitals=new i,this.id&&(this.setUrl(),this.fetch(),this.vitals.fetch()),this.on("change:id",this.setUrl)},r.setUrl=function(){this.url="/patients/"+this.id,this.setLocalStorage(),this.setVitalsUrl()},r.setLocalStorage=function(){var t="patient";this.localStorage=new e.LocalStorage(t)},r.setVitalsUrl=function(){var t=this.url+"/vitals";this.vitals.setUrl(t)},r.validation={createdAt:{required:!0,isValidDate:!0},updatedAt:{required:!0,isValidDate:!0}},r.defaults=function(){var t=n();return{createdAt:t,updatedAt:t}},r.createMeasurement=function(t){this.vitals.create(t)},r.parse=function(t){return t.createdAt&&(t.createdAt=n(t.createdAt)),t.updatedAt&&(t.updatedAt=n(t.updatedAt)),t},e.Model.extend(r,o)}),define("text",["module"],function(t){var e,n,i,r,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),h=c&&location.hostname,f=c&&(location.port||void 0),d={},p=t.config&&t.config()||{};return e={version:"2.0.12",strip:function(t){if(t){t=t.replace(s,"");var e=t.match(u);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){n=a[e];try{t=new ActiveXObject(n)}catch(i){}if(t){a=[n];break}}return t},parseName:function(t){var e,n,i,r=!1,o=t.indexOf("."),a=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!a||o>1)?(e=t.substring(0,o),n=t.substring(o+1,t.length)):e=t,i=n||e,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:e=i),{moduleName:e,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,i,r){var o,a,s,u=e.xdRegExp.exec(t);return u?(o=u[2],a=u[3],a=a.split(":"),s=a[1],a=a[0],!(o&&o!==n||a&&a.toLowerCase()!==i.toLowerCase()||(s||a)&&s!==r)):!0},finishLoad:function(t,n,i,r){i=n?e.strip(i):i,p.isBuild&&(d[t]=i),r(i)},load:function(t,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();p.isBuild=r&&r.isBuild;var o=e.parseName(t),a=o.moduleName+(o.ext?"."+o.ext:""),s=n.toUrl(a),u=p.useXhr||e.useXhr;return 0===s.indexOf("empty:")?void i():void(!c||u(s,l,h,f)?e.get(s,function(n){e.finishLoad(t,o.strip,n,i)},function(t){i.error&&i.error(t)}):n([a],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,i)}))},write:function(t,n,i){if(d.hasOwnProperty(n)){var r=e.jsEscape(d[n]);i.asModule(t+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,n,i,r,o){var a=e.parseName(n),s=a.ext?"."+a.ext:"",u=a.moduleName+s,c=i.toUrl(a.moduleName+s)+".js";e.load(u,i,function(){var n=function(t){return r(c,t)};n.asModule=function(t,e){return r.asModule(t,c,e)},e.write(t,u,n,o)},o)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),e.get=function(t,e,i){try{var r=n.readFileSync(t,"utf8");0===r.indexOf("")&&(r=r.substring(1)),e(r)}catch(o){i&&i(o)}}):"xhr"===p.env||!p.env&&e.createXhr()?e.get=function(t,n,i,r){var o,a=e.createXhr();if(a.open("GET",t,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);p.onXhr&&p.onXhr(a,t),a.onreadystatechange=function(){var e,r;4===a.readyState&&(e=a.status||0,e>399&&600>e?(r=new Error(t+" HTTP status: "+e),r.xhr=a,i&&i(r)):n(a.responseText),p.onXhrComplete&&p.onXhrComplete(a,t))},a.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var n,i,r="utf-8",o=new java.io.File(t),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),u="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);u=String(n.toString())}finally{s.close()}e(u)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in i,e.get=function(t,e){var n,a,s,u={};o&&(t=t.replace(/\//g,"\\")),s=new FileUtils.File(t);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(s,1,0,!1),a=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),a.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(n.available(),u),a.close(),n.close(),e(u.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),e}),define("text!../templates/measurement-show-template.html",[],function(){return'<td class="date-input"><%= measuredAt.format(\'MM/D/YYYY\') %></td>\n<td class="time-input"><%= measuredAt.format(\'h:mm A\') %></td>\n<td class="temperature-input"><%= temperature %></td>\n<td class="pulse-input"><%= pulse %></td>\n<td class="sbp-input"><%= sbp %></td>\n<td class="dbp-input"><%= dbp %></td>\n<td class="respirations-input"><%= respirations %></td>\n<td class="saturation-input"><%= saturation %></td>\n<td><a class="measurement-edit">edit</a></td>\n<td><a class="measurement-delete">delete</a></td>\n'}),define("text!../templates/measurement-edit-template.html",[],function(){return'<td class="date-input"><input class="measurement-input" name="measuredAt" data-view-name="date" data-picker="date" type="datetime" /></td>\n<td class="time-input"><input class="measurement-input" name="measuredAt" data-view-name="time" data-picker="time" type="datetime"/></td>\n<td class="temperature-input"><input class="measurement-input" name="temperature" type="number"/></td>\n<td class="pulse-input"><input class="measurement-input" name="pulse" type="number"/></td>\n<td class="sbp-input"><input class="measurement-input" name="sbp" type="number"/></td>\n<td class="dbp-input"><input class="measurement-input" name="dbp" type="number"/></td>\n<td class="respirations-input"><input class="measurement-input" name="respirations" type="number"/></td>\n<td class="saturation-input"><input class="measurement-input" name="saturation" type="number"/></td>\n<td><button class="btn btn-sm measurement-submit" type="button">submit</button></td>\n<td><button class="btn btn-sm measurement-reset" type="button">reset</button></td>\n'}),define("templates",["underscore","text!../templates/measurement-show-template.html","text!../templates/measurement-edit-template.html"],function(t,e,n){return{measurementShow:t.template(e),MeasurementEdit:t.template(n)}}),define("InputView",["underscore","backbone"],function(t,e){var n={},i={};return n.initialize=function(){e.Courier.add(this),this.name=this.$el.attr("name"),this.$el.data("viewName")||this.$el.data("viewName",this.name),this.updateView()},n.get=function(){return this.parse(this.el.value,this.el.validity)},n.set=function(t){this.$el.val(t)},n.updateModel=function(){var e=this.get(),n=this.model.get(this.name),i="change:"+this.name,r="invalid",o=this.name+":update",a={},s={},u=function(){a={status:"success"},this.stopListening(this.model,i,u),this.stopListening(this.model,r,c),this.trigger(o,a)},c=function(){a={status:"error"},this.stopListening(this.model,i,u),this.stopListening(this.model,r,c),this.set(n),this.trigger(o,a)};e===n?(this.set(n),a={status:"nochange"},this.trigger(o,a)):(s[this.name]=e,this.listenTo(this.model,i,u),this.listenTo(this.model,r,c),t.isUndefined(e)?this.model.set(s,{validate:!0,unset:!0}):this.model.set(s,{validate:!0}))},n.updateView=function(){this.set(this.model.get(this.name))},n.getParser=function(){var e=this.$el.attr("type"),n=this[this.$el.data("parser")]||this[t.str.camelize("parse-"+e+"-input")];return t.isFunction(n)?n:this.parseTextInput},n.parse=function(t,e){return this._parser||(this._parser=this.getParser()),this._parser(t,e)},e.Marionette.ItemView.extend(n,i)}),define("DatePickerView",["underscore","moment","InputView"],function(t,e,n){var i={},r={};return i.initialize=function(){this.$el.datetimepicker({pickDate:!0,pickTime:!1}),n.prototype.initialize.apply(this,arguments)},i.get=function(){var t=this.$el.data("DateTimePicker"),n=e(this.model.get(this.name)),i=t.getDate()||e(0/0);return n.month(i.month()),n.date(i.date()),n.year(i.year()),n.toDate()},i.set=function(t){var n=this.$el.data("DateTimePicker");n.setDate(e(new Date(t)))},i.onDestroy=function(){},n.extend(i,r)}),define("TimePickerView",["underscore","moment","InputView"],function(t,e,n){var i={},r={};return i.initialize=function(){this.$el.datetimepicker({pickDate:!1,pickTime:!0}),n.prototype.initialize.apply(this,arguments)},i.get=function(){var t=this.$el.data("DateTimePicker"),n=e(this.model.get(this.name)),i=t.getDate()||e(0/0);return n.hour(i.hour()),n.minute(i.minute()),n.second(i.second()),n.toDate()},i.set=function(t){var n=this.$el.data("DateTimePicker");n.setDate(e(new Date(t)))},i.onDestroy=function(){},n.extend(i,r)});var measurementEditView;define("MeasurementEditView",["jquery","underscore","backbone","templates","Measurement","InputView","DatePickerView","TimePickerView"],function(t,e,n,i,r,o,a,s){var u=13,c={},l={};return c.tagName="tr",c.template=function(t){return i.MeasurementEdit(t)},c.initialize=function(){n.Courier.add(this),this.model?this.initialAttrs=this.model.toJSON():this.model=new r,this.inputViews={},this.subViews=[],this.canSubmit=!0,measurementEditView=this},c.onRender=function(){this.createSubViews()},c.updateModelAttr=function(n){var i=t(n.target),r=i.data("viewName"),o=this.inputViews[r],a=o.name+":update",s=["success","nochange"];this.listenToOnce(o,a,function(t){this.canSubmit=e.contains(s,t.status)}),o.updateModel()},c.submitOnEnter=function(n){if(n.which===u){var i=t(n.target),r=i.data("viewName"),o=this.inputViews[r],a=o.name+":update",s=["success","nochange"];this.listenToOnce(o,a,function(t){e.contains(s,t.status)&&this.submitMeasurement()}),o.updateModel()}},c.submitOnClick=function(){this.canSubmit&&this.submitMeasurement(),this.canSubmit=!0},c.createSubViews=function(){var e=this,n=this.model;this.$("input").each(function(){var i,r,u,c=t(this),l="date"===c.data("picker"),h="time"===c.data("picker");l?(i=a,u="date"):h?(i=s,u="time"):i=o,r=new i({el:this,model:n}),u=r.$el.data("viewName"),e.inputViews[u]=r,e.subViews.push(r)})},c.onBeforeDestroy=function(){this.undelegateEvents(),this.destroySubViews()},c.destroySubViews=function(){for(;this.subViews.length;)this.subViews.pop().destroy()},c.submitMeasurement=function(){this.trigger("measurement:submit",this.model,this)},c.resetMeasurement=function(){this.model.reset(this.initialAttrs),this.updateInputViews()},c.updateInputViews=function(){e.each(this.inputViews,function(t){t.updateView()})},c.events={"blur input":"updateModelAttr","keydown input":"submitOnEnter","click .measurement-reset":"resetMeasurement","click .measurement-submit":"submitOnClick"},n.Marionette.ItemView.extend(c,l)}),define("MeasurementShowView",["underscore","backbone","moment","templates"],function(t,e,n,i){var r={},o={};return r.tagName="tr",r.initialize=function(){e.Courier.add(this),this.listenTo(this,"measurement:edit",function(){console.log("measurement:edit")})},r.template=function(e){var r,o={temperature:null,pulse:null,sbp:null,dbp:null,respirations:null,saturation:null};return t.each(["createdAt","updatedAt","measuredAt"],function(t){e[t]&&(e[t]=n(e[t]))}),r=t.defaults({},e,o),i.measurementShow(r)},r.deleteMeasurement=function(){this.model.destroy()},r.editMeasurement=function(){this.spawn("measurement:edit")},r.events={"click .measurement-delete":"deleteMeasurement","click .measurement-edit":"editMeasurement",dblclick:"editMeasurement"},e.Marionette.ItemView.extend(r,o)}),define("MeasurementsTableView",["backbone","MeasurementEditView","MeasurementShowView"],function(t,e,n){var i={},r={};return i.getChildView=function(){return n},i.tagName="tbody",i.initialize=function(){t.Courier.add(this),this.render(),this.listenTo(this.collection,"sync",this.render)},i.childEvents={toggleEdit:"editItem"},i.editItem=function(t){var n=t.model,i=new e({model:n}),r=function(){this.stopListening(i,"modelUpdated"),i.close(),n.save()};this.listenTo(i,"modelUpdated",r),i.render(),t.$el.replaceWith(i.el),t.close()},i.editMeasurement=function(t,n){var i=n.model,r=new e({model:i});this.listenToOnce(r,"measurement:submit",function(){r.destroy(),i.save()}),r.render(),n.$el.replaceWith(r.el),n.destroy()},i.onMessages={"measurement:edit":"editMeasurement"},t.Marionette.CollectionView.extend(i,r)}),function(t){define("d3",[],function(){return function(){return d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function i(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(i){t.prototype=e}}function r(){}function o(){}function a(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function s(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,i=fs.length;i>n;++n){var r=fs[n]+e;if(r in t)return r}}function u(){}function c(){}function l(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new r;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function h(){Xa.event.preventDefault()}function f(){for(var t,e=Xa.event;t=e.sourceEvent;)e=t;return e}function d(t){for(var e=new c,n=0,i=arguments.length;++n<i;)e[arguments[n]]=l(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=Xa.event;r.target=t,Xa.event=r,e[r.type].apply(n,i)}finally{Xa.event=o}}},e}function p(t){return ps(t,bs),t}function g(t){return"function"==typeof t?t:function(){return gs(t,this)}}function m(t){return"function"==typeof t?t:function(){return ms(t,this)}}function v(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Xa.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function y(t){return t.trim().replace(/\s+/g," ")}function b(t){return new RegExp("(?:^|\\s+)"+Xa.requote(t)+"(?:\\s+|$)","g")}function w(t){return t.trim().split(/^|\s+/)}function x(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=w(t).map(_);var r=t.length;return"function"==typeof e?i:n}function _(t){var e=b(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",y(r+" "+t))):n.setAttribute("class",y(r.replace(e," ")))}}function k(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function M(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function C(t){return"function"==typeof t?t:(t=Xa.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function S(t){return{__data__:t}}function E(t){return function(){return ys(this,t)}}function T(t){return arguments.length||(t=Xa.ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function D(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],a=0,s=o.length;s>a;a++)(r=o[a])&&e(r,a,n);return t}function F(t){return ps(t,xs),t}function A(t){var e,n;return function(i,r,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<u;);return a}}function N(){var t=this.__transition__;t&&++t.active}function O(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=c(e,Ja(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e
}function o(){var e,n=new RegExp("^__on([^.]+)"+Xa.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),c=R;s>0&&(t=t.substring(0,s));var l=ks.get(t);return l&&(t=l,c=j),s?e?r:i:e?u:o}function R(t,e){return function(n){var i=Xa.event;Xa.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Xa.event=i}}}function j(t,e){var n=R(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function L(){var t=".dragsuppress-"+ ++Cs,e="click"+t,n=Xa.select(ts).on("touchmove"+t,h).on("dragstart"+t,h).on("selectstart"+t,h);if(Ms){var i=Ka.style,r=i[Ms];i[Ms]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),Ms&&(i[Ms]=r),o&&(n.on(e,function(){h(),a()},!0),setTimeout(a,0))}}function P(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Ss&&(ts.scrollX||ts.scrollY)){n=Xa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();Ss=!(r.f||r.e),n.remove()}return Ss?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function z(t){return t>0?1:0>t?-1:0}function $(t){return t>1?0:-1>t?Es:Math.acos(t)}function I(t){return t>1?Ds:-1>t?-Ds:Math.asin(t)}function q(t){return((t=Math.exp(t))-1/t)/2}function H(t){return((t=Math.exp(t))+1/t)/2}function V(t){return((t=Math.exp(2*t))-1)/(t+1)}function U(t){return(t=Math.sin(t/2))*t}function Y(){}function B(t,e,n){return new W(t,e,n)}function W(t,e,n){this.h=t,this.s=e,this.l=n}function G(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,se(r(t+120),r(t),r(t-120))}function X(t,e,n){return new Z(t,e,n)}function Z(t,e,n){this.h=t,this.c=e,this.l=n}function J(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),Q(n,Math.cos(t*=Ns)*e,Math.sin(t)*e)}function Q(t,e,n){return new K(t,e,n)}function K(t,e,n){this.l=t,this.a=e,this.b=n}function te(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=ne(r)*Vs,i=ne(i)*Us,o=ne(o)*Ys,se(re(3.2404542*r-1.5371385*i-.4985314*o),re(-.969266*r+1.8760108*i+.041556*o),re(.0556434*r-.2040259*i+1.0572252*o))}function ee(t,e,n){return t>0?X(Math.atan2(n,e)*Os,Math.sqrt(e*e+n*n),t):X(0/0,0/0,t)}function ne(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ie(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function oe(t){return se(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}function se(t,e,n){return new ue(t,e,n)}function ue(t,e,n){this.r=t,this.g=e,this.b=n}function ce(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function le(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(pe(r[0]),pe(r[1]),pe(r[2]))}return(o=Gs.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,s=t.charAt(2),s+=s,u=t.charAt(3),u+=u):7===t.length&&(a=t.substring(1,3),s=t.substring(3,5),u=t.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),u=parseInt(u,16)),e(a,s,u))}function he(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=.5>u?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=0/0,r=u>0&&1>u?0:i),B(i,r,u)}function fe(t,e,n){t=de(t),e=de(e),n=de(n);var i=ie((.4124564*t+.3575761*e+.1804375*n)/Vs),r=ie((.2126729*t+.7151522*e+.072175*n)/Us),o=ie((.0193339*t+.119192*e+.9503041*n)/Ys);return Q(116*r-16,500*(i-r),200*(r-o))}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function ge(t){return"function"==typeof t?t:function(){return t}}function me(t){return t}function ve(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),ye(e,n,t,i)}}function ye(t,e,n,i){function r(){var t,e=u.status;if(!e&&u.responseText||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(i){return void a.error.call(o,i)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Xa.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;return!ts.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=Xa.event;Xa.event=t;try{a.progress.call(o,u)}finally{Xa.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Ja(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,u),u.send(null==i?null:i),o},o.abort=function(){return u.abort(),o},Xa.rebind(o,a,"on"),null==i?o:o.get(be(i))}function be(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function we(){var t=xe(),e=_e()-t;e>24?(isFinite(e)&&(clearTimeout(Qs),Qs=setTimeout(we,e)),Js=0):(Js=1,tu(we))}function xe(){var t=Date.now();for(Ks=Xs;Ks;)t>=Ks.t&&(Ks.f=Ks.c(t-Ks.t)),Ks=Ks.n;return t}function _e(){for(var t,e=Xs,n=1/0;e;)e.f?e=t?t.n=e.n:Xs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Zs=t,n}function ke(t,e){var n=Math.pow(10,3*cs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Me(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ce(t){return t+""}function Se(){}function Ee(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function Te(t,e){t&&fu.hasOwnProperty(t.type)&&fu[t.type](t,e)}function De(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Fe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)De(t[n],e,1);e.polygonEnd()}function Ae(){function t(t,e){t*=Ns,e=e*Ns/2+Es/4;var n=t-i,a=Math.cos(e),s=Math.sin(e),u=o*s,c=r*a+u*Math.cos(n),l=u*Math.sin(n);pu.add(Math.atan2(l,c)),i=t,r=a,o=s}var e,n,i,r,o;gu.point=function(a,s){gu.point=t,i=(e=a)*Ns,r=Math.cos(s=(n=s)*Ns/2+Es/4),o=Math.sin(s)},gu.lineEnd=function(){t(e,n)}}function Ne(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Oe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Re(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function je(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Le(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Pe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ze(t){return[Math.atan2(t[1],t[0]),I(t[2])]}function $e(t,e){return cs(t[0]-e[0])<Fs&&cs(t[1]-e[1])<Fs}function Ie(t,e){t*=Ns;var n=Math.cos(e*=Ns);qe(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function qe(t,e,n){++mu,yu+=(t-yu)/mu,bu+=(e-bu)/mu,wu+=(n-wu)/mu}function He(){function t(t,r){t*=Ns;var o=Math.cos(r*=Ns),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(r),c=Math.atan2(Math.sqrt((c=n*u-i*s)*c+(c=i*a-e*u)*c+(c=e*s-n*a)*c),e*a+n*s+i*u);vu+=c,xu+=c*(e+(e=a)),_u+=c*(n+(n=s)),ku+=c*(i+(i=u)),qe(e,n,i)}var e,n,i;Eu.point=function(r,o){r*=Ns;var a=Math.cos(o*=Ns);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Eu.point=t,qe(e,n,i)}}function Ve(){Eu.point=Ie}function Ue(){function t(t,e){t*=Ns;var n=Math.cos(e*=Ns),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),c=r*u-o*s,l=o*a-i*u,h=i*s-r*a,f=Math.sqrt(c*c+l*l+h*h),d=i*a+r*s+o*u,p=f&&-$(d)/f,g=Math.atan2(f,d);Mu+=p*c,Cu+=p*l,Su+=p*h,vu+=g,xu+=g*(i+(i=a)),_u+=g*(r+(r=s)),ku+=g*(o+(o=u)),qe(i,r,o)}var e,n,i,r,o;Eu.point=function(a,s){e=a,n=s,Eu.point=t,a*=Ns;var u=Math.cos(s*=Ns);i=u*Math.cos(a),r=u*Math.sin(a),o=Math.sin(s),qe(i,r,o)},Eu.lineEnd=function(){t(e,n),Eu.lineEnd=Ve,Eu.point=Ie}}function Ye(){return!0}function Be(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if($e(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new Ge(n,t,null,!0),c=new Ge(n,null,u,!1);u.o=c,o.push(u),a.push(c),u=new Ge(i,t,null,!1),c=new Ge(i,null,u,!0),u.o=c,o.push(u),a.push(c)}}),a.sort(e),We(o),We(a),o.length){for(var s=0,u=n,c=a.length;c>s;++s)a[s].e=u=!u;for(var l,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;l=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,c=l.length;c>s;++s)r.point((h=l[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p){l=d.p.z;for(var s=l.length-1;s>=0;--s)r.point((h=l[s])[0],h[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,l=d.z,p=!p}while(!d.v);r.lineEnd()}}}function We(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ge(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Xe(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function c(){y.point=a,m.lineEnd()}function l(t,e){g.push([t,e]);var n=r(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),g=[]}function f(){l(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i){if(1&e){t=n[0];var r,i=t.length-1,a=-1;for(o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);return void o.lineEnd()}i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ze))}}var d,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:a,lineStart:u,lineEnd:c,polygonStart:function(){y.point=l,y.lineStart=h,y.lineEnd=f,d=[],p=[],o.polygonStart()},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=c,d=Xa.merge(d);var t=Ke(v,p);d.length?Be(d,Qe,t,n,o):t&&(o.lineStart(),n(null,null,1,o),o.lineEnd()),o.polygonEnd(),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Je(),w=e(b);return y}}function Ze(t){return t.length>1}function Je(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:u,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Qe(t,e){return((t=t.x)[0]<0?t[1]-Ds-Fs:Ds-t[1])-((e=e.x)[0]<0?e[1]-Ds-Fs:Ds-e[1])}function Ke(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;pu.reset();for(var s=0,u=e.length;u>s;++s){var c=e[s],l=c.length;if(l)for(var h=c[0],f=h[0],d=h[1]/2+Es/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===l&&(m=0),t=c[m];var v=t[0],y=t[1]/2+Es/4,b=Math.sin(y),w=Math.cos(y),x=v-f,_=cs(x)>Es,k=p*b;if(pu.add(Math.atan2(k*Math.sin(x),g*w+k*Math.cos(x))),o+=_?x+(x>=0?Ts:-Ts):x,_^f>=n^v>=n){var M=Re(Ne(h),Ne(t));Pe(M);var C=Re(r,M);Pe(C);var S=(_^x>=0?-1:1)*I(C[2]);(i>S||i===S&&(M[0]||M[1]))&&(a+=_^x>=0?1:-1)}if(!m++)break;f=v,p=b,g=w,h=t}}return(-Fs>o||Fs>o&&0>pu)^1&a}function tn(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Es:-Es,u=cs(o-n);cs(u-Es)<Fs?(t.point(n,i=(i+a)/2>0?Ds:-Ds),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=Es&&(cs(n-r)<Fs&&(n-=r*Fs),cs(o-s)<Fs&&(o-=s*Fs),i=en(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function en(t,e,n,i){var r,o,a=Math.sin(t-n);return cs(a)>Fs?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function nn(t,e,n,i){var r;if(null==t)r=n*Ds,i.point(-Es,r),i.point(0,r),i.point(Es,r),i.point(Es,0),i.point(Es,-r),i.point(0,-r),i.point(-Es,-r),i.point(-Es,0),i.point(-Es,r);else if(cs(t[0]-e[0])>Fs){var o=t[0]<e[0]?Es:-Es;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function rn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var d,p=[h,f],g=e(h,f),m=a?g?0:r(h,f):g?r(h+(0>h?Es:-Es),f):0;if(!n&&(c=u=g)&&t.lineStart(),g!==u&&(d=i(n,p),($e(n,d)||$e(p,d))&&(p[0]+=Fs,p[1]+=Fs,g=e(p[0],p[1]))),g!==u)l=0,g?(t.lineStart(),d=i(p,n),t.point(d[0],d[1])):(d=i(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=i(p,n,!0))||(l=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&$e(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(c&&u)<<1}}}function i(t,e,n){var i=Ne(t),r=Ne(e),a=[1,0,0],s=Re(i,r),u=Oe(s,s),c=s[0],l=u-c*c;if(!l)return!n&&t;var h=o*u/l,f=-o*c/l,d=Re(a,s),p=Le(a,h),g=Le(s,f);je(p,g);var m=d,v=Oe(p,m),y=Oe(m,m),b=v*v-y*(Oe(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),x=Le(m,(-v-w)/y);if(je(x,p),x=ze(x),!n)return x;var _,k=t[0],M=e[0],C=t[1],S=e[1];k>M&&(_=k,k=M,M=_);var E=M-k,T=cs(E-Es)<Fs,D=T||Fs>E;if(!T&&C>S&&(_=C,C=S,S=_),D?T?C+S>0^x[1]<(cs(x[0]-k)<Fs?C:S):C<=x[1]&&x[1]<=S:E>Es^(k<=x[0]&&x[0]<=M)){var F=Le(m,(-v+w)/y);return je(F,p),[x,ze(F)]}}}function r(e,n){var i=a?t:Es-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=cs(o)>Fs,u=Nn(t,6*Ns);return Xe(e,n,u,a?[0,-t]:[-Es,t-Es])}function on(t,e,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,c=a.y,l=s.x,h=s.y,f=0,d=1,p=l-u,g=h-c;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-c,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=i-c,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(r.a={x:u+f*p,y:c+f*g}),1>d&&(r.b={x:u+d*p,y:c+d*g}),r}}}}}}function an(t,e,n,i){function r(i,r){return cs(i[0]-t)<Fs?r>0?0:3:cs(i[0]-n)<Fs?r>0?2:1:cs(i[1]-e)<Fs?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,i=t[1],r=0;n>r;++r)for(var o,a=1,s=v[r],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=i?o[1]>i&&c(l,o,t)>0&&++e:o[1]<=i&&c(l,o,t)<0&&--e,l=o;return 0!==e}function c(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function l(o,s,u,c){var l=0,h=0;if(null==o||(l=r(o,u))!==(h=r(s,u))||a(o,s)<0^u>0){do c.point(0===l||3===l?t:n,l>1?i:e);while((l=(l+u+4)%4)!==h)}else c.point(s[0],s[1])}function h(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function f(t,e){h(t,e)&&s.point(t,e)}function d(){F.point=g,v&&v.push(y=[]),C=!0,M=!1,_=k=0/0}function p(){m&&(g(b,w),x&&M&&T.rejoin(),m.push(T.buffer())),F.point=f,M&&s.lineEnd()}function g(t,e){t=Math.max(-Du,Math.min(Du,t)),e=Math.max(-Du,Math.min(Du,e));var n=h(t,e);if(v&&y.push([t,e]),C)b=t,w=e,x=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&M)s.point(t,e);else{var i={a:{x:_,y:k},b:{x:t,y:e}};D(i)?(M||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}_=t,k=e,M=n}var m,v,y,b,w,x,_,k,M,C,S,E=s,T=Je(),D=on(t,e,n,i),F={point:f,lineStart:d,lineEnd:p,polygonStart:function(){s=T,m=[],v=[],S=!0},polygonEnd:function(){s=E,m=Xa.merge(m);var e=u([t,i]),n=S&&e,r=m.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Be(m,o,e,l,s),s.polygonEnd()),m=v=y=null}};return F}}function sn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function un(t){var e=0,n=Es/3,i=Mn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Es/180,n=t[1]*Es/180):[e/Es*180,n/Es*180]},r}function cn(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,I((o-(t*t+n*n)*r*r)/(2*r))]},n}function ln(){function t(t,e){Au+=r*t-i*e,i=t,r=e}var e,n,i,r;Lu.point=function(o,a){Lu.point=t,e=i=o,n=r=a},Lu.lineEnd=function(){t(e,n)}}function hn(t,e){Nu>t&&(Nu=t),t>Ru&&(Ru=t),Ou>e&&(Ou=e),e>ju&&(ju=e)}function fn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=dn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=dn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function dn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function pn(t,e){yu+=t,bu+=e,++wu}function gn(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);xu+=a*(e+t)/2,_u+=a*(n+i)/2,ku+=a,pn(e=t,n=i)}var e,n;zu.point=function(i,r){zu.point=t,pn(e=i,n=r)}}function mn(){zu.point=pn}function vn(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);xu+=a*(i+t)/2,_u+=a*(r+e)/2,ku+=a,a=r*t-i*e,Mu+=a*(i+t),Cu+=a*(r+e),Su+=3*a,pn(i=t,r=e)}var e,n,i,r;zu.point=function(o,a){zu.point=t,pn(e=i=o,n=r=a)},zu.lineEnd=function(){t(e,n)}}function yn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,Ts)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:u};return s}function bn(t){function e(t){return(s?i:n)(t)}function n(e){return _n(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=0/0,M.point=o,e.lineStart()}function o(n,i){var o=Ne([n,i]),a=t(n,i);r(b,w,y,x,_,k,b=a[0],w=a[1],y=n,x=o[0],_=o[1],k=o[2],s,e),e.point(b,w)}function a(){M.point=n,e.lineEnd()}function u(){i(),M.point=c,M.lineEnd=l}function c(t,e){o(h=t,f=e),d=b,p=w,g=x,m=_,v=k,M.point=o}function l(){r(b,w,y,x,_,k,d,p,h,g,m,v,s,e),M.lineEnd=a,a()}var h,f,d,p,g,m,v,y,b,w,x,_,k,M={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),M.lineStart=u},polygonEnd:function(){e.polygonEnd(),M.lineStart=i}};return M}function r(e,n,i,s,u,c,l,h,f,d,p,g,m,v){var y=l-e,b=h-n,w=y*y+b*b;if(w>4*o&&m--){var x=s+d,_=u+p,k=c+g,M=Math.sqrt(x*x+_*_+k*k),C=Math.asin(k/=M),S=cs(cs(k)-1)<Fs||cs(i-f)<Fs?(i+f)/2:Math.atan2(_,x),E=t(S,C),T=E[0],D=E[1],F=T-e,A=D-n,N=b*F-y*A;(N*N/w>o||cs((y*F+b*A)/w-.5)>.3||a>s*d+u*p+c*g)&&(r(e,n,i,s,u,c,T,D,S,x/=M,_/=M,k,m,v),v.point(T,D),r(T,D,S,x,_,k,l,h,f,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Ns),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function wn(t){var e=bn(function(e,n){return t([e*Os,n*Os])});return function(t){return Cn(e(t))}}function xn(t){this.stream=t}function _n(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function kn(t){return Mn(function(){return t})()}function Mn(t){function e(t){return t=s(t[0]*Ns,t[1]*Ns),[t[0]*f+u,c-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(c-t[1])/f),t&&[t[0]*Os,t[1]*Os]}function i(){s=sn(a=Tn(v,y,b),o);var t=o(g,m);return u=d-t[0]*f,c=p+t[1]*f,r()}function r(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,h=bn(function(t,e){return t=o(t,e),[t[0]*f+u,c-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,b=0,w=Tu,x=me,_=null,k=null;return e.stream=function(t){return l&&(l.valid=!1),l=Cn(w(a,h(x(t)))),l.valid=!0,l},e.clipAngle=function(t){return arguments.length?(w=null==t?(_=t,Tu):rn((_=+t)*Ns),r()):_},e.clipExtent=function(t){return arguments.length?(k=t,x=t?an(t[0][0],t[0][1],t[1][0],t[1][1]):me,r()):k},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ns,m=t[1]%360*Ns,i()):[g*Os,m*Os]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ns,y=t[1]%360*Ns,b=t.length>2?t[2]%360*Ns:0,i()):[v*Os,y*Os,b*Os]},Xa.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function Cn(t){return _n(t,function(e,n){t.point(e*Ns,n*Ns)})}function Sn(t,e){return[t,e]}function En(t,e){return[t>Es?t-Ts:-Es>t?t+Ts:t,e]}function Tn(t,e,n){return t?e||n?sn(Fn(t),An(e,n)):Fn(t):e||n?An(e,n):En}function Dn(t){return function(e,n){return e+=t,[e>Es?e-Ts:-Es>e?e+Ts:e,n]}}function Fn(t){var e=Dn(t);return e.invert=Dn(-t),e}function An(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*i+s*r;return[Math.atan2(u*o-l*a,s*i-c*r),I(l*o+u*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,c=Math.sin(e),l=c*o-u*a;return[Math.atan2(u*o+c*a,s*i+l*r),I(l*i-s*r)]},n}function Nn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var u=a*e;null!=r?(r=On(n,r),o=On(n,o),(a>0?o>r:r>o)&&(r+=a*Ts)):(r=t+a*Ts,o=t-.5*u);for(var c,l=r;a>0?l>o:o>l;l-=u)s.point((c=ze([n,-i*Math.cos(l),-i*Math.sin(l)]))[0],c[1])}}function On(t,e){var n=Ne(e);n[0]-=t,Pe(n);var i=$(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Fs)%(2*Math.PI)}function Rn(t,e,n){var i=Xa.range(t,e-Fs,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function jn(t,e,n){var i=Xa.range(t,e-Fs,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Ln(t){return t.source}function Pn(t){return t.target}function zn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),c=r*Math.sin(t),l=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(U(i-e)+r*a*U(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*l,r=n*c+e*h,a=n*o+e*s;return[Math.atan2(r,i)*Os,Math.atan2(a,Math.sqrt(i*i+r*r))*Os]}:function(){return[t*Os,e*Os]};return p.distance=f,p}function $n(){function t(t,r){var o=Math.sin(r*=Ns),a=Math.cos(r),s=cs((t*=Ns)-e),u=Math.cos(s);$u+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*u)*s),n*o+i*a*u),e=t,n=o,i=a}var e,n,i;Iu.point=function(r,o){e=r*Ns,n=Math.sin(o*=Ns),i=Math.cos(o),Iu.point=t},Iu.lineEnd=function(){Iu.point=Iu.lineEnd=u}}function In(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function qn(t,e){function n(t,e){var n=cs(cs(e)-Ds)<Fs?0:a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Es/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ds]},n):Vn}function Hn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return cs(r)<Fs?Sn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-z(r)*Math.sqrt(t*t+n*n)]},n)}function Vn(t,e){return[t,Math.log(Math.tan(Es/4+e/2))]}function Un(t){var e,n=kn(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Es*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Yn(t,e){return[Math.log(Math.tan(Es/4+e/2)),-t]}function Bn(t){return t[0]}function Wn(t){return t[1]}function Gn(t,e,n,i){var r,o,a,s,u,c,l;return r=i[t],o=r[0],a=r[1],r=i[e],s=r[0],u=r[1],r=i[n],c=r[0],l=r[1],(l-a)*(s-o)-(u-a)*(c-o)>0}function Xn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Zn(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],c=n[1],l=e[1]-u,h=i[1]-c,f=(s*(u-c)-h*(r-o))/(h*a-s*l);return[r+f*a,u+f*l]}function Jn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Qn(){bi(this),this.edge=this.site=this.circle=null}function Kn(t){var e=Qu.pop()||new Qn;return e.site=t,e}function ti(t){li(t),Xu.remove(t),Qu.push(t),bi(t)}function ei(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];ti(t);for(var u=o;u.circle&&cs(n-u.circle.x)<Fs&&cs(i-u.circle.cy)<Fs;)o=u.P,s.unshift(u),ti(u),u=o;s.unshift(u),li(u);for(var c=a;c.circle&&cs(n-c.circle.x)<Fs&&cs(i-c.circle.cy)<Fs;)a=c.N,s.push(c),ti(c),c=a;s.push(c),li(c);var l,h=s.length;for(l=1;h>l;++l)c=s[l],u=s[l-1],mi(c.edge,u.site,c.site,r);u=s[0],c=s[h-1],c.edge=pi(u.site,c.site,null,r),ci(u),ci(c)}function ni(t){for(var e,n,i,r,o=t.x,a=t.y,s=Xu._;s;)if(i=ii(s,a)-o,i>Fs)s=s.L;else{if(r=o-ri(s,a),!(r>Fs)){i>-Fs?(e=s.P,n=s):r>-Fs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Kn(t);if(Xu.insert(e,u),e||n){if(e===n)return li(e),n=Kn(e.site),Xu.insert(u,n),u.edge=n.edge=pi(e.site,u.site),ci(e),void ci(n);if(!n)return void(u.edge=pi(e.site,u.site));li(e),li(n);var c=e.site,l=c.x,h=c.y,f=t.x-l,d=t.y-h,p=n.site,g=p.x-l,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,w={x:(m*y-d*b)/v+l,y:(f*b-g*y)/v+h};mi(n.edge,c,p,w),u.edge=pi(c,t,null,w),n.edge=pi(t,p,null,w),ci(e),ci(n)}}function ii(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var l=s-i,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+r-o/2)))/h+i:(i+s)/2}function ri(t,e){var n=t.N;if(n)return ii(n,e);var i=t.site;return i.y===e?i.x:1/0}function oi(t){this.site=t,this.edges=[]}function ai(t){for(var e,n,i,r,o,a,s,u,c,l,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=Gu,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)l=s[a].end(),i=l.x,r=l.y,c=s[++a%u].start(),e=c.x,n=c.y,(cs(i-e)>Fs||cs(r-n)>Fs)&&(s.splice(a,0,new vi(gi(o.site,l,cs(i-h)<Fs&&p-r>Fs?{x:h,y:cs(e-h)<Fs?n:p}:cs(r-p)<Fs&&f-i>Fs?{x:cs(n-p)<Fs?e:f,y:p}:cs(i-f)<Fs&&r-d>Fs?{x:f,y:cs(e-f)<Fs?n:d}:cs(r-d)<Fs&&i-h>Fs?{x:cs(n-d)<Fs?e:h,y:d}:null),o.site,null)),++u)}function si(t,e){return e.angle-t.angle}function ui(){bi(this),this.x=this.y=this.arc=this.site=this.cy=null}function ci(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,c=i.y-s,l=o.x-a,h=o.y-s,f=2*(u*h-c*l);if(!(f>=-As)){var d=u*u+c*c,p=l*l+h*h,g=(h*d-c*p)/f,m=(u*p-l*d)/f,h=m+s,v=Ku.pop()||new ui;v.arc=t,v.site=r,v.x=g+a,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,b=Ju._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ju.insert(y,v),y||(Zu=v)}}}}function li(t){var e=t.circle;e&&(e.P||(Zu=e.N),Ju.remove(e),Ku.push(e),bi(e),t.circle=null)}function hi(t){for(var e,n=Wu,i=on(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!fi(e,t)||!i(e)||cs(e.a.x-e.b.x)<Fs&&cs(e.a.y-e.b.y)<Fs)&&(e.a=e.b=null,n.splice(r,1))}function fi(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,h=t.r,f=l.x,d=l.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(f>p){if(o){if(o.y>=c)return}else o={x:m,y:u};n={x:m,y:c}}else{if(o){if(o.y<u)return}else o={x:m,y:c};n={x:m,y:u}}}else if(i=(f-p)/(g-d),r=v-i*m,-1>i||i>1)if(f>p){if(o){if(o.y>=c)return}else o={x:(u-r)/i,y:u};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-r)/i,y:c};n={x:(u-r)/i,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function di(t,e){this.l=t,this.r=e,this.a=this.b=null}function pi(t,e,n,i){var r=new di(t,e);return Wu.push(r),n&&mi(r,t,e,n),i&&mi(r,e,t,i),Gu[t.i].edges.push(new vi(r,t,e)),Gu[e.i].edges.push(new vi(r,e,t)),r}function gi(t,e,n){var i=new di(t,null);return i.a=e,i.b=n,Wu.push(i),i}function mi(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function vi(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function yi(){this._=null}function bi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function wi(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function xi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function _i(t){for(;t.L;)t=t.L;return t}function ki(t,e){var n,i,r,o=t.sort(Mi).pop();for(Wu=[],Gu=new Array(t.length),Xu=new yi,Ju=new yi;;)if(r=Zu,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==n||o.y!==i)&&(Gu[o.i]=new oi(o),ni(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;ei(r.arc)}e&&(hi(e),ai(e));var a={cells:Gu,edges:Wu};return Xu=Ju=Wu=Gu=null,a}function Mi(t,e){return e.y-t.y||e.x-t.x}function Ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Si(t){return t.x}function Ei(t){return t.y}function Ti(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&Di(t,u[0],n,i,a,s),u[1]&&Di(t,u[1],a,i,r,s),u[2]&&Di(t,u[2],n,s,a,o),u[3]&&Di(t,u[3],a,s,r,o)}}function Fi(t,e){t=Xa.rgb(t),e=Xa.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+ce(Math.round(n+o*t))+ce(Math.round(i+a*t))+ce(Math.round(r+s*t))}}function Ai(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Ri(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Ni(t,e){return e-=t=+t,function(n){return t+e*n}}function Oi(t,e){var n,i,r,o,a,s=0,u=0,c=[],l=[];for(t+="",e+="",ec.lastIndex=0,i=0;n=ec.exec(e);++i)n.index&&c.push(e.substring(s,u=n.index)),l.push({i:c.length,x:n[0]}),c.push(null),s=ec.lastIndex;for(s<e.length&&c.push(e.substring(s)),i=0,o=l.length;(n=ec.exec(t))&&o>i;++i)if(a=l[i],a.x==n[0]){if(a.i)if(null==c[a.i+1])for(c[a.i-1]+=a.x,c.splice(a.i,1),r=i+1;o>r;++r)l[r].i--;else for(c[a.i-1]+=a.x+c[a.i+1],c.splice(a.i,2),r=i+1;o>r;++r)l[r].i-=2;else if(null==c[a.i+1])c[a.i]=a.x;else for(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1),r=i+1;o>r;++r)l[r].i--;l.splice(i,1),o--,i--}else a.x=Ni(parseFloat(n[0]),parseFloat(a.x));for(;o>i;)a=l.pop(),null==c[a.i+1]?c[a.i]=a.x:(c[a.i]=a.x+c[a.i+1],c.splice(a.i+1,1)),o--;return 1===c.length?null==c[0]?(a=l[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(i=0;o>i;++i)c[(a=l[i]).i]=a.x(t);return c.join("")}}function Ri(t,e){for(var n,i=Xa.interpolators.length;--i>=0&&!(n=Xa.interpolators[i](t,e)););return n}function ji(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(Ri(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;a>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function Li(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Pi(t){return function(e){return 1-t(1-e)}}function zi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))
}}function $i(t){return t*t}function Ii(t){return t*t*t}function qi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Hi(t){return function(e){return Math.pow(e,t)}}function Vi(t){return 1-Math.cos(t*Ds)}function Ui(t){return Math.pow(2,10*(t-1))}function Yi(t){return 1-Math.sqrt(1-t*t)}function Bi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ts*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ts/e)}}function Wi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Gi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Xi(t,e){t=Xa.hcl(t),e=Xa.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return J(n+o*t,i+a*t,r+s*t)+""}}function Zi(t,e){t=Xa.hsl(t),e=Xa.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return G(n+o*t,i+a*t,r+s*t)+""}}function Ji(t,e){t=Xa.lab(t),e=Xa.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return te(n+o*t,i+a*t,r+s*t)+""}}function Qi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ki(t){var e=[t.a,t.b],n=[t.c,t.d],i=er(e),r=tr(e,n),o=er(nr(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Os,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Os:0}function tr(t,e){return t[0]*e[0]+t[1]*e[1]}function er(t){var e=Math.sqrt(tr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function nr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function ir(t,e){var n,i=[],r=[],o=Xa.transform(t),a=Xa.transform(e),s=o.translate,u=a.translate,c=o.rotate,l=a.rotate,h=o.skew,f=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:Ni(s[0],u[0])},{i:3,x:Ni(s[1],u[1])})):i.push(u[0]||u[1]?"translate("+u+")":""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:Ni(c,l)})):l&&i.push(i.pop()+"rotate("+l+")"),h!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:Ni(h,f)}):f&&i.push(i.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:Ni(d[0],p[0])},{i:n-2,x:Ni(d[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function rr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function or(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function ar(t){for(var e=t.source,n=t.target,i=ur(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function sr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ur(t,e){if(t===e)return t;for(var n=sr(t),i=sr(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function cr(t){t.fixed|=2}function lr(t){t.fixed&=-7}function hr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function fr(t){t.fixed&=-5}function dr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(dr(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,r+=c*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function pr(t,e){return Xa.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=yr,t}function gr(t){return t.children}function mr(t){return t.value}function vr(t,e){return e.value-t.value}function yr(t){return Xa.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function br(t){return t.x}function wr(t){return t.y}function xr(t,e,n){t.y0=e,t.y=n}function _r(t){return Xa.range(t.length)}function kr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function Mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Cr(t){return t.reduce(Sr,0)}function Sr(t,e){return t+e[1]}function Er(t,e){return Tr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Tr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Dr(t){return[Xa.min(t),Xa.max(t)]}function Fr(t,e){return t.parent==e.parent?1:2}function Ar(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Nr(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Or(t,e){var n=t.children;if(n&&(r=n.length))for(var i,r,o=-1;++o<r;)e(i=Or(n[o],e),t)>0&&(t=i);return t}function Rr(t,e){return t.x-e.x}function jr(t,e){return e.x-t.x}function Lr(t,e){return t.depth-e.depth}function Pr(t,e){function n(t,i){var r=t.children;if(r&&(a=r.length))for(var o,a,s=null,u=-1;++u<a;)o=r[u],n(o,s),s=o;e(t,i)}n(t,null)}function zr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(i+=e.change)}function $r(t,e,n){t=t._tree,e=e._tree;var i=n/(e.number-t.number);t.change+=i,e.change-=i,e.shift+=n,e.prelim+=n,e.mod+=n}function Ir(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function qr(t,e){return t.value-e.value}function Hr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Vr(t,e){t._pack_next=e,e._pack_prev=t}function Ur(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Yr(t){function e(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(c=n.length)){var n,i,r,o,a,s,u,c,l=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Br),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(r=n[1],r.x=r.r,r.y=0,e(r),c>2))for(o=n[2],Xr(i,r,o),e(o),Hr(i,o),i._pack_prev=o,Hr(o,r),r=i._pack_next,a=3;c>a;a++){Xr(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Ur(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!Ur(u,o);u=u._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?Vr(i,r=s):Vr(i=u,r),a--):(Hr(i,o),r=o,e(o))}var v=(l+h)/2,y=(f+d)/2,b=0;for(a=0;c>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Wr)}}function Br(t){t._pack_next=t._pack_prev=t}function Wr(t){delete t._pack_next,delete t._pack_prev}function Gr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Gr(r[o],e,n,i)}function Xr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var u=.5+(i-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+c*o,n.y=t.y+u*o-c*r}else n.x=t.x+i,n.y=t.y}function Zr(t){return 1+Xa.max(t,function(t){return t.y})}function Jr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Qr(t){var e=t.children;return e&&e.length?Qr(e[0]):t}function Kr(t){var e,n=t.children;return n&&(e=n.length)?Kr(n[e-1]):t}function to(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function eo(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function no(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function io(t){return t.rangeExtent?t.rangeExtent():no(t.range())}function ro(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function oo(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function ao(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:hc}function so(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=Xa.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function uo(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?so:ro,u=i?or:rr;return a=r(t,e,u,n),s=r(e,t,u,Ri),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Qi)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return fo(t,e)},o.tickFormat=function(e,n){return po(t,e,n)},o.nice=function(e){return lo(t,e),r()},o.copy=function(){return uo(t,e,n,i)},r()}function co(t,e){return Xa.rebind(t,e,"range","rangeRound","interpolate","clamp")}function lo(t,e){return oo(t,ao(ho(t,e)[2]))}function ho(t,e){null==e&&(e=10);var n=no(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function fo(t,e){return Xa.range.apply(Xa,ho(t,e))}function po(t,e,n){var i=ho(t,e);return Xa.format(n?n.replace(au,function(t,e,n,r,o,a,s,u,c,l){return[e,n,r,o,a,s,u,c||"."+mo(l,i),l].join("")}):",."+go(i[2])+"f")}function go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function mo(t,e){var n=go(e[2]);return t in fc?Math.abs(n-go(Math.max(Math.abs(e[0]),Math.abs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function vo(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=oo(i.map(r),n?Math:pc);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=no(i),a=[],s=t[0],u=t[1],c=Math.floor(r(s)),l=Math.ceil(r(u)),h=e%1?2:e;if(isFinite(l-c)){if(n){for(;l>c;c++)for(var f=1;h>f;f++)a.push(o(c)*f);a.push(o(c))}else for(a.push(o(c));c++<l;)for(var f=h-1;f>0;f--)a.push(o(c)*f);for(c=0;a[c]<s;c++);for(l=a.length;a[l-1]>u;l--);a=a.slice(c,l)}return a},a.tickFormat=function(t,e){if(!arguments.length)return dc;arguments.length<2?e=dc:"function"!=typeof e&&(e=Xa.format(e));var i,s=Math.max(.1,t/a.ticks().length),u=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/o(u(r(t)+i))<=s?e(t):""}},a.copy=function(){return vo(t.copy(),e,n,i)},co(a,t)}function yo(t,e,n){function i(e){return t(r(e))}var r=bo(e),o=bo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return fo(n,t)},i.tickFormat=function(t,e){return po(n,t,e)},i.nice=function(t){return i.domain(lo(n,t))},i.exponent=function(a){return arguments.length?(r=bo(e=a),o=bo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return yo(t.copy(),e,n)},co(i,t)}function bo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function wo(t,e){function n(n){return a[((o.get(n)||"range"===e.t&&o.set(n,t.push(n)))-1)%a.length]}function i(e,n){return Xa.range(t.length).map(function(t){return e+n*t})}var o,a,s;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new r;for(var a,s=-1,u=i.length;++s<u;)o.has(a=i[s])||o.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var u=r[0],c=r[1],l=(c-u)/(Math.max(1,t.length-1)+o);return a=i(t.length<2?(u+c)/2:u+l*o/2,l),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var c=r[1]<r[0],l=r[c-0],h=r[1-c],f=(h-l)/(t.length-o+2*u);return a=i(l+f*u,f),c&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var c=r[1]<r[0],l=r[c-0],h=r[1-c],f=Math.floor((h-l)/(t.length-o+2*u)),d=h-l-(t.length-o)*f;return a=i(l+Math.round(d/2),f),c&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return no(e.a[0])},n.copy=function(){return wo(t,e)},n.domain(t)}function xo(t,e){function n(){var n=0,o=e.length;for(r=[];++n<o;)r[n-1]=Xa.quantile(t,n/o);return i}function i(t){return isNaN(t=+t)?void 0:e[Xa.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Xa.ascending),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return xo(t,e)},n()}function _o(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},i.copy=function(){return _o(t,e,n)},r()}function ko(t,e){function n(n){return n>=n?e[Xa.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ko(t,e)},n}function Mo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return fo(t,e)},e.tickFormat=function(e,n){return po(t,e,n)},e.copy=function(){return Mo(t)},e}function Co(t){return t.innerRadius}function So(t){return t.outerRadius}function Eo(t){return t.startAngle}function To(t){return t.endAngle}function Do(t){function e(e){function a(){c.push("M",o(t(l),s))}for(var u,c=[],l=[],h=-1,f=e.length,d=ge(n),p=ge(i);++h<f;)r.call(this,u=e[h],h)?l.push([+d.call(this,u,h),+p.call(this,u,h)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var n=Bn,i=Wn,r=Ye,o=Fo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=xc.get(t)||Fo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Fo(t){return t.join("L")}function Ao(t){return Fo(t)+"Z"}function No(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Oo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Ro(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function jo(t,e){return t.length<4?Fo(t):t[1]+zo(t.slice(1,t.length-1),$o(t,e))}function Lo(t,e){return t.length<3?Fo(t):t[0]+zo((t.push(t[0]),t),$o([t[t.length-2]].concat(t,[t[1]]),e))}function Po(t,e){return t.length<3?Fo(t):t[0]+zo(t,$o(t,e))}function zo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Fo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return i}function $o(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Io(t){if(t.length<3)return Fo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Uo(Mc,a),",",Uo(Mc,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Yo(u,a,s);return t.pop(),u.push("L",i),u.join("")}function qo(t){if(t.length<4)return Fo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Uo(Mc,o)+","+Uo(Mc,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Yo(n,o,a);return n.join("")}function Ho(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Uo(Mc,a),",",Uo(Mc,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Yo(e,a,s);return e.join("")}function Vo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Io(t)}function Uo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Yo(t,e,n){t.push("C",Uo(_c,e),",",Uo(_c,n),",",Uo(kc,e),",",Uo(kc,n),",",Uo(Mc,e),",",Uo(Mc,n))}function Bo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Wo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Bo(r,o);++e<n;)i[e]=(a+(a=Bo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Go(t){for(var e,n,i,r,o=[],a=Wo(t),s=-1,u=t.length-1;++s<u;)e=Bo(t[s],t[s+1]),cs(e)<Fs?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Xo(t){return t.length<3?Fo(t):t[0]+zo(t,Go(t))}function Zo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]+bc,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Jo(t){function e(e){function u(){g.push("M",s(t(v),h),l,c(t(m.reverse()),h),"Z")}for(var f,d,p,g=[],m=[],v=[],y=-1,b=e.length,w=ge(n),x=ge(r),_=n===i?function(){return d}:ge(i),k=r===o?function(){return p}:ge(o);++y<b;)a.call(this,f=e[y],y)?(m.push([d=+w.call(this,f,y),p=+x.call(this,f,y)]),v.push([+_.call(this,f,y),+k.call(this,f,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Bn,i=Bn,r=0,o=Wn,a=Ye,s=Fo,u=s.key,c=s,l="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=xc.get(t)||Fo).key,c=s.reverse||s,l=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Qo(t){return t.radius}function Ko(t){return[t.x,t.y]}function ta(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+bc;return[n*Math.cos(i),n*Math.sin(i)]}}function ea(){return 64}function na(){return"circle"}function ia(t){var e=Math.sqrt(t/Es);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ra(t,e){return ps(t,Fc),t.id=e,t}function oa(t,e,n,i){var r=t.id;return D(t,"function"==typeof n?function(t,o,a){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,o,a)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function aa(t){return null==t&&(t=""),function(){this.textContent=t}}function sa(t,e,n,i){var o=t.__transition__||(t.__transition__={active:0,count:0}),a=o[n];if(!a){var s=i.time;a=o[n]={tween:new r,time:s,ease:i.ease,delay:i.delay,duration:i.duration},++o.count,Xa.timer(function(i){function r(i){return o.active>n?c():(o.active=n,a.event&&a.event.start.call(t,l,e),a.tween.forEach(function(n,i){(i=i.call(t,l,e))&&g.push(i)}),void Xa.timer(function(){return p.c=u(i||1)?Ye:u,1},0,s))}function u(i){if(o.active!==n)return c();for(var r=i/d,s=h(r),u=g.length;u>0;)g[--u].call(t,s);return r>=1?(a.event&&a.event.end.call(t,l,e),c()):void 0}function c(){return--o.count?delete o[n]:delete t.__transition__,1}var l=t.__data__,h=a.ease,f=a.delay,d=a.duration,p=Ks,g=[];return p.t=f+s,i>=f?r(i-f):void(p.c=r)},0,s)}}function ua(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function ca(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function la(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ha(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new Pc(n-1)),1),n}function o(t,n){return e(t=new Pc(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{Pc=la;var i=new la;return i._=t,a(i,e,n)}finally{Pc=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var u=t.utc=fa(t);return u.floor=u,u.round=fa(i),u.ceil=fa(r),u.offset=fa(o),u.range=s,t}function fa(t){return function(e,n){try{Pc=la;var i=new la;return i._=e,t(i,n)._}finally{Pc=Date}}}function da(t){function e(e){for(var i,r,o,a=[],s=-1,u=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(r=nl[i=t.charAt(++s)])&&(i=t.charAt(++s)),(o=il[i])&&(i=o(e,null==r?"e"===i?" ":"0":r)),a.push(i),u=s+1);return a.push(t.substring(u,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=pa(n,t,e,0);if(i!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Pc!==la,o=new(r?la:Pc);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),r?o._:o},e.toString=function(){return t},e}function pa(t,e,n,i){for(var r,o,a,s=0,u=e.length,c=n.length;u>s;){if(i>=c)return-1;if(r=e.charCodeAt(s++),37===r){if(a=e.charAt(s++),o=rl[a in nl?e.charAt(s++):a],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function ga(t){return new RegExp("^(?:"+t.map(Xa.requote).join("|")+")","i")}function ma(t){for(var e=new r,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function va(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function ya(t,e,n){Xc.lastIndex=0;var i=Xc.exec(e.substring(n));return i?(t.w=Zc.get(i[0].toLowerCase()),n+i[0].length):-1}function ba(t,e,n){Wc.lastIndex=0;var i=Wc.exec(e.substring(n));return i?(t.w=Gc.get(i[0].toLowerCase()),n+i[0].length):-1}function wa(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function xa(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n));return i?(t.U=+i[0],n+i[0].length):-1}function _a(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n));return i?(t.W=+i[0],n+i[0].length):-1}function ka(t,e,n){Kc.lastIndex=0;var i=Kc.exec(e.substring(n));return i?(t.m=tl.get(i[0].toLowerCase()),n+i[0].length):-1}function Ma(t,e,n){Jc.lastIndex=0;var i=Jc.exec(e.substring(n));return i?(t.m=Qc.get(i[0].toLowerCase()),n+i[0].length):-1}function Ca(t,e,n){return pa(t,il.c.toString(),e,n)}function Sa(t,e,n){return pa(t,il.x.toString(),e,n)}function Ea(t,e,n){return pa(t,il.X.toString(),e,n)}function Ta(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Da(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.y=Aa(+i[0]),n+i[0].length):-1}function Fa(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function Aa(t){return t+(t>68?1900:2e3)}function Na(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Oa(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ra(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ja(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function La(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Pa(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function za(t,e,n){ol.lastIndex=0;var i=ol.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function $a(t,e,n){var i=al.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}function Ia(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(cs(e)/60),r=cs(e)%60;return n+va(i,"0",2)+va(r,"0",2)}function qa(t,e,n){el.lastIndex=0;var i=el.exec(e.substring(n,n+1));return i?n+i[0].length:-1}function Ha(t){function e(t){try{Pc=la;var e=new Pc;return e._=t,n(e)}finally{Pc=Date}}var n=da(t);return e.parse=function(t){try{Pc=la;var e=n.parse(t);return e&&e._}finally{Pc=Date}},e.toString=n.toString,e}function Va(t){return t.toISOString()}function Ua(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=Xa.bisect(ul,r);return o==ul.length?[e.year,ho(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/ul[o-1]<ul[o]/r?o-1:o]:[fl,ho(t,n)[2]]}return i.invert=function(e){return Ya(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Ya)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Ya(+n+1),e).length}var o=i.domain(),a=no(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(oo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Ya(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Ya(+e+1);return e}}:t))},i.ticks=function(t,e){var n=no(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ya(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Ua(t.copy(),e,n)},co(i,t)}function Ya(t){return new Date(t)}function Ba(t){return function(e){for(var n=t.length-1,i=t[n];!i[1](e);)i=t[--n];return i[0](e)}}function Wa(t){return JSON.parse(t.responseText)}function Ga(t){var e=Qa.createRange();return e.selectNode(Qa.body),e.createContextualFragment(t.responseText)}var Xa={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var Za=[].slice,Ja=function(t){return Za.call(t)},Qa=document,Ka=Qa.documentElement,ts=window;try{Ja(Ka.childNodes)[0].nodeType}catch(es){Ja=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Qa.createElement("div").style.setProperty("opacity",0,"")}catch(ns){var is=ts.Element.prototype,rs=is.setAttribute,os=is.setAttributeNS,as=ts.CSSStyleDeclaration.prototype,ss=as.setProperty;is.setAttribute=function(t,e){rs.call(this,t,e+"")},is.setAttributeNS=function(t,e,n){os.call(this,t,e,n+"")},as.setProperty=function(t,e,n){ss.call(this,t,e+"",n)}}Xa.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},Xa.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Xa.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},Xa.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},Xa.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=r=t[o])&&n>=n);)n=r=void 0;for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a&&!(null!=(n=r=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},Xa.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)isNaN(n=+t[o])||(i+=n);else for(;++o<r;)isNaN(n=+e.call(t,t[o],o))||(i+=n);return i},Xa.mean=function(e,n){var i,r=e.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<r;)t(i=e[a])&&(o+=(i-o)/++s);else for(;++a<r;)t(i=n.call(e,e[a],a))&&(o+=(i-o)/++s);return s?o:void 0},Xa.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},Xa.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?Xa.quantile(e.sort(Xa.ascending),.5):void 0},Xa.bisector=function(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t.call(e,e[o],o)<n?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;n<t.call(e,e[o],o)?r=o:i=o+1}return i}}};var us=Xa.bisector(function(t){return t});Xa.bisectLeft=us.left,Xa.bisect=Xa.bisectRight=us.right,Xa.shuffle=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t},Xa.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Xa.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},Xa.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=Xa.min(arguments,e),i=new Array(n);++t<n;)for(var r,o=-1,a=i[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return i},Xa.transpose=function(t){return Xa.zip.apply(Xa,t)},Xa.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Xa.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Xa.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Xa.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n};var cs=Math.abs;Xa.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i===1/0)throw new Error("infinite range");var r,o=[],a=n(cs(i)),s=-1;if(t*=a,e*=a,i*=a,0>i)for(;(r=t+i*++s)>e;)o.push(r/a);else for(;(r=t+i*++s)<e;)o.push(r/a);return o},Xa.map=function(t){var e=new r;if(t instanceof r)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},i(r,{has:function(t){return ls+t in this},get:function(t){return this[ls+t]},set:function(t,e){return this[ls+t]=e},remove:function(t){return t=ls+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===hs&&t.call(this,e.substring(1),this[e])}});var ls="\x00",hs=ls.charCodeAt(0);Xa.nest=function(){function t(e,s,u){if(u>=a.length)return i?i.call(o,s):n?s.sort(n):s;for(var c,l,h,f,d=-1,p=s.length,g=a[u++],m=new r;++d<p;)(f=m.get(c=g(l=s[d])))?f.push(l):m.set(c,[l]);return e?(l=e(),h=function(n,i){l.set(n,t(e,i,u))}):(l={},h=function(n,i){l[n]=t(e,i,u)}),m.forEach(h),l}function e(t,n){if(n>=a.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,o={},a=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(Xa.map,n,0),0)},o.key=function(t){return a.push(t),o},o.sortKeys=function(t){return s[a.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},Xa.set=function(t){var e=new o;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},i(o,{has:function(t){return ls+t in this},add:function(t){return this[ls+t]=!0,t},remove:function(t){return t=ls+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===hs&&t.call(this,e.substring(1))}}),Xa.behavior={},Xa.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=a(t,e,e[n]);return t};var fs=["webkit","ms","moz","Moz","o","O"];Xa.dispatch=function(){for(var t=new c,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=l(t);
return t},c.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},Xa.event=null,Xa.requote=function(t){return t.replace(ds,"\\$&")};var ds=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ps={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},gs=function(t,e){return e.querySelector(t)},ms=function(t,e){return e.querySelectorAll(t)},vs=Ka[s(Ka,"matchesSelector")],ys=function(t,e){return vs.call(t,e)};"function"==typeof Sizzle&&(gs=function(t,e){return Sizzle(t,e)[0]||null},ms=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},ys=Sizzle.matchesSelector),Xa.selection=function(){return _s};var bs=Xa.selection.prototype=[];bs.select=function(t){var e,n,i,r,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,c=i.length;++u<c;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return p(o)},bs.selectAll=function(t){var e,n,i=[];t=m(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=Ja(t.call(n,n.__data__,s,r))),e.parentNode=n);return p(i)};var ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xa.ns={prefix:ws,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),ws.hasOwnProperty(n)?{space:ws[n],local:t}:t}},bs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Xa.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},bs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=w(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!b(t[r]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},bs.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(k(n,t[n],e));return this}if(2>i)return ts.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(k(t,e,n))},bs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},bs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},bs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},bs.append=function(t){return t=C(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},bs.insert=function(t,e){return t=C(t),e=g(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},bs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},bs.data=function(t,e){function n(t,n){var i,o,a,s=t.length,h=n.length,f=Math.min(s,h),d=new Array(h),p=new Array(h),g=new Array(s);if(e){var m,v=new r,y=new r,b=[];for(i=-1;++i<s;)m=e.call(o=t[i],o.__data__,i),v.has(m)?g[i]=o:v.set(m,o),b.push(m);for(i=-1;++i<h;)m=e.call(n,a=n[i],i),(o=v.get(m))?(d[i]=o,o.__data__=a):y.has(m)||(p[i]=S(a)),y.set(m,a),v.remove(m);for(i=-1;++i<s;)v.has(b[i])&&(g[i]=t[i])}else{for(i=-1;++i<f;)o=t[i],a=n[i],o?(o.__data__=a,d[i]=o):p[i]=S(a);for(;h>i;++i)p[i]=S(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,u.push(p),c.push(d),l.push(g)}var i,o,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++a<s;)(o=i[a])&&(t[a]=o.__data__);return t}var u=F([]),c=p([]),l=p([]);if("function"==typeof t)for(;++a<s;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<s;)n(i=this[a],t);return c.enter=function(){return u},c.exit=function(){return l},c},bs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},bs.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=E(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return p(r)},bs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},bs.sort=function(t){t=T.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},bs.each=function(t){return D(this,function(e,n,i){t.call(e,e.__data__,n,i)})},bs.call=function(t){var e=Ja(arguments);return t.apply(e[0]=this,e),this},bs.empty=function(){return!this.node()},bs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},bs.size=function(){var t=0;return this.each(function(){++t}),t};var xs=[];Xa.selection.enter=F,Xa.selection.enter.prototype=xs,xs.append=bs.append,xs.empty=bs.empty,xs.node=bs.node,xs.call=bs.call,xs.size=bs.size,xs.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,l=r.length;++c<l;)(o=r[c])?(e.push(i[c]=n=t.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return p(a)},xs.insert=function(t,e){return arguments.length<2&&(e=A(this)),bs.insert.call(this,t,e)},bs.transition=function(){for(var t,e,n=Sc||++Ac,i=[],r=Ec||{time:Date.now(),ease:qi,delay:0,duration:250},o=-1,a=this.length;++o<a;){i.push(t=[]);for(var s=this[o],u=-1,c=s.length;++u<c;)(e=s[u])&&sa(e,u,n,r),t.push(e)}return ra(i,n)},bs.interrupt=function(){return this.each(N)},Xa.select=function(t){var e=["string"==typeof t?gs(t,Qa):t];return e.parentNode=Ka,p([e])},Xa.selectAll=function(t){var e=Ja("string"==typeof t?ms(t,Qa):t);return e.parentNode=Ka,p([e])};var _s=Xa.select(Ka);bs.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(O(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(O(t,e,n))};var ks=Xa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ks.forEach(function(t){"on"+t in Qa&&ks.remove(t)});var Ms="onselectstart"in Qa?null:s(Ka.style,"userSelect"),Cs=0;Xa.mouse=function(t){return P(t,f())};var Ss=/WebKit/.test(ts.navigator.userAgent)?-1:0;Xa.touches=function(t,e){return arguments.length<2&&(e=f().touches),e?Ja(e).map(function(e){var n=P(t,e);return n.identifier=e.identifier,n}):[]},Xa.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function e(){return Xa.event.changedTouches[0].identifier}function n(t,e){return Xa.touches(t).filter(function(t){return t.identifier===e})[0]}function i(t,e,n,i){return function(){function a(){var t=e(l,d),n=t[0]-g[0],i=t[1]-g[1];m|=n|i,g=t,h({type:"drag",x:t[0]+u[0],y:t[1]+u[1],dx:n,dy:i})}function s(){v.on(n+"."+p,null).on(i+"."+p,null),y(m&&Xa.event.target===f),h({type:"dragend"})}var u,c=this,l=c.parentNode,h=r.of(c,arguments),f=Xa.event.target,d=t(),p=null==d?"drag":"drag-"+d,g=e(l,d),m=0,v=Xa.select(ts).on(n+"."+p,a).on(i+"."+p,s),y=L();o?(u=o.apply(c,arguments),u=[u.x-g[0],u.y-g[1]]):u=[0,0],h({type:"dragstart"})}}var r=d(t,"drag","dragstart","dragend"),o=null,a=i(u,Xa.mouse,"mousemove","mouseup"),s=i(e,n,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},Xa.rebind(t,r,"on")};var Es=Math.PI,Ts=2*Es,Ds=Es/2,Fs=1e-6,As=Fs*Fs,Ns=Es/180,Os=180/Es,Rs=Math.SQRT2,js=2,Ls=4;Xa.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=H(g),a=o/(js*f)*(n*V(Rs*e+g)-q(g));return[i+a*c,r+a*l,o*n/H(Rs*e+g)]}return[i+t*c,r+t*l,o*Math.exp(Rs*e)]}var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2],c=a-i,l=s-r,h=c*c+l*l,f=Math.sqrt(h),d=(u*u-o*o+Ls*h)/(2*o*js*f),p=(u*u-o*o-Ls*h)/(2*u*js*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/o))/Rs;return n.duration=1e3*y,n},Xa.behavior.zoom=function(){function t(t){t.on(E,c).on($s+".zoom",f).on(T,p).on("dblclick.zoom",g).on(F,l)}function e(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function n(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function i(t){M.k=Math.max(S[0],Math.min(S[1],t))}function r(t,e){e=n(e),M.x+=t[0]-e[0],M.y+=t[1]-e[1]}function o(){x&&x.domain(w.range().map(function(t){return(t-M.x)/M.k}).map(w.invert)),k&&k.domain(_.range().map(function(t){return(t-M.y)/M.k}).map(_.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function u(t){t({type:"zoomend"})}function c(){function t(){l=1,r(Xa.mouse(i),f),s(o)}function n(){h.on(T,ts===i?p:null).on(D,null),d(l&&Xa.event.target===c),u(o)}var i=this,o=A.of(i,arguments),c=Xa.event.target,l=0,h=Xa.select(ts).on(T,t).on(D,n),f=e(Xa.mouse(i)),d=L();N.call(i),a(o)}function l(){function t(){var t=Xa.touches(p);return d=M.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){for(var e=Xa.event.changedTouches,n=0,o=e.length;o>n;++n)m[e[n].identifier]=null;var a=t(),u=Date.now();if(1===a.length){if(500>u-b){var c=a[0],l=m[c.identifier];i(2*M.k),r(c,l),h(),s(g)}b=u}else if(a.length>1){var c=a[0],f=a[1],d=c[0]-f[0],p=c[1]-f[1];v=d*d+p*p}}function o(){for(var t,e,n,o,a=Xa.touches(p),u=0,c=a.length;c>u;++u,o=null)if(n=a[u],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var l=(l=n[0]-t[0])*l+(l=n[1]-t[1])*l,h=v&&Math.sqrt(l/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(h*d)}b=null,r(t,e),s(g)}function f(){if(Xa.event.touches.length){for(var e=Xa.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}_.on(w,null).on(x,null),k.on(E,c).on(F,l),C(),u(g)}var d,p=this,g=A.of(p,arguments),m={},v=0,y=Xa.event.changedTouches[0].identifier,w="touchmove.zoom-"+y,x="touchend.zoom-"+y,_=Xa.select(ts).on(w,o).on(x,f),k=Xa.select(p).on(E,null).on(F,n),C=L();N.call(p),n(),a(g)}function f(){var t=A.of(this,arguments);y?clearTimeout(y):(N.call(this),a(t)),y=setTimeout(function(){y=null,u(t)},50),h();var n=v||Xa.mouse(this);m||(m=e(n)),i(Math.pow(2,.002*Ps())*M.k),r(n,m),s(t)}function p(){m=null}function g(){var t=A.of(this,arguments),n=Xa.mouse(this),o=e(n),c=Math.log(M.k)/Math.LN2;a(t),i(Math.pow(2,Xa.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),r(n,o),s(t),u(t)}var m,v,y,b,w,x,_,k,M={x:0,y:0,k:1},C=[960,500],S=zs,E="mousedown.zoom",T="mousemove.zoom",D="mouseup.zoom",F="touchstart.zoom",A=d(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=A.of(this,arguments),e=M;Sc?Xa.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=C[0],i=C[1],r=n/2,o=i/2,a=Xa.interpolateZoom([(r-M.x)/M.k,(o-M.y)/M.k,n/M.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),u=n/i[2];this.__chart__=M={x:r-i[0]*u,y:o-i[1]*u,k:u},s(t)}}).each("end.zoom",function(){u(t)}):(this.__chart__=M,a(t),s(t),u(t))})},t.translate=function(e){return arguments.length?(M={x:+e[0],y:+e[1],k:M.k},o(),t):[M.x,M.y]},t.scale=function(e){return arguments.length?(M={x:M.x,y:M.y,k:+e},o(),t):M.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?zs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.x=function(e){return arguments.length?(x=e,w=e.copy(),M={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,_=e.copy(),M={x:0,y:0,k:1},t):k},Xa.rebind(t,A,"on")};var Ps,zs=[0,1/0],$s="onwheel"in Qa?(Ps=function(){return-Xa.event.deltaY*(Xa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qa?(Ps=function(){return Xa.event.wheelDelta},"mousewheel"):(Ps=function(){return-Xa.event.detail},"MozMousePixelScroll");Y.prototype.toString=function(){return this.rgb()+""},Xa.hsl=function(t,e,n){return 1===arguments.length?t instanceof W?B(t.h,t.s,t.l):le(""+t,he,B):B(+t,+e,+n)};var Is=W.prototype=new Y;Is.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),B(this.h,this.s,this.l/t)},Is.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),B(this.h,this.s,t*this.l)},Is.rgb=function(){return G(this.h,this.s,this.l)},Xa.hcl=function(t,e,n){return 1===arguments.length?t instanceof Z?X(t.h,t.c,t.l):t instanceof K?ee(t.l,t.a,t.b):ee((t=fe((t=Xa.rgb(t)).r,t.g,t.b)).l,t.a,t.b):X(+t,+e,+n)};var qs=Z.prototype=new Y;qs.brighter=function(t){return X(this.h,this.c,Math.min(100,this.l+Hs*(arguments.length?t:1)))},qs.darker=function(t){return X(this.h,this.c,Math.max(0,this.l-Hs*(arguments.length?t:1)))},qs.rgb=function(){return J(this.h,this.c,this.l).rgb()},Xa.lab=function(t,e,n){return 1===arguments.length?t instanceof K?Q(t.l,t.a,t.b):t instanceof Z?J(t.l,t.c,t.h):fe((t=Xa.rgb(t)).r,t.g,t.b):Q(+t,+e,+n)};var Hs=18,Vs=.95047,Us=1,Ys=1.08883,Bs=K.prototype=new Y;Bs.brighter=function(t){return Q(Math.min(100,this.l+Hs*(arguments.length?t:1)),this.a,this.b)},Bs.darker=function(t){return Q(Math.max(0,this.l-Hs*(arguments.length?t:1)),this.a,this.b)},Bs.rgb=function(){return te(this.l,this.a,this.b)},Xa.rgb=function(t,e,n){return 1===arguments.length?t instanceof ue?se(t.r,t.g,t.b):le(""+t,se,G):se(~~t,~~e,~~n)};var Ws=ue.prototype=new Y;Ws.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),se(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(i/t)))):se(r,r,r)},Ws.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),se(~~(t*this.r),~~(t*this.g),~~(t*this.b))},Ws.hsl=function(){return he(this.r,this.g,this.b)},Ws.toString=function(){return"#"+ce(this.r)+ce(this.g)+ce(this.b)};var Gs=Xa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Gs.forEach(function(t,e){Gs.set(t,oe(e))}),Xa.functor=ge,Xa.xhr=ve(me),Xa.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=ye(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(l>=u)return a;if(r)return r=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++l):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;u>l;){var i=t.charCodeAt(l++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(l)&&(++l,++s);else if(i!==c)continue;return t.substring(e,l-s)}return t.substring(e)}for(var i,r,o={},a={},s=[],u=t.length,l=0,h=0;(i=n())!==a;){for(var f=[];i!==o&&i!==a;)f.push(i),i=n();(!e||(f=e(f,h++)))&&s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new o,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},Xa.csv=Xa.dsv(",","text/csv"),Xa.tsv=Xa.dsv("	","text/tab-separated-values");var Xs,Zs,Js,Qs,Ks,tu=ts[s(ts,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Xa.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,f:!1,n:null};Zs?Zs.n=o:Xs=o,Zs=o,Js||(Qs=clearTimeout(Qs),Js=1,tu(we))},Xa.timer.flush=function(){xe(),_e()};var eu=".",nu=",",iu=[3,3],ru="$",ou=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(ke);Xa.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Xa.round(t,Me(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ou[8+n/3]},Xa.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},Xa.format=function(t){var e=au.exec(t),n=e[1]||" ",i=e[2]||">",r=e[3]||"",o=e[4]||"",a=e[5],s=+e[6],u=e[7],c=e[8],l=e[9],h=1,f="",d=!1;switch(c&&(c=+c.substring(1)),(a||"0"===n&&"="===i)&&(a=n="0",i="=",u&&(s-=Math.floor((s-1)/4))),l){case"n":u=!0,l="g";break;case"%":h=100,f="%",l="f";break;case"p":h=100,f="%",l="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+l.toLowerCase());case"c":case"d":d=!0,c=0;break;case"s":h=-1,l="r"}"#"===o?o="":"$"===o&&(o=ru),"r"!=l||c||(l="g"),null!=c&&("g"==l?c=Math.max(1,Math.min(21,c)):("e"==l||"f"==l)&&(c=Math.max(0,Math.min(20,c)))),l=su.get(l)||Ce;var p=a&&u;return function(t){if(d&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):r;if(0>h){var g=Xa.formatPrefix(t,c);t=g.scale(t),f=g.symbol}else t*=h;t=l(t,c);var m=t.lastIndexOf("."),v=0>m?t:t.substring(0,m),y=0>m?"":eu+t.substring(m+1);!a&&u&&(v=uu(v));var b=o.length+v.length+y.length+(p?0:e.length),w=s>b?new Array(b=s-b+1).join(n):"";return p&&(v=uu(w+v)),e+=o,t=v+y,("<"===i?e+t+w:">"===i?w+e+t:"^"===i?w.substring(0,b>>=1)+e+t+w.substring(b):e+(p?t:w+t))+f}};var au=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=Xa.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Xa.round(t,Me(t,e))).toFixed(Math.max(0,Math.min(20,Me(t*(1+1e-15),e))))}}),uu=me;if(iu){var cu=iu.length;uu=function(t){for(var e=t.length,n=[],i=0,r=iu[0];e>0&&r>0;)n.push(t.substring(e-=r,e+r)),r=iu[i=(i+1)%cu];return n.reverse().join(nu)}}Xa.geo={},Se.prototype={s:0,t:0,add:function(t){Ee(t,this.t,lu),Ee(lu.s,this.s,this),this.s?this.t+=lu.t:this.s=lu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var lu=new Se;Xa.geo.stream=function(t,e){t&&hu.hasOwnProperty(t.type)?hu[t.type](t,e):Te(t,e)};var hu={Feature:function(t,e){Te(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Te(n[i].geometry,e)}},fu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){De(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)De(n[i],e,0)},Polygon:function(t,e){Fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Fe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Te(n[i],e)}};Xa.geo.area=function(t){return du=0,Xa.geo.stream(t,gu),du};var du,pu=new Se,gu={sphere:function(){du+=4*Es},point:u,lineStart:u,lineEnd:u,polygonStart:function(){pu.reset(),gu.lineStart=Ae},polygonEnd:function(){var t=2*pu;du+=0>t?4*Es+t:t,gu.lineStart=gu.lineEnd=gu.point=u}};Xa.geo.bounds=function(){function t(t,e){b.push(w=[l=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var i=Ne([e*Ns,n*Ns]);if(v){var r=Re(v,i),o=[r[1],-r[0],0],a=Re(o,r);Pe(a),a=ze(a);var u=e-p,c=u>0?1:-1,g=a[0]*Os*c,m=cs(u)>180;if(m^(g>c*p&&c*e>g)){var y=a[1]*Os;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>c*p&&c*e>g)){var y=-a[1]*Os;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);m?p>e?s(l,e)>s(l,f)&&(f=e):s(e,f)>s(l,f)&&(l=e):f>=l?(l>e&&(l=e),e>f&&(f=e)):e>p?s(l,e)>s(l,f)&&(f=e):s(e,f)>s(l,f)&&(l=e)}else t(e,n);v=i,p=e}function n(){x.point=e}function i(){w[0]=l,w[1]=f,x.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=cs(i)>180?i+(i>0?360:-360):i}else g=t,m=n;gu.point(t,n),e(t,n)}function o(){gu.lineStart()}function a(){r(g,m),gu.lineEnd(),cs(y)>Fs&&(l=-(f=180)),w[0]=l,w[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var l,h,f,d,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=r,x.lineStart=o,x.lineEnd=a,y=0,gu.polygonStart()},polygonEnd:function(){gu.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,0>pu?(l=-(f=180),h=-(d=90)):y>Fs?d=90:-Fs>y&&(h=-90),w[0]=l,w[1]=f}};return function(t){d=f=-(l=h=1/0),b=[],Xa.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,i=1,r=b[0],o=[r];e>i;++i)n=b[i],c(n[0],r)||c(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-1/0,e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,l=n[0],f=r[1])}return b=w=null,1/0===l||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[l,h],[f,d]]}}(),Xa.geo.centroid=function(t){mu=vu=yu=bu=wu=xu=_u=ku=Mu=Cu=Su=0,Xa.geo.stream(t,Eu);var e=Mu,n=Cu,i=Su,r=e*e+n*n+i*i;return As>r&&(e=xu,n=_u,i=ku,Fs>vu&&(e=yu,n=bu,i=wu),r=e*e+n*n+i*i,As>r)?[0/0,0/0]:[Math.atan2(n,e)*Os,I(i/Math.sqrt(r))*Os]};var mu,vu,yu,bu,wu,xu,_u,ku,Mu,Cu,Su,Eu={sphere:u,point:Ie,lineStart:He,lineEnd:Ve,polygonStart:function(){Eu.lineStart=Ue},polygonEnd:function(){Eu.lineStart=He}},Tu=Xe(Ye,tn,nn,[-Es,-Es/2]),Du=1e9;Xa.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=an(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(Xa.geo.conicEqualArea=function(){return un(cn)}).raw=cn,Xa.geo.albers=function(){return Xa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xa.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=Xa.geo.albers(),a=Xa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Xa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var c=o.scale(),l=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[l-.455*c,h-.238*c],[l+.455*c,h+.238*c]]).stream(u).point,i=a.translate([l-.307*c,h+.201*c]).clipExtent([[l-.425*c+Fs,h+.12*c+Fs],[l-.214*c-Fs,h+.234*c-Fs]]).stream(u).point,r=s.translate([l-.205*c,h+.212*c]).clipExtent([[l-.214*c+Fs,h+.166*c+Fs],[l-.115*c-Fs,h+.234*c-Fs]]).stream(u).point,t},t.scale(1070)};var Fu,Au,Nu,Ou,Ru,ju,Lu={point:u,lineStart:u,lineEnd:u,polygonStart:function(){Au=0,Lu.lineStart=ln},polygonEnd:function(){Lu.lineStart=Lu.lineEnd=Lu.point=u,Fu+=cs(Au/2)}},Pu={point:hn,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},zu={point:pn,lineStart:gn,lineEnd:mn,polygonStart:function(){zu.lineStart=vn},polygonEnd:function(){zu.point=pn,zu.lineStart=gn,zu.lineEnd=mn}};Xa.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),Xa.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Fu=0,Xa.geo.stream(t,r(Lu)),Fu},t.centroid=function(t){return yu=bu=wu=xu=_u=ku=Mu=Cu=Su=0,Xa.geo.stream(t,r(zu)),Su?[Mu/Su,Cu/Su]:ku?[xu/ku,_u/ku]:wu?[yu/wu,bu/wu]:[0/0,0/0]},t.bounds=function(t){return Ru=ju=-(Nu=Ou=1/0),Xa.geo.stream(t,r(Pu)),[[Nu,Ou],[Ru,ju]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||wn(t):me,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new fn:new yn(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(Xa.geo.albersUsa()).context(null)},Xa.geo.transform=function(t){return{stream:function(e){var n=new xn(e);for(var i in t)n[i]=t[i];return n}}},xn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xa.geo.projection=kn,Xa.geo.projectionMutator=Mn,(Xa.geo.equirectangular=function(){return kn(Sn)}).raw=Sn.invert=Sn,Xa.geo.rotation=function(t){function e(e){return e=t(e[0]*Ns,e[1]*Ns),e[0]*=Os,e[1]*=Os,e}return t=Tn(t[0]%360*Ns,t[1]*Ns,t.length>2?t[2]*Ns:0),e.invert=function(e){return e=t.invert(e[0]*Ns,e[1]*Ns),e[0]*=Os,e[1]*=Os,e},e},En.invert=Sn,Xa.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=Tn(-t[0]*Ns,-t[1]*Ns,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Os,t[1]*=Os}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=Nn((e=+i)*Ns,r*Ns),t):e},t.precision=function(i){return arguments.length?(n=Nn(e*Ns,(r=+i)*Ns),t):r},t.angle(90)},Xa.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ns,r=t[1]*Ns,o=e[1]*Ns,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),c=Math.cos(r),l=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=c*l-u*h*s)*n),u*l+c*h*s)},Xa.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Xa.range(Math.ceil(o/m)*m,r,m).map(f).concat(Xa.range(Math.ceil(c/v)*v,u,v).map(d)).concat(Xa.range(Math.ceil(i/p)*p,n,p).filter(function(t){return cs(t%m)>Fs}).map(l)).concat(Xa.range(Math.ceil(s/g)*g,a,g).filter(function(t){return cs(t%v)>Fs}).map(h))}var n,i,r,o,a,s,u,c,l,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),c>u&&(e=c,c=u,u=e),t.precision(y)):[[o,c],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,l=Rn(s,a,90),h=jn(i,n,y),f=Rn(c,u,90),d=jn(o,r,y),t):y},t.majorExtent([[-180,-90+Fs],[180,90-Fs]]).minorExtent([[-180,-80-Fs],[180,80+Fs]])},Xa.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=Ln,r=Pn;return t.distance=function(){return Xa.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Xa.geo.interpolate=function(t,e){return zn(t[0]*Ns,t[1]*Ns,e[0]*Ns,e[1]*Ns)},Xa.geo.length=function(t){return $u=0,Xa.geo.stream(t,Iu),$u};var $u,Iu={sphere:u,point:u,lineStart:$n,lineEnd:u,polygonStart:u,polygonEnd:u},qu=In(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Xa.geo.azimuthalEqualArea=function(){return kn(qu)}).raw=qu;var Hu=In(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},me);(Xa.geo.azimuthalEquidistant=function(){return kn(Hu)}).raw=Hu,(Xa.geo.conicConformal=function(){return un(qn)}).raw=qn,(Xa.geo.conicEquidistant=function(){return un(Hn)}).raw=Hn;var Vu=In(function(t){return 1/t
},Math.atan);(Xa.geo.gnomonic=function(){return kn(Vu)}).raw=Vu,Vn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ds]},(Xa.geo.mercator=function(){return Un(Vn)}).raw=Vn;var Uu=In(function(){return 1},Math.asin);(Xa.geo.orthographic=function(){return kn(Uu)}).raw=Uu;var Yu=In(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Xa.geo.stereographic=function(){return kn(Yu)}).raw=Yu,Yn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ds]},(Xa.geo.transverseMercator=function(){var t=Un(Yn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=Yn,Xa.geom={},Xa.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r,o,a,s,u,c,l,h,f,d,p,g=ge(n),m=ge(i),v=t.length,y=v-1,b=[],w=[],x=0;if(g===Bn&&i===Wn)e=t;else for(o=0,e=[];v>o;++o)e.push([+g.call(this,r=t[o],o),+m.call(this,r,o)]);for(o=1;v>o;++o)(e[o][1]<e[x][1]||e[o][1]==e[x][1]&&e[o][0]<e[x][0])&&(x=o);for(o=0;v>o;++o)o!==x&&(u=e[o][1]-e[x][1],s=e[o][0]-e[x][0],b.push({angle:Math.atan2(u,s),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),d=b[0].angle,f=b[0].index,h=0,o=1;y>o;++o){if(a=b[o].index,d==b[o].angle){if(s=e[f][0]-e[x][0],u=e[f][1]-e[x][1],c=e[a][0]-e[x][0],l=e[a][1]-e[x][1],s*s+u*u>=c*c+l*l){b[o].index=-1;continue}b[h].index=-1}d=b[o].angle,h=o,f=a}for(w.push(x),o=0,a=0;2>o;++a)b[a].index>-1&&(w.push(b[a].index),o++);for(p=w.length;y>a;++a)if(!(b[a].index<0)){for(;!Gn(w[p-2],w[p-1],b[a].index,e);)--p;w[p++]=b[a].index}var _=[];for(o=p-1;o>=0;--o)_.push(t[w[o]]);return _}var n=Bn,i=Wn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},Xa.geom.polygon=function(t){return ps(t,Bu),t};var Bu=Xa.geom.polygon.prototype=[];Bu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Bu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Bu.clip=function(t){for(var e,n,i,r,o,a,s=Jn(t),u=-1,c=this.length-Jn(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],Xn(a,l,r)?(Xn(o,l,r)||t.push(Zn(o,a,l,r)),t.push(a)):Xn(o,l,r)&&t.push(Zn(o,a,l,r)),o=a;s&&t.push(t[0]),l=r}return t};var Wu,Gu,Xu,Zu,Ju,Qu=[],Ku=[];oi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(si),e.length},vi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},yi.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=_i(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(wi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,xi(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(xi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,wi(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?_i(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,wi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,xi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,wi(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,xi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,wi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,xi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},Xa.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return ki(n(t),s).cells.forEach(function(n,s){var u=n.edges,c=n.site,l=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=o&&c.y>=r&&c.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[];l.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Fs)*Fs,y:Math.round(a(t,e)/Fs)*Fs,i:e}})}var i=Bn,r=Wn,o=i,a=r,s=tc;return t?e(t):(e.links=function(t){return ki(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ki(n(t)).cells.forEach(function(n,i){for(var r,o,a=n.site,s=n.edges.sort(si),u=-1,c=s.length,l=s[c-1].edge,h=l.l===a?l.r:l.l;++u<c;)r=l,o=h,l=s[u].edge,h=l.l===a?l.r:l.l,i<o.i&&i<h.i&&Ci(a,o,h)<0&&e.push([t[i],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=ge(i=t),e):i},e.y=function(t){return arguments.length?(a=ge(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?tc:t,e):s===tc?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===tc?null:s&&s[1]},e)};var tc=[[-1e6,-1e6],[1e6,1e6]];Xa.geom.delaunay=function(t){return Xa.geom.voronoi().triangles(t)},Xa.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(cs(u-n)+cs(l-i)<.01)c(t,e,n,i,r,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,u,l,r,o,a,s),c(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,o,a,s)}function c(t,e,n,i,r,a,s,u){var c=.5*(r+s),l=.5*(a+u),h=n>=c,f=i>=l,d=(f<<1)+h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=Ti()),h?r=c:s=c,f?a=l:u=l,o(t,e,n,i,r,a,s,u)}var l,h,f,d,p,g,m,v,y,b=ge(s),w=ge(u);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),h=[],f=[],p=t.length,a)for(d=0;p>d;++d)l=t[d],l.x<g&&(g=l.x),l.y<m&&(m=l.y),l.x>v&&(v=l.x),l.y>y&&(y=l.y),h.push(l.x),f.push(l.y);else for(d=0;p>d;++d){var x=+b(l=t[d],d),_=+w(l,d);g>x&&(g=x),m>_&&(m=_),x>v&&(v=x),_>y&&(y=_),h.push(x),f.push(_)}var k=v-g,M=y-m;k>M?y=m+k:v=g+M;var C=Ti();if(C.add=function(t){o(C,t,+b(t,++d),+w(t,d),g,m,v,y)},C.visit=function(t){Di(t,C,g,m,v,y)},d=-1,null==e){for(;++d<p;)o(C,t[d],h[d],f[d],g,m,v,y);--d}else t.forEach(C.add);return h=f=t=l=null,C}var a,s=Bn,u=Wn;return(a=arguments.length)?(s=Si,u=Ei,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},Xa.interpolateRgb=Fi,Xa.interpolateObject=Ai,Xa.interpolateNumber=Ni,Xa.interpolateString=Oi;var ec=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Xa.interpolate=Ri,Xa.interpolators=[function(t,e){var n=typeof e;return("string"===n?Gs.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Fi:Oi:e instanceof Y?Fi:"object"===n?Array.isArray(e)?ji:Ai:Ni)(t,e)}],Xa.interpolateArray=ji;var nc=function(){return me},ic=Xa.map({linear:nc,poly:Hi,quad:function(){return $i},cubic:function(){return Ii},sin:function(){return Vi},exp:function(){return Ui},circle:function(){return Yi},elastic:Bi,back:Wi,bounce:function(){return Gi}}),rc=Xa.map({"in":me,out:Pi,"in-out":zi,"out-in":function(t){return zi(Pi(t))}});Xa.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=ic.get(n)||nc,i=rc.get(i)||me,Li(i(n.apply(null,Za.call(arguments,1))))},Xa.interpolateHcl=Xi,Xa.interpolateHsl=Zi,Xa.interpolateLab=Ji,Xa.interpolateRound=Qi,Xa.transform=function(t){var e=Qa.createElementNS(Xa.ns.prefix.svg,"g");return(Xa.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ki(n?n.matrix:oc)})(t)},Ki.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oc={a:1,b:0,c:0,d:1,e:0,f:0};Xa.interpolateTransform=ir,Xa.layout={},Xa.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(ar(t[n]));return e}},Xa.layout.chord=function(){function t(){var t,c,h,f,d,p={},g=[],m=Xa.range(o),v=[];for(n=[],i=[],t=0,f=-1;++f<o;){for(c=0,d=-1;++d<o;)c+=r[f][d];g.push(c),v.push(Xa.range(o)),t+=c}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Ts-l*o)/t,c=0,f=-1;++f<o;){for(h=c,d=-1;++d<o;){var y=m[f],b=v[y][d],w=r[y][b],x=c,_=c+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=l}for(f=-1;++f<o;)for(d=f-1;++d<o;){var k=p[f+"-"+d],M=p[d+"-"+f];(k.value||M.value)&&n.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,u,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,c):r},c.padding=function(t){return arguments.length?(l=t,n=i=null,c):l},c.sortGroups=function(t){return arguments.length?(a=t,n=i=null,c):a},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(u=t,n&&e(),c):u},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},Xa.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=1/Math.sqrt(o*o+a*a);if(g>(r-n)*s){var u=e.charge*s*s;return t.px-=o*u,t.py-=a*u,!0}if(e.point&&isFinite(s)){var u=e.pointCharge*s*s;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=Xa.event.x,t.py=Xa.event.y,s.resume()}var n,i,r,o,a,s={},u=Xa.dispatch("start","tick","end"),c=[1,1],l=.9,h=ac,f=sc,d=-30,p=.1,g=.8,m=[],v=[];return s.tick=function(){if((i*=.99)<.005)return u.end({type:"end",alpha:i=0}),!0;var e,n,s,h,f,g,y,b,w,x=m.length,_=v.length;for(n=0;_>n;++n)s=v[n],h=s.source,f=s.target,b=f.x-h.x,w=f.y-h.y,(g=b*b+w*w)&&(g=i*o[n]*((g=Math.sqrt(g))-r[n])/g,b*=g,w*=g,f.x-=b*(y=h.weight/(f.weight+h.weight)),f.y-=w*y,h.x+=b*(y=1-y),h.y+=w*y);if((y=i*p)&&(b=c[0]/2,w=c[1]/2,n=-1,y))for(;++n<x;)s=m[n],s.x+=(b-s.x)*y,s.y+=(w-s.y)*y;if(d)for(dr(e=Xa.geom.quadtree(m),i,a),n=-1;++n<x;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*l,s.y-=(s.py-(s.py=s.y))*l);u.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.gravity=function(t){return arguments.length?(p=+t,s):p},s.theta=function(t){return arguments.length?(g=+t,s):g},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(u.start({type:"start",alpha:i=t}),Xa.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var r=v[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,a=n[e],s=-1,c=a.length;++s<c;)if(!isNaN(o=a[s][t]))return o;return Math.random()*i}var e,n,i,u=m.length,l=v.length,p=c[0],g=c[1];for(e=0;u>e;++e)(i=m[e]).index=e,i.weight=0;for(e=0;l>e;++e)i=v[e],"number"==typeof i.source&&(i.source=m[i.source]),"number"==typeof i.target&&(i.target=m[i.target]),++i.source.weight,++i.target.weight;for(e=0;u>e;++e)i=m[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(e=0;l>e;++e)r[e]=+h.call(this,v[e],e);else for(e=0;l>e;++e)r[e]=h;if(o=[],"function"==typeof f)for(e=0;l>e;++e)o[e]=+f.call(this,v[e],e);else for(e=0;l>e;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,m[e],e);else for(e=0;u>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Xa.behavior.drag().origin(me).on("dragstart.force",cr).on("drag.force",e).on("dragend.force",lr)),arguments.length?void this.on("mouseover.force",hr).on("mouseout.force",fr).call(n):n},Xa.rebind(s,u,"on")};var ac=20,sc=1;Xa.layout.hierarchy=function(){function t(e,a,s){var u=r.call(n,e,a);if(e.depth=a,s.push(e),u&&(c=u.length)){for(var c,l,h=-1,f=e.children=new Array(c),d=0,p=a+1;++h<c;)l=f[h]=t(u[h],p,s),l.parent=e,d+=l.value;i&&f.sort(i),o&&(e.value=d)}else delete e.children,o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,i){var r=t.children,a=0;if(r&&(s=r.length))for(var s,u=-1,c=i+1;++u<s;)a+=e(r[u],c);else o&&(a=+o.call(n,t,i)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var i=vr,r=gr,o=mr;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Xa.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,u,c=-1;for(i=e.value?i/e.value:0;++c<a;)t(s=o[c],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=Xa.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},pr(n,i)},Xa.layout.pie=function(){function t(o){var a=o.map(function(n,i){return+e.call(t,n,i)}),s=+("function"==typeof i?i.apply(this,arguments):i),u=(("function"==typeof r?r.apply(this,arguments):r)-s)/Xa.sum(a),c=Xa.range(o.length);null!=n&&c.sort(n===uc?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var l=[];return c.forEach(function(t){var e;l[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),l}var e=Number,n=uc,i=0,r=Ts;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var uc={};Xa.layout.stack=function(){function t(s,u){var c=s.map(function(n,i){return e.call(t,n,i)}),l=c.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,l,u);c=Xa.permute(c,h),l=Xa.permute(l,h);var f,d,p,g=i.call(t,l,u),m=c.length,v=c[0].length;for(d=0;v>d;++d)for(r.call(t,c[0][d],p=g[d],l[0][d][1]),f=1;m>f;++f)r.call(t,c[f][d],p+=l[f-1][d][1],l[f][d][1]);return s}var e=me,n=_r,i=kr,r=xr,o=br,a=wr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:cc.get(e)||_r,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:lc.get(e)||kr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var cc=Xa.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(Mr),o=t.map(Cr),a=Xa.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,c=[],l=[];for(e=0;i>e;++e)n=a[e],u>s?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return Xa.range(t.length).reverse()},"default":_r}),lc=Xa.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,c,l=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=c=0,n=1;f>n;++n){for(e=0,r=0;l>e;++e)r+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];l>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,c>u&&(c=u)}for(n=0;f>n;++n)d[n]-=c;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:kr});Xa.layout.histogram=function(){function t(t,o){for(var a,s,u=[],c=t.map(n,this),l=i.call(this,c,o),h=r.call(this,l,c,o),o=-1,f=c.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=c[o],s>=l[0]&&s<=l[1]&&(a=u[Xa.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,i=Dr,r=Er;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=ge(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Tr(t,e)}:ge(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Xa.layout.tree=function(){function t(t,o){function a(t,e){var i=t.children,r=t._tree;if(i&&(o=i.length)){for(var o,s,c,l=i[0],h=l,f=-1;++f<o;)c=i[f],a(c,s),h=u(c,s,h),s=c;zr(t);var d=.5*(l._tree.prelim+c._tree.prelim);e?(r.prelim=e._tree.prelim+n(t,e),r.mod=r.prelim-d):r.prelim=d}else e&&(r.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(i=n.length)){var i,r=-1;for(e+=t._tree.mod;++r<i;)s(n[r],e)}}function u(t,e,i){if(e){for(var r,o=t,a=t,s=e,u=t.parent.children[0],c=o._tree.mod,l=a._tree.mod,h=s._tree.mod,f=u._tree.mod;s=Nr(s),o=Ar(o),s&&o;)u=Ar(u),a=Nr(a),a._tree.ancestor=t,r=s._tree.prelim+h-o._tree.prelim-c+n(s,o),r>0&&($r(Ir(s,t,i),t,r),c+=r,l+=r),h+=s._tree.mod,c+=o._tree.mod,f+=u._tree.mod,l+=a._tree.mod;s&&!Nr(a)&&(a._tree.thread=s,a._tree.mod+=h-l),o&&!Ar(u)&&(u._tree.thread=o,u._tree.mod+=c-f,i=t)}return i}var c=e.call(this,t,o),l=c[0];Pr(l,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(l),s(l,-l._tree.prelim);var h=Or(l,jr),f=Or(l,Rr),d=Or(l,Lr),p=h.x-n(h,f)/2,g=f.x+n(f,h)/2,m=d.depth||1;return Pr(l,r?function(t){t.x*=i[0],t.y=t.depth*i[1],delete t._tree}:function(t){t.x=(t.x-p)/(g-p)*i[0],t.y=t.depth/m*i[1],delete t._tree}),c}var e=Xa.layout.hierarchy().sort(null).value(null),n=Fr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},pr(t,e)},Xa.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=r[0],c=r[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Pr(s,function(t){t.r=+l(t.value)}),Pr(s,Yr),i){var h=i*(e?1:Math.max(2*s.r/u,2*s.r/c))/2;Pr(s,function(t){t.r+=h}),Pr(s,Yr),Pr(s,function(t){t.r-=h})}return Gr(s,u/2,c/2,e?1:1/Math.max(2*s.r/u,2*s.r/c)),a}var e,n=Xa.layout.hierarchy().sort(qr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},pr(t,n)},Xa.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],c=0;Pr(u,function(t){var e=t.children;e&&e.length?(t.x=Jr(e),t.y=Zr(e)):(t.x=a?c+=n(t,a):0,t.y=0,a=t)});var l=Qr(u),h=Kr(u),f=l.x-n(l,h)/2,d=h.x+n(h,l)/2;return Pr(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(d-f)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=Xa.layout.hierarchy().sort(null).value(null),n=Fr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},pr(t,e)},Xa.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,u,c=h(n),l=[],f=o.slice(),p=1/0,g="slice"===d?c.dx:"dice"===d?c.dy:"slice-dice"===d?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(f,c.dx*c.dy/n.value),l.area=0;(u=f.length)>0;)l.push(a=f[u-1]),l.area+=a.area,"squarify"!==d||(s=i(l,g))<=p?(f.pop(),p=s):(l.area-=l.pop().area,r(l,g,c,!1),g=Math.min(c.dx,c.dy),l.length=l.area=0,p=1/0);l.length&&(r(l,g,c,!0),l.length=l.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=h(e),s=i.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(r(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,c=n.y,l=e?u(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++o<a;)r=t[o],r.x=s,r.y=c,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?u(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++o<a;)r=t[o],r.x=s,r.y=c,r.dx=l,c+=r.dy=Math.min(n.y+n.dy-c,l?u(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-c,n.x+=l,n.dx-=l}}function o(i){var r=a||s(i),o=r[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=r),r}var a,s=Xa.layout.hierarchy(),u=Math.round,c=[1,1],l=null,h=to,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?to(e):eo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return eo(e,t)}if(!arguments.length)return l;var i;return h=null==(l=t)?to:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},pr(o,s)},Xa.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=Xa.random.normal.apply(Xa,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Xa.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Xa.scale={};var hc={floor:me,ceil:me};Xa.scale.linear=function(){return uo([0,1],[0,1],Ri,!1)};var fc={s:1,g:1,p:1,r:1,e:1};Xa.scale.log=function(){return vo(Xa.scale.linear().domain([0,1]),10,!0,[1,10])};var dc=Xa.format(".0e"),pc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Xa.scale.pow=function(){return yo(Xa.scale.linear(),1,[0,1])},Xa.scale.sqrt=function(){return Xa.scale.pow().exponent(.5)},Xa.scale.ordinal=function(){return wo([],{t:"range",a:[[]]})},Xa.scale.category10=function(){return Xa.scale.ordinal().range(gc)},Xa.scale.category20=function(){return Xa.scale.ordinal().range(mc)},Xa.scale.category20b=function(){return Xa.scale.ordinal().range(vc)},Xa.scale.category20c=function(){return Xa.scale.ordinal().range(yc)};var gc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),mc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),vc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),yc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);Xa.scale.quantile=function(){return xo([],[])},Xa.scale.quantize=function(){return _o(0,1,[0,1])},Xa.scale.threshold=function(){return ko([.5],[0,1])},Xa.scale.identity=function(){return Mo([0,1])},Xa.svg={},Xa.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=i.apply(this,arguments)+bc,s=r.apply(this,arguments)+bc,u=(a>s&&(u=a,a=s,s=u),s-a),c=Es>u?"0":"1",l=Math.cos(a),h=Math.sin(a),f=Math.cos(s),d=Math.sin(s);return u>=wc?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*l+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*f+","+o*d+"L"+t*f+","+t*d+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*h+"Z":"M"+o*l+","+o*h+"A"+o+","+o+" 0 "+c+",1 "+o*f+","+o*d+"L0,0Z"}var e=Co,n=So,i=Eo,r=To;return t.innerRadius=function(n){return arguments.length?(e=ge(n),t):e},t.outerRadius=function(e){return arguments.length?(n=ge(e),t):n},t.startAngle=function(e){return arguments.length?(i=ge(e),t):i},t.endAngle=function(e){return arguments.length?(r=ge(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+bc;return[Math.cos(o)*t,Math.sin(o)*t]},t};var bc=-Ds,wc=Ts-Fs;Xa.svg.line=function(){return Do(me)};var xc=Xa.map({linear:Fo,"linear-closed":Ao,step:No,"step-before":Oo,"step-after":Ro,basis:Io,"basis-open":qo,"basis-closed":Ho,bundle:Vo,cardinal:Po,"cardinal-open":jo,"cardinal-closed":Lo,monotone:Xo});xc.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var _c=[0,2/3,1/3,0],kc=[0,1/3,2/3,0],Mc=[0,1/6,2/3,1/6];Xa.svg.line.radial=function(){var t=Do(Zo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Oo.reverse=Ro,Ro.reverse=Oo,Xa.svg.area=function(){return Jo(me)},Xa.svg.area.radial=function(){var t=Jo(Zo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Xa.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),c=e(this,a,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,c)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+r(c.r,c.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=u.call(t,r,i)+bc,l=c.call(t,r,i)+bc;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Es)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=Ln,a=Pn,s=Qo,u=Eo,c=To;return t.radius=function(e){return arguments.length?(s=ge(e),t):s},t.source=function(e){return arguments.length?(o=ge(e),t):o},t.target=function(e){return arguments.length?(a=ge(e),t):a},t.startAngle=function(e){return arguments.length?(u=ge(e),t):u},t.endAngle=function(e){return arguments.length?(c=ge(e),t):c},t},Xa.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=Ln,n=Pn,i=Ko;return t.source=function(n){return arguments.length?(e=ge(n),t):e},t.target=function(e){return arguments.length?(n=ge(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},Xa.svg.diagonal.radial=function(){var t=Xa.svg.diagonal(),e=Ko,n=t.projection;return t.projection=function(t){return arguments.length?n(ta(e=t)):e},t},Xa.svg.symbol=function(){function t(t,i){return(Cc.get(e.call(this,t,i))||ia)(n.call(this,t,i))}var e=na,n=ea;return t.type=function(n){return arguments.length?(e=ge(n),t):e},t.size=function(e){return arguments.length?(n=ge(e),t):n},t};var Cc=Xa.map({circle:ia,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Dc)),n=e*Dc;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Tc),n=e*Tc/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Tc),n=e*Tc/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Xa.svg.symbolTypes=Cc.keys();var Sc,Ec,Tc=Math.sqrt(3),Dc=Math.tan(30*Ns),Fc=[],Ac=0;Fc.call=bs.call,Fc.empty=bs.empty,Fc.node=bs.node,Fc.size=bs.size,Xa.transition=function(t){return arguments.length?Sc?t.transition():t:_s.transition()},Xa.transition.prototype=Fc,Fc.select=function(t){var e,n,i,r=this.id,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],c=-1,l=u.length;++c<l;)(i=u[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),sa(n,c,r,i.__transition__[r]),e.push(n)):e.push(null)}return ra(o,r)},Fc.selectAll=function(t){var e,n,i,r,o,a=this.id,s=[];t=m(t);for(var u=-1,c=this.length;++u<c;)for(var l=this[u],h=-1,f=l.length;++h<f;)if(i=l[h]){o=i.__transition__[a],n=t.call(i,i.__data__,h,u),s.push(e=[]);for(var d=-1,p=n.length;++d<p;)(r=n[d])&&sa(r,d,a,o),e.push(r)}return ra(s,a)},Fc.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=E(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return ra(r,this.id)},Fc.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):D(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},Fc.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?ir:Ri,s=Xa.ns.qualify(t);return oa(this,"attr."+t,e,s.local?o:r)},Fc.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=Xa.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Fc.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=ts.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=Ri(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return oa(this,"style."+t,e,r)},Fc.styleTween=function(t,e,n){function i(i,r){var o=e.call(this,i,r,ts.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Fc.text=function(t){return oa(this,"text",t,aa)},Fc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Fc.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Xa.ease.apply(Xa,arguments)),D(this,function(n){n.__transition__[e].ease=t}))},Fc.delay=function(t){var e=this.id;return D(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=+t.call(n,n.__data__,i,r)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Fc.duration=function(t){var e=this.id;return D(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,i,r))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t
}))},Fc.each=function(t,e){var n=this.id;if(arguments.length<2){var i=Ec,r=Sc;Sc=n,D(this,function(e,i,r){Ec=e.__transition__[n],t.call(e,e.__data__,i,r)}),Ec=i,Sc=r}else D(this,function(i){var r=i.__transition__[n];(r.event||(r.event=Xa.dispatch("start","end"))).on(t,e)});return this},Fc.transition=function(){for(var t,e,n,i,r=this.id,o=++Ac,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e=this[s],c=0,l=e.length;l>c;c++)(n=e[c])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,sa(n,c,o,i)),t.push(n)}return ra(a,o)},Xa.svg.axis=function(){function t(t){t.each(function(){var t,c=Xa.select(this),l=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):me:e,p=c.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Fs),m=Xa.transition(p.exit()).style("opacity",Fs).remove(),v=Xa.transition(p).style("opacity",1),y=io(h),b=c.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Xa.transition(b));g.append("line"),g.append("text");var x=g.select("line"),_=v.select("line"),k=p.select("text").text(d),M=g.select("text"),C=v.select("text");switch(i){case"bottom":t=ua,x.attr("y2",r),M.attr("y",Math.max(r,0)+a),_.attr("x2",0).attr("y2",r),C.attr("x",0).attr("y",Math.max(r,0)+a),k.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":t=ua,x.attr("y2",-r),M.attr("y",-(Math.max(r,0)+a)),_.attr("x2",0).attr("y2",-r),C.attr("x",0).attr("y",-(Math.max(r,0)+a)),k.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":t=ca,x.attr("x2",-r),M.attr("x",-(Math.max(r,0)+a)),_.attr("x2",-r).attr("y2",0),C.attr("x",-(Math.max(r,0)+a)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":t=ca,x.attr("x2",r),M.attr("x",Math.max(r,0)+a),_.attr("x2",r).attr("y2",0),C.attr("x",Math.max(r,0)+a).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(h.rangeBand){var S=h,E=S.rangeBand()/2;l=h=function(t){return S(t)+E}}else l.rangeBand?l=h:m.call(t,h);g.call(t,l),v.call(t,h)})}var e,n=Xa.scale.linear(),i=Nc,r=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Oc?e+"":Nc,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Nc="bottom",Oc={top:1,right:1,bottom:1,left:1};Xa.svg.brush=function(){function t(o){o.each(function(){var o=Xa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,me);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=Xa.transition(o),f=Xa.transition(a);u&&(l=io(u),f.attr("x",l[0]).attr("width",l[1]-l[0]),n(h)),c&&(l=io(c),f.attr("y",l[0]).attr("height",l[1]-l[0]),i(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function i(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function r(){function r(){32==Xa.event.keyCode&&(T||(b=null,F[0]-=l[1],F[1]-=f[1],T=2),h())}function d(){32==Xa.event.keyCode&&2==T&&(F[0]+=l[1],F[1]+=f[1],T=0,h())}function m(){var t=Xa.mouse(x),r=!1;w&&(t[0]+=w[0],t[1]+=w[1]),T||(Xa.event.altKey?(b||(b=[(l[0]+l[1])/2,(f[0]+f[1])/2]),F[0]=l[+(t[0]<b[0])],F[1]=f[+(t[1]<b[1])]):b=null),S&&v(t,u,0)&&(n(M),r=!0),E&&v(t,c,1)&&(i(M),r=!0),r&&(e(M),k({type:"brush",mode:T?"move":"resize"}))}function v(t,e,n){var i,r,s=io(e),u=s[0],c=s[1],h=F[n],d=n?f:l,m=d[1]-d[0];return T&&(u-=h,c-=m+h),i=(n?g:p)?Math.max(u,Math.min(c,t[n])):t[n],T?r=(i+=h)+m:(b&&(h=Math.max(u,Math.min(c,2*b[n]-i))),i>h?(r=i,i=h):r=h),d[0]!=i||d[1]!=r?(n?a=null:o=null,d[0]=i,d[1]=r,!0):void 0}function y(){m(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Xa.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),k({type:"brushend"})}var b,w,x=this,_=Xa.select(Xa.event.target),k=s.of(x,arguments),M=Xa.select(x),C=_.datum(),S=!/^(n|s)$/.test(C)&&u,E=!/^(e|w)$/.test(C)&&c,T=_.classed("extent"),D=L(),F=Xa.mouse(x),A=Xa.select(ts).on("keydown.brush",r).on("keyup.brush",d);if(Xa.event.changedTouches?A.on("touchmove.brush",m).on("touchend.brush",y):A.on("mousemove.brush",m).on("mouseup.brush",y),M.interrupt().selectAll("*").interrupt(),T)F[0]=l[0]-F[0],F[1]=f[0]-F[1];else if(C){var N=+/w$/.test(C),O=+/^n/.test(C);w=[l[1-N]-F[0],f[1-O]-F[1]],F[0]=l[N],F[1]=f[O]}else Xa.event.altKey&&(b=F.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),Xa.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),m()}var o,a,s=d(t,"brushstart","brush","brushend"),u=null,c=null,l=[0,0],f=[0,0],p=!0,g=!0,m=jc[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:l,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Sc?Xa.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,l=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=ji(l,e.x),i=ji(f,e.y);return o=a=null,function(r){l=e.x=n(r),f=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=jc[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,m=jc[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(p=!!e[0],g=!!e[1]):u?p=!!e:c&&(g=!!e),t):u&&c?[p,g]:u?p:c?g:null},t.extent=function(e){var n,i,r,s,h;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),o=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(h=n,n=i,i=h),(n!=l[0]||i!=l[1])&&(l=[n,i])),c&&(r=e[0],s=e[1],u&&(r=r[1],s=s[1]),a=[r,s],c.invert&&(r=c(r),s=c(s)),r>s&&(h=r,r=s,s=h),(r!=f[0]||s!=f[1])&&(f=[r,s])),t):(u&&(o?(n=o[0],i=o[1]):(n=l[0],i=l[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(h=n,n=i,i=h))),c&&(a?(r=a[0],s=a[1]):(r=f[0],s=f[1],c.invert&&(r=c.invert(r),s=c.invert(s)),r>s&&(h=r,r=s,s=h))),u&&c?[[n,r],[i,s]]:u?[n,i]:c&&[r,s])},t.clear=function(){return t.empty()||(l=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!u&&l[0]==l[1]||!!c&&f[0]==f[1]},Xa.rebind(t,s,"on")};var Rc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},jc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Lc=Xa.time={},Pc=Date,zc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];la.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){$c.setUTCDate.apply(this._,arguments)},setDay:function(){$c.setUTCDay.apply(this._,arguments)},setFullYear:function(){$c.setUTCFullYear.apply(this._,arguments)},setHours:function(){$c.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){$c.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){$c.setUTCMinutes.apply(this._,arguments)},setMonth:function(){$c.setUTCMonth.apply(this._,arguments)},setSeconds:function(){$c.setUTCSeconds.apply(this._,arguments)},setTime:function(){$c.setTime.apply(this._,arguments)}};var $c=Date.prototype,Ic="%a %b %e %X %Y",qc="%m/%d/%Y",Hc="%H:%M:%S",Vc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Uc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Yc=["January","February","March","April","May","June","July","August","September","October","November","December"],Bc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Lc.year=ha(function(t){return t=Lc.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Lc.years=Lc.year.range,Lc.years.utc=Lc.year.utc.range,Lc.day=ha(function(t){var e=new Pc(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Lc.days=Lc.day.range,Lc.days.utc=Lc.day.utc.range,Lc.dayOfYear=function(t){var e=Lc.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},zc.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Lc[t]=ha(function(t){return(t=Lc.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Lc.year(t).getDay();return Math.floor((Lc.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Lc[t+"s"]=n.range,Lc[t+"s"].utc=n.utc.range,Lc[t+"OfYear"]=function(t){var n=Lc.year(t).getDay();return Math.floor((Lc.dayOfYear(t)+(n+e)%7)/7)}}),Lc.week=Lc.sunday,Lc.weeks=Lc.sunday.range,Lc.weeks.utc=Lc.sunday.utc.range,Lc.weekOfYear=Lc.sundayOfYear,Lc.format=da;var Wc=ga(Vc),Gc=ma(Vc),Xc=ga(Uc),Zc=ma(Uc),Jc=ga(Yc),Qc=ma(Yc),Kc=ga(Bc),tl=ma(Bc),el=/^%/,nl={"-":"",_:" ",0:"0"},il={a:function(t){return Uc[t.getDay()]},A:function(t){return Vc[t.getDay()]},b:function(t){return Bc[t.getMonth()]},B:function(t){return Yc[t.getMonth()]},c:da(Ic),d:function(t,e){return va(t.getDate(),e,2)},e:function(t,e){return va(t.getDate(),e,2)},H:function(t,e){return va(t.getHours(),e,2)},I:function(t,e){return va(t.getHours()%12||12,e,2)},j:function(t,e){return va(1+Lc.dayOfYear(t),e,3)},L:function(t,e){return va(t.getMilliseconds(),e,3)},m:function(t,e){return va(t.getMonth()+1,e,2)},M:function(t,e){return va(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return va(t.getSeconds(),e,2)},U:function(t,e){return va(Lc.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return va(Lc.mondayOfYear(t),e,2)},x:da(qc),X:da(Hc),y:function(t,e){return va(t.getFullYear()%100,e,2)},Y:function(t,e){return va(t.getFullYear()%1e4,e,4)},Z:Ia,"%":function(){return"%"}},rl={a:ya,A:ba,b:ka,B:Ma,c:Ca,d:Oa,e:Oa,H:ja,I:ja,j:Ra,L:za,m:Na,M:La,p:$a,S:Pa,U:xa,w:wa,W:_a,x:Sa,X:Ea,y:Da,Y:Ta,Z:Fa,"%":qa},ol=/^\s*\d+/,al=Xa.map({am:0,pm:1});da.utc=Ha;var sl=Ha("%Y-%m-%dT%H:%M:%S.%LZ");da.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Va:sl,Va.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Va.toString=sl.toString,Lc.second=ha(function(t){return new Pc(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Lc.seconds=Lc.second.range,Lc.seconds.utc=Lc.second.utc.range,Lc.minute=ha(function(t){return new Pc(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Lc.minutes=Lc.minute.range,Lc.minutes.utc=Lc.minute.utc.range,Lc.hour=ha(function(t){var e=t.getTimezoneOffset()/60;return new Pc(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Lc.hours=Lc.hour.range,Lc.hours.utc=Lc.hour.utc.range,Lc.month=ha(function(t){return t=Lc.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Lc.months=Lc.month.range,Lc.months.utc=Lc.month.utc.range;var ul=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],cl=[[Lc.second,1],[Lc.second,5],[Lc.second,15],[Lc.second,30],[Lc.minute,1],[Lc.minute,5],[Lc.minute,15],[Lc.minute,30],[Lc.hour,1],[Lc.hour,3],[Lc.hour,6],[Lc.hour,12],[Lc.day,1],[Lc.day,2],[Lc.week,1],[Lc.month,1],[Lc.month,3],[Lc.year,1]],ll=[[da("%Y"),Ye],[da("%B"),function(t){return t.getMonth()}],[da("%b %d"),function(t){return 1!=t.getDate()}],[da("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[da("%I %p"),function(t){return t.getHours()}],[da("%I:%M"),function(t){return t.getMinutes()}],[da(":%S"),function(t){return t.getSeconds()}],[da(".%L"),function(t){return t.getMilliseconds()}]],hl=Ba(ll);cl.year=Lc.year,Lc.scale=function(){return Ua(Xa.scale.linear(),cl,hl)};var fl={range:function(t,e,n){return Xa.range(+t,+e,n).map(Ya)},floor:me,ceil:me},dl=cl.map(function(t){return[t[0].utc,t[1]]}),pl=[[Ha("%Y"),Ye],[Ha("%B"),function(t){return t.getUTCMonth()}],[Ha("%b %d"),function(t){return 1!=t.getUTCDate()}],[Ha("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[Ha("%I %p"),function(t){return t.getUTCHours()}],[Ha("%I:%M"),function(t){return t.getUTCMinutes()}],[Ha(":%S"),function(t){return t.getUTCSeconds()}],[Ha(".%L"),function(t){return t.getUTCMilliseconds()}]],gl=Ba(pl);return dl.year=Lc.year.utc,Lc.scale.utc=function(){return Ua(Xa.scale.linear(),dl,gl)},Xa.text=ve(function(t){return t.responseText}),Xa.json=function(t,e){return ye(t,"application/json",Wa,e)},Xa.html=function(t,e){return ye(t,"text/html",Ga,e)},Xa.xml=ve(function(t){return t.responseXML}),Xa}(),t.d3=d3}.apply(t,arguments)})}(this),define("d3Private",["d3"],function(t){var e=window;return e.d3=void 0,t}),function(t,e){"function"==typeof define&&define.amd?define("rickshaw",["d3"],function(n){return t.Rickshaw=e(n)}):"object"==typeof exports?module.exports=e(require("d3")):t.Rickshaw=e(d3)}(this,function(t){var e={namespace:function(t){for(var n=t.split("."),i=e,r=1,o=n.length;o>r;r++){var a=n[r];i[a]=i[a]||{},i=i[a]}return i},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function e(t){return h.call(t)===y}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t){if(r(t)!==v)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function r(t){switch(t){case null:return f;case void 0:return d}var e=typeof t;switch(e){case"boolean":return p;case"number":return g;case"string":return m}return v}function o(t){return"undefined"==typeof t}function a(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function s(t,e){var n=t;return function(){var t=u([l(n,this)],arguments);return e.apply(this,t)}}function u(t,e){for(var n=t.length,i=e.length;i--;)t[n+i]=e[i];return t}function c(t,e){return t=b.call(t,0),u(t,e)}function l(t,e){if(arguments.length<2&&o(arguments[0]))return this;var n=t,i=b.call(arguments,2);return function(){var t=c(i,arguments);return n.apply(e,t)}}var h=Object.prototype.toString,f="Null",d="Undefined",p="Boolean",g="Number",m="String",v="Object",y="[object Function]",b=Array.prototype.slice,w=function(){},x=function(){function t(){}function r(){function i(){this.initialize.apply(this,arguments)}var r=null,o=[].slice.apply(arguments);if(e(o[0])&&(r=o.shift()),n(i,x.Methods),i.superclass=r,i.subclasses=[],r){t.prototype=r.prototype,i.prototype=new t;try{r.subclasses.push(i)}catch(a){}}for(var s=0,u=o.length;u>s;s++)i.addMethods(o[s]);return i.prototype.initialize||(i.prototype.initialize=w),i.prototype.constructor=i,i}function o(t){var n=this.superclass&&this.superclass.prototype,r=i(t);u&&(t.toString!=Object.prototype.toString&&r.push("toString"),t.valueOf!=Object.prototype.valueOf&&r.push("valueOf"));for(var o=0,c=r.length;c>o;o++){var h=r[o],f=t[h];if(n&&e(f)&&"$super"==a(f)[0]){var d=f;f=s(function(t){return function(){return n[t].apply(this,arguments)}}(h),d),f.valueOf=l(d.valueOf,d),f.toString=l(d.toString,d)}this.prototype[h]=f}return this}var u=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:r,Methods:{addMethods:o}}}();t.exports?t.exports.Class=x:t.Class=x}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){var e="classList",n="prototype",i=(t.HTMLElement||t.Element)[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(t,e)},c=function(t){for(var e=o.call(t.className),n=e?e.split(/\s+/):[],i=0,r=n.length;r>i;i++)this.push(n[i]);this._updateClassName=function(){t.className=this.toString()}},l=c[n]=[],h=function(){return new c(this)};if(s[n]=Error[n],l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==u(this,t)},l.add=function(t){t+="",-1===u(this,t)&&(this.push(t),this._updateClassName())},l.remove=function(t){t+="";var e=u(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},l.toggle=function(t){t+="",-1===u(this,t)?this.add(t):this.remove(t)},l.toString=function(){return this.join(" ")},r.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,f)}catch(d){-2146823252===d.number&&(f.enumerable=!1,r.defineProperty(i,e,f))}}else r[n].__defineGetter__&&i.__defineGetter__(e,h)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,e.namespace("Rickshaw.Graph"),e.Graph=function(n){var i=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return i.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&i.registerRenderer(new n({graph:i}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series)){var n=Object.prototype.toString.apply(t);throw"series is not an array: "+n}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data}),n=t.min(e.map(function(t){return t[0].x})),i=t.max(e.map(function(t){return t[t.length-1].x}));return[n,i]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),r=this.preserve;r||this.series.forEach(function(t){t.scale&&(r=!0)}),n=r?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var i=n[e];i&&i.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(i,[n])});var o;if(!this.renderer.unstack){this._validateStackable();var a=t.layout.stack();a.offset(i.offset),o=a(n)}o=o||n,this.renderer.unstack&&o.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){o=t.f.apply(i,[n])});var s=0;return this.series.forEach(function(t){t.disabled||(t.stack=o[s++])}),this.stackedData=o,o},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if(t=t||e.data.length,t&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:i}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),i=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||i||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(i){var r=100*Math.random()+15+e,o=i[0].length,a=1;i.forEach(function(e){var i=20*Math.random(),s=r/25+a++ +15*(Math.cos(o*a*11/960)+2)+7*(Math.cos(o/7)+2)+1*(Math.cos(o/17)+2);e.push({x:o*t+n,y:s+i})}),e=.85*r},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i,r;if("month"==e.name){if(n=new Date(1e3*t),i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3,i==t)return t;r=n.getUTCFullYear();var o=n.getUTCMonth();return 11==o?(o=0,r+=1):o+=1,Date.UTC(r,o)/1e3}return"year"==e.name?(n=new Date(1e3*t),i=Date.UTC(n.getUTCFullYear(),0)/1e3,i==t?t:(r=n.getUTCFullYear()+1,Date.UTC(r,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i,r;if("day"==e.name){var o=new Date(1e3*(t+e.seconds-1)),a=new Date(0);return a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.setDate(o.getDate()),a.setMonth(o.getMonth()),a.setFullYear(o.getFullYear()),a.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),i=new Date(n.getFullYear(),n.getMonth()).getTime()/1e3,i==t)return t;r=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,r+=1):s+=1,new Date(r,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),i=new Date(n.getUTCFullYear(),0).getTime()/1e3,i==t?t:(r=n.getFullYear()+1,new Date(r,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":1>e&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":1>e&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var i=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=i.schemes[n.scheme]||n.scheme||i.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var r,o,a=this.scheme.length-1,s=[];for(r=0;a>r;r++){s.push(this.scheme[r]);var u=t.interpolateHsl(this.scheme[r],this.scheme[r+1]);for(o=1;o<n.interpolatedStopCount;o++)s.push(u(1/n.interpolatedStopCount*o))}s.push(this.scheme[this.scheme.length-1]),this.scheme=s}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()
},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var i=e.key||e.name;if(!i)throw"data needs a key or a name";if(n==i){var r=["color","name","data"];r.forEach(function(n){e[n]&&(t[n]=e[n])})}})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,i){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:i})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],i=n.graph.x(t);if(0>i||i>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var r=e.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(){r.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=i+"px",e.element.style.display="block",e.boxes.forEach(function(t){var r=t.element;if(r||(r=t.element=document.createElement("div"),r.classList.add("content"),r.innerHTML=t.content,e.element.appendChild(r),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var o=i,a=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);o>a&&(a=i,o=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var s=a-o;t.rangeElement.style.left=o+"px",t.rangeElement.style.width=s+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=i+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var i=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=i.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){Math.floor(r/e.seconds)>=2&&(t=t||e)}),t||i.units[i.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),r=t[0],o=[],a=0;n>a;a++){var s=i.ceil(r,e);r=s+e.seconds/2,o.push({value:s,unit:e})}return o},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[];var t=this.tickOffsets();t.forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var i=document.createElement("div");i.classList.add("title"),i.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(i),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this,i=.1;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+i));var e=Math.floor(this.width*i/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var r,o=Math.floor(this.width*i/2)||0;if("top"==this.orientation){var a=this.height||this.graph.height;r="translate("+o+","+a+")"}else r="translate("+o+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var s=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(s)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var o=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||o||this.graph.width)*(1+i),this.height=e.height||r||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var i=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||i||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var i=this.height*this.berthRate,r="translate("+this.width+", "+i+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function(t,e){if("undefined"==typeof e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,this.grid="undefined"==typeof e.grid?!0:e.grid,t(e)},_drawAxis:function(e,n){var i=this.scale.domain(),r=this.graph.renderer.domain().y,o=[Math.min.apply(Math,i),Math.max.apply(Math,i)],a=t.scale.linear().domain([0,1]).range(o),s=[a(r[0]),a(r[1])],u=t.scale.linear().domain(o).range(s),c=this.scale.copy().domain(i.map(u)).range(n.range());return e(c)},_drawGrid:function(t,e){this.grid&&t(e)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,i={},r=null,o=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(){r||(r=t,n.legend.lines.forEach(function(e){if(t!==e)i[e.series.name]=i[e.series.name]||e.series.color,e.series.color=o(e.series.color);else if(n.graph.renderer.unstack&&(e.series.renderer?e.series.renderer.unstack:!0)){var r=n.graph.series.indexOf(e.series);e.originalIndex=r;var a=n.graph.series.splice(r,1)[0];n.graph.series.push(a)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(){r&&(r=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var r=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,r),delete e.originalIndex}i[e.series.name]&&(e.series.color=i[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(){var t=[];jQuery(e.legend.list).find("li").each(function(e,n){n.series&&t.push(n.series)});for(var n=e.graph.series.length-1;n>=0;n--)e.graph.series[n]=t.shift();e.graph.update()}}),jQuery(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}}.bind(this);var i=t.element.getElementsByTagName("span")[0];i.onclick=function(){var n=t.series.disabled;if(!n)for(var i=0;i<e.legend.lines.length;i++){var r=e.legend.lines[i];if(t.series===r.series);else if(!r.series.disabled){n=!0;break}}n?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")})}},this.legend){var n=jQuery;"undefined"!=typeof n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0,e.graph.update()},t.enable=function(){t.disabled=!1,e.graph.update()}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,i,r){return t.name+":&nbsp;"+r},update:function(e){if(e=e||this.lastEvent,e&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,i=this.graph,r=e.offsetX||e.layerX,o=e.offsetY||e.layerY,a=0,s=[];if(this.graph.series.active().forEach(function(e){var u=this.graph.stackedData[a++];if(u.length){var c=i.x.invert(r),l=t.scale.linear().domain([u[0].x,u.slice(-1)[0].x]).range([0,u.length-1]),h=Math.round(l(c));h==u.length-1&&h--;for(var f=Math.min(h||0,u.length-1),d=h;d<u.length-1&&(u[d]&&u[d+1]);){if(u[d].x<=c&&u[d+1].x>c){f=Math.abs(c-u[d].x)<Math.abs(c-u[d+1].x)?d:d+1;break}u[d+1].x<=c?d++:d--}0>f&&(f=0);var p=u[f],g=Math.sqrt(Math.pow(Math.abs(i.x(p.x)-r),2)+Math.pow(Math.abs(i.y(p.y+p.y0)-o),2)),m=e.xFormatter||this.xFormatter,v=e.yFormatter||this.yFormatter,y={formattedXValue:m(p.x),formattedYValue:v(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:g,order:a,name:e.name};(!n||g<n.distance)&&(n=y),s.push(y)}},this),n){n.active=!0;var u=n.value.x,c=n.formattedXValue;this.element.innerHTML="",this.element.style.left=i.x(u)+"px",this.visible&&this.render({points:s,detail:s,mouseX:r,mouseY:o,formattedXValue:c,domainX:u})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points,i=n.filter(function(t){return t.active}).shift();if(null!==i.value.y){var r=i.formattedXValue,o=i.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(i.value.x)+"px";var a=document.createElement("div");a.className="x_label",a.innerHTML=r,this.element.appendChild(a);var s=document.createElement("div");s.className="item";var u=i.series,c=u.scale?u.scale.invert(i.value.y):i.value.y;s.innerHTML=this.formatter(u,i.value.x,c,r,o,i),s.style.top=this.graph.y(i.value.y0+i.value.y)+"px",this.element.appendChild(s);var l=document.createElement("div");l.className="dot",l.style.top=s.style.top,l.style.borderColor=u.color,this.element.appendChild(l),i.active&&(s.classList.add("active"),l.classList.add("active"));var h=[a,s];h.forEach(function(t){t.classList.add("left")}),this.show();var f=this._calcLayoutError(h);if(f>0){h.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});var d=this._calcLayoutError(h);d>f&&h.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){{var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var i=t.getBoundingClientRect();i.width&&(i.right>e.right&&(n+=i.right-e.right),i.left<e.left&&(n+=e.left-i.left))})}return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=e.color,n.appendChild(i);var r=document.createElement("span");r.className="label",r.innerHTML=e.name,n.appendChild(r),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var o={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(o),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(o),this.lines.push(o),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=jQuery,i=e.dataDomain(),r=this;n(function(){n(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var i=e.dataDomain();i[0]==n.values[0]&&(e.window.xMin=void 0),i[1]==n.values[1]&&(e.window.xMax=void 0),r.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=jQuery,i=n(t).slider("option","values"),r=e.dataDomain();n(t).slider("option","min",r[0]),n(t).slider("option","max",r[1]),null==e.window.xMin&&(i[0]=r[0]),null==e.window.xMax&&(i[1]=r[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var i=e+2*this.config.frameHandleThickness,r=n+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",i+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var i=function(t){var i=e.extend({},t.config),r=n.previewHeight/n.graphs.length,o=t.renderer.name;e.extend(i,{element:this.appendChild(document.createElement("div")),height:r,width:n.previewWidth,series:t.series,renderer:o});var a=new e.Graph(i);n.previews.push(a),t.onUpdate(function(){a.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,a.configure(t),a.render()}),a.render()},r=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),o="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";r.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",o).style("-moz-transform",o).style("-ms-transform",o).style("transform",o).each(i),r.exit().remove();var a=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(a.dataDomain()),u=[a.window.xMin,a.window.xMax];this.currentFrame[0]=void 0===u[0]?0:Math.round(s.invert(u[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===u[1]?this.previewWidth:s.invert(u[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function e(){u.stop=c._getClientXFromEvent(t.event,u);var e=u.stop-u.start,n=c.frameBeforeDrag.slice(0),i=c.config.minimumFrameWidth;u.rigid&&(i=c.frameBeforeDrag[1]-c.frameBeforeDrag[0]),u.left&&(n[0]=Math.max(n[0]+e,0)),u.right&&(n[1]=Math.min(n[1]+e,c.previewWidth));var r=n[1]-n[0];i>=r&&(u.left&&(n[0]=n[1]-i),u.right&&(n[1]=n[0]+i),n[0]<=0&&(n[1]-=n[0],n[0]=0),n[1]>=c.previewWidth&&(n[0]-=n[1]-c.previewWidth,n[1]=c.previewWidth)),c.graphs.forEach(function(e){var i=t.scale.linear().interpolate(t.interpolateNumber).domain([0,c.previewWidth]).range(e.dataDomain()),r=[i(n[0]),i(n[1])];c.slideCallbacks.forEach(function(t){t(e,r[0],r[1])}),0===n[0]&&(r[0]=void 0),n[1]===c.previewWidth&&(r[1]=void 0),e.window.xMin=r[0],e.window.xMax=r[1],e.update()})}function n(){u.target=t.event.target,u.start=c._getClientXFromEvent(t.event,u),c.frameBeforeDrag=c.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",e),t.select(document).on("mouseup.rickshaw_range_slider_preview",a),t.select(document).on("touchmove.rickshaw_range_slider_preview",e),t.select(document).on("touchend.rickshaw_range_slider_preview",a),t.select(document).on("touchcancel.rickshaw_range_slider_preview",a)}function i(){u.left=!0,n()}function r(){u.right=!0,n()}function o(){u.left=!0,u.right=!0,u.rigid=!0,n()}function a(){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete c.frameBeforeDrag,u.left=!1,u.right=!1,u.rigid=!1}var s=t.select(this.element),u={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},c=this;s.select("rect.left_handle").on("mousedown",i),s.select("rect.right_handle").on("mousedown",r),s.select("rect.middle_handle").on("mousedown",o),s.select("rect.left_handle").on("touchstart",i),s.select("rect.right_handle").on("touchstart",r),s.select("rect.middle_handle").on("touchstart",o)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,i=null,r=0;r<n.length;r++)if(n[r].target===e.target){i=n[r];break}return null!==i?i.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),n=+1/0,i=-1/0,r=+1/0,o=-1/0;return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;r>e&&(r=e),e>o&&(o=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>i&&(i=t[t.length-1].x))}),n-=(i-n)*this.padding.left,i+=(i-n)*this.padding.right,r="auto"===this.graph.min?r:this.graph.min||0,o=void 0===this.graph.max?o:this.graph.max,("auto"===this.graph.min||0>r)&&(r-=(o-r)*this.padding.bottom),void 0===this.graph.max&&(o+=(o-r)*this.padding.top),{x:[n,i],y:[r,o]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var a=i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s],this.stroke&&(t.stroke=a[0][s]),this._styleSeries(t),s++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",i=this.stroke?e.color:"none";e.path.setAttribute("fill",n),e.path.setAttribute("stroke",i),e.path.setAttribute("stroke-width",this.strokeWidth),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){return t.hasOwnProperty(n)?void("object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]):void(this[n]=this[n]||this.graph[n]||this.defaults()[n])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function(t){return e.extend(t(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function(t){var n=e.extend(t(),{gapSize:.05,unstack:!1});return delete n.tension,n},initialize:function(t,e){e=e||{},this.gapSize=e.gapSize||this.gapSize,t(e)},domain:function(t){var e=t(),n=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return e.x[1]+=Number(n.magnitude),e},barWidth:function(t){var e=this._frequentInterval(t.stack),n=this.graph.x.magnitude(e.magnitude)*(1-this.gapSize);
return n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.barWidth(n.active()[0]),o=0,a=n.filter(function(t){return!t.disabled}).length,s=this.unstack?r/a:r,u=function(t){var n=[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0];return"matrix("+n.join(",")+")"};n.forEach(function(t){if(!t.disabled){var n=(this.barWidth(t),i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+o}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",s).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("transform",u));Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(o+=s)}},this)},_frequentInterval:function(t){for(var n={},i=0;i<t.length-1;i++){var r=t[i+1].x-t[i].x;n[r]=n[r]||0,n[r]++}var o={count:0,magnitude:1};return e.keys(n).forEach(function(t){o.count<n[t]&&(o={count:n[t],magnitude:t})}),o}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function(t){return e.extend(t(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.unstack?"append":"insert",o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=i.selectAll("path").data(o).enter()[r]("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(t,e){t(e)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});t.className&&n.classed(t.className,!0),Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function(t,e){t(e)},defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},configure:function(t,e){e=e||{},this.config=e,t(e)},domain:function(e){this.graph.stackData();var n=[],i=this._groups();this._stack(i),i.forEach(function(t){var i=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(i.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(i):e(i),n.push(r)}});var r=t.min(n.map(function(t){return t.x[0]})),o=t.max(n.map(function(t){return t.x[1]})),a=t.min(n.map(function(t){return t.y[0]})),s=t.max(n.map(function(t){return t.y[1]}));return{x:[r,o],y:[a,s]}},_groups:function(){var n=this.graph,i={};n.series.forEach(function(r){if(!r.disabled){if(!i[r.renderer]){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"g");n.vis[0][0].appendChild(a);var s=n._renderers[r.renderer],u={},c=[this.defaults(),s.defaults(),this.config,this.graph];c.forEach(function(t){e.extend(u,t)}),s.configure(u),i[r.renderer]={renderer:s,series:[],vis:t.select(a)}}i[r.renderer].series.push(r)}},this);var r=[];return Object.keys(i).forEach(function(t){var e=i[t];r.push(e)}),r},_stack:function(n){return n.forEach(function(n){var i=n.series.filter(function(t){return!t.disabled}),r=i.map(function(t){return t.stack});if(!n.renderer.unstack){var o=t.layout.stack(),a=e.clone(o(r));i.forEach(function(t,n){t._stack=e.clone(a[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove();var o=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=i.selectAll("path").data(o).enter().append("svg:path").attr("d",this.seriesPathFactory()),s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=jQuery;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value),t.graph.update()}})})},setScale:function(t){if(1>t)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var i=0,r=0,o=t.splice(0,this.aggregationScale);o.forEach(function(t){i+=t.x/o.length,r+=t.y/o.length}),n.push({x:i,y:r})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,i){i=i||{},this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase;var r="undefined"==typeof i.timeInterval?1e3:i.timeInterval;this.setTimeInterval(r),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if("undefined"==typeof t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var i=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(i*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,i=0,r=t.map(function(t){return t.data});i<Math.max.apply(null,r.map(function(t){return t.length}));)n=Math.min.apply(null,r.filter(function(t){return t[i]}).map(function(t){return t[i].x})),r.forEach(function(t){t[i]&&t[i].x==n||t.splice(i,0,{x:n,y:e})}),i++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,i){if(i=i||{},"undefined"==typeof i.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof i.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase,this.setTimeInterval(i.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=i.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;r>1;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function(t,e,n){if(t(e,n),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e}),define("rickshawPrivate",["rickshaw"],function(t){var e=window;return e.Rickshaw=void 0,t}),define("MeasurementsData",["underscore","backbone"],function(t,e){var n={},i={},r=[{attr:"temperature",color:"red",key:"Temp"},{attr:"pulse",color:"orange",key:"Pulse"},{attr:"sbp",color:"yellow",key:"SBP"},{attr:"dbp",color:"green",key:"DBP"},{attr:"respirations",color:"blue",key:"Resp"},{attr:"saturation",color:"indigo",key:"O2Sat"}];n.initialize=function(t){t||(t={}),this.measurements=t.measurements,this.initializeRickshawData(),this.listenTo(this.measurements,"all",this.delegateEvent)},n.delegateEvent=function(){var e,n=arguments[0],i=n.split(":")[0],r=[].slice.call(arguments,1);switch(i){case"add":this.addMeasurement.apply(this,r);break;case"remove":this.removeMeasurement.apply(this,r);break;case"change":(e=n.split(":")[1])&&t.contains(this.measurementNames,e)?this.updateMeasurement(r[0],e):"measuredAt"===e&&this.updateMeasurementTime(r[0])}};var o=function(e,n){return e[t.pluck(e,"attr").indexOf(n)].data},a=function(e,n){return t.pluck(e,"cid").indexOf(n.cid)},s=function(t){return t.get("measuredAt").valueOf()/1e3>>0},u=function(t,e){return t.x-e.x};return n.updateMeasurement=function(e,n){var i=o(this.rickshawData,n),r=a(i,e),c=e.get(n);t.isUndefined(c)?~r&&i.splice(r,1):~r?i[r].y=c:(i.push({x:s(e),y:c,cid:e.cid}),i.sort(u)),this.trigger("measurements:update")},n.updateMeasurementTime=function(t){for(var e=this.rickshawData,n=s(t),i=0,r=e.length;r>i;i++){var o=e[i].data,c=a(o,t);~c&&(o[c].x=n,o.sort(u))}this.trigger("measurements:update")},n.removeMeasurement=function(t){for(var e=this.rickshawData,n=0,i=e.length;i>n;n++){var r=e[n].data,o=a(r,t);~o&&r.splice(o,1)}this.trigger("measurements:update")},n.addMeasurement=function(e,n){var i=this.rickshawData,r=s(e),o=!0;n||(n={}),n.sort===!1&&(o=!1);for(var a=0,c=i.length;c>a;a++){var l=i[a].attr,h=i[a].data,f=e.get(l);t.isUndefined(f)||(h.push({x:r,y:f,cid:e.cid}),o&&h.sort(u))}this.trigger("measurements:update")},n.initializeRickshawData=function(){var e=this.rickshawData=[],n=this.measurementNames=[],i=this;t.each(r,function(t){e.push({color:t.color,name:t.key,data:[],attr:t.attr}),n.push(t.attr)}),this.measurements.forEach(function(t){i.addMeasurement(t,{sort:!1})})},n.onDestroy=function(){this.measurements=null},e.Marionette.Controller.extend(n,i)}),define("MeasurementsGraphView",["jquery","underscore","backbone","d3","rickshaw","MeasurementsData"],function(t,e,n,i,r,o){var a={},s={};return a.rickshawPlot=function(){var e,n={};n.renderer="lineplot",n.element=this.el,n.series=this.measurementsData.rickshawData,n.interpolation="linear",e=this.graph=new r.Graph(n),new r.Graph.HoverDetail({graph:e}),t("<div>").addClass("legend").appendTo(this.$el);var i=new r.Graph.Legend({graph:e,element:this.$(".legend")[0]});new r.Graph.Behavior.Series.Toggle({graph:e,legend:i}),new r.Graph.Behavior.Series.Highlight({graph:e,legend:i});var o=new r.Graph.Axis.Time({graph:e}),a=new r.Graph.Axis.Y({graph:e});e.render(),o.render(),a.render()},a.template=!1,a.initialize=function(t){n.Courier.add(this),this.measurementsData=new o({measurements:t.data}),this.listenTo(this.measurementsData,"measurements:update",function(){this.graph.update()})},a.onRender=function(){this.rickshawPlot()},n.Marionette.ItemView.extend(a,s)}),define("PatientView",["jquery","underscore","backbone","MeasurementsTableView","MeasurementEditView","MeasurementsGraphView"],function(t,e,n,i,r,o){var a={},s={};return a.el=t("#vitals-app")[0],a.initialize=function(){n.Courier.add(this),this.subViews=[];var e=this.measurementsGraphView=new o({el:t("#vitals-chart")[0],data:this.model.vitals,collection:this.model.vitals});e.render(),this.subViews.push(e),this.$el.find("#vitals-chart").append(e.el);var a=this.measurementInput=new r;a.render(),this.subViews.push(a),this.$el.find("#vitals-table").find("tbody").append(a.el),this.listenTo(a,"measurement:submit",this.addMeasurement);var s=this.measurementsTable=new i({collection:this.model.vitals});this.subViews.push(s),this.$el.find("#vitals-table").append(s.el)},a.addMeasurement=function(t,e){this.model.createMeasurement(t.toJSON()),e.resetMeasurement()},a.close=function(){this.off(),this.stopListening(),e.each(this.subViews,function(t){t.close()}),this.remove()},n.View.extend(a,s)});var patient,patientView;define("app",["jquery","underscore","backbone","Patient","PatientView"],function(t,e,n,i,r){var o,a={};return a.channelName="vitalsApp",a.initialize=function(){patient=new i({id:"12345"}),patientView=new r({model:patient})},new(o=n.Marionette.Application.extend(a))}),requirejs.config({config:{moment:{noGlobal:!0}},map:{"*":{backbone:"backbonePrivate",d3:"d3Private",jquery:"jqueryPrivate",rickshaw:"rickshawPrivate",marionette:"marionettePrivate",showdown:"showdownPrivate",underscore:"underscorePrivate"},"backbone.courier":{backbone:"backbone"},"backbone.forms":{backbone:"backbone"},"backbone.localstorage":{backbone:"backbone"},"backbone.validation":{backbone:"backbone"},backbonePrivate:{backbone:"backbone"},d3Private:{d3:"d3"},jqueryPrivate:{jquery:"jquery"},marionette:{backbone:"backbone"},marionettePrivate:{marionette:"marionette"},rickshawPrivate:{rickshaw:"rickshaw"},showdownPrivate:{showdown:"showdown"},"underscore.string":{underscore:"underscore"},underscorePrivate:{underscore:"underscore"}},paths:{backbone:"../bower_components/backbone/backbone",backbonePrivate:"./lib/backbonePrivate","backbone.courier":"../bower_components/backbone.courier/dist/backbone.courier","backbone.localstorage":"../bower_components/backbone.localstorage/backbone.localStorage","backbone.forms":"../bower_components/backbone-forms/distribution.amd/backbone-forms","backbone.validation":"../bower_components/backbone-validation/dist/backbone-validation-amd",bootstrap:"./lib/bootstrap","bootstrap.affix":"../bower_components/bootstrap-stylus/js/affix","bootstrap.alert":"../bower_components/bootstrap-stylus/js/alert","bootstrap.button":"../bower_components/bootstrap-stylus/js/button","bootstrap.carousel":"../bower_components/bootstrap-stylus/js/carousel","bootstrap.collapse":"../bower_components/bootstrap-stylus/js/collapse","bootstrap.dropdown":"../bower_components/bootstrap-stylus/js/dropdown","bootstrap.modal":"../bower_components/bootstrap-stylus/js/modal","bootstrap.popover":"../bower_components/bootstrap-stylus/js/popover","bootstrap.scrollspy":"../bower_components/bootstrap-stylus/js/scrollspy","bootstrap.tab":"../bower_components/bootstrap-stylus/js/tab","bootstrap.tooltip":"../bower_components/bootstrap-stylus/js/tooltip","bootstrap.transition":"../bower_components/bootstrap-stylus/js/transition",CommentBox:"react_components/CommentBox","bootstrap-datetimepicker":"../bower_components/eonasdan-bootstrap-datetimepicker/src/js/bootstrap-datetimepicker",customParsers:"mixins/customParsers",customValidators:"mixins/customValidators",d3:"../bower_components/d3/d3",d3Private:"lib/d3Private",DatePickerView:"views/DatePickerView",DatePickerViewOrig:"views/DatePickerViewOrig",FilterableProductTable:"react_components/FilterableProductTable",HelloWorld:"react_components/HelloWorld",InputView:"views/InputView",InputViewOrig:"views/InputViewOrig",jquery:"../bower_components/jquery/dist/jquery",jqueryPrivate:"./lib/jqueryPrivate",jsx:"../bower_components/require-jsx/jsx",JSXTransformer:"../bower_components/react/JSXTransformer",marionette:"../bower_components/marionette/lib/backbone.marionette",marionettePrivate:"./lib/marionettePrivate",Measurement:"models/Measurement",Measurements:"collections/Measurements",MeasurementsData:"controllers/MeasurementsData",MeasurementEditView:"views/MeasurementEditView",MeasurementsGraphView:"views/MeasurementsGraphView",MeasurementShowView:"views/MeasurementShowView",MeasurementsTableView:"views/MeasurementsTableView",moment:"../bower_components/moment/moment",Patient:"models/Patient",PatientView:"views/PatientView",react:"../bower_components/react/react-with-addons",rickshaw:"../bower_components/rickshaw/rickshaw",rickshawPrivate:"lib/rickshawPrivate",showdown:"../bower_components/showdown/src/showdown",showdownPrivate:"lib/showdownPrivate",simpleLineGraph:"views/simpleLineGraph",sinon:"../bower_components/sinonjs/sinon",text:"../bower_components/text/text",TimePickerView:"views/TimePickerView",Timer:"react_components/Timer",underscore:"../bower_components/underscore/underscore","underscore.string":"../bower_components/underscore.string/lib/underscore.string",underscorePrivate:"./lib/underscorePrivate"},shim:{"bootstrap.affix":{deps:["jquery"]},"bootstrap.alert":{deps:["jquery"]},"bootstrap.button":{deps:["jquery"]},"bootstrap.carousel":{deps:["jquery"]},"bootstrap.collapse":{deps:["jquery"]},"bootstrap.dropdown":{deps:["jquery"]},"bootstrap.modal":{deps:["jquery"]},"bootstrap.popover":{deps:["jquery","bootstrap.tooltip"]},"bootstrap.scrollspy":{deps:["jquery"]},"bootstrap.tab":{deps:["jquery"]},"bootstrap.tooltip":{deps:["jquery"]},"bootstrap.transition":{deps:["jquery"]},d3:{exports:"d3"},showdown:{exports:"Showdown"}}}),require(["app"],function(t){t.start()}),define("main",function(){});
//# sourceMappingURL=built.js.map